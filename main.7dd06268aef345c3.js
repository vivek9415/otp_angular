"use strict";(self.webpackChunkfoodorder=self.webpackChunkfoodorder||[]).push([[179],{2011:(yt,Ae,L)=>{L.d(Ae,{Dh:()=>ve,GT:()=>fe,cc:()=>Se,hO:()=>ze,on:()=>j,pX:()=>ae,xv:()=>ye});var g=L(4650),te=L(1274),k=L(710);yt=L.hmd(yt);const ie=["ngOnDestroy"],ae=(pe,dt,mt,Ue={})=>new Proxy(pe,{get:(be,Ie)=>mt.runOutsideAngular(()=>{var Ge;if(pe[Ie])return!(null===(Ge=Ue?.spy)||void 0===Ge)&&Ge.get&&Ue.spy.get(Ie,pe[Ie]),pe[Ie];if(ie.indexOf(Ie)>-1)return()=>{};const je=dt.toPromise().then(ge=>{const W=ge&&ge[Ie];return"function"==typeof W?W.bind(ge):W&&W.then?W.then(K=>mt.run(()=>K)):mt.run(()=>W)});return new Proxy(()=>{},{get:(ge,W)=>je[W],apply:(ge,W,K)=>je.then(J=>{var ce;const se=J&&J(...K);return!(null===(ce=Ue?.spy)||void 0===ce)&&ce.apply&&Ue.spy.apply(Ie,K,se),se})})})}),fe=(pe,dt)=>{dt.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(Ue=>{Object.defineProperty(pe.prototype,Ue,Object.getOwnPropertyDescriptor(mt.prototype||mt,Ue))})})};class de{constructor(dt){return dt}}const ve=new g.OlP("angularfire2.app.options"),ye=new g.OlP("angularfire2.app.name");function j(pe,dt,mt){const be="object"==typeof mt&&mt||{};be.name=be.name||"string"==typeof mt&&mt||"[DEFAULT]";const Ge=te.Z.apps.filter(je=>je&&je.name===be.name)[0]||dt.runOutsideAngular(()=>te.Z.initializeApp(pe,be));try{JSON.stringify(pe)!==JSON.stringify(Ge.options)&&G("error",`${Ge.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Ge)}const G=(pe,...dt)=>{(0,g.X6Q)()&&typeof console<"u"&&console[pe](...dt)},Y={provide:de,useFactory:j,deps:[ve,g.R0b,[new g.FiY,ye]]};let ze=(()=>{class pe{constructor(mt){te.Z.registerVersion("angularfire",k.q4.full,"core"),te.Z.registerVersion("angularfire",k.q4.full,"app-compat"),te.Z.registerVersion("angular",g.q4F.full,mt.toString())}static initializeApp(mt,Ue){return{ngModule:pe,providers:[{provide:ve,useValue:mt},{provide:ye,useValue:Ue}]}}}return pe.\u0275fac=function(mt){return new(mt||pe)(g.LFG(g.Lbi))},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({providers:[Y]}),pe})();function Se(pe,dt,mt,Ue,be){const[,Ie,Ge]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(Ie)return function De(pe,dt){try{return pe.toString()===dt.toString()}catch{return pe===dt}}(be,Ge)||(Ce("error",`${dt} was already initialized on the ${mt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:be,was:Ge})),Ie;{const je=Ue();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,be]),je}}const it=!!yt.hot,Ce=(pe,...dt)=>{(0,g.X6Q)()&&typeof console<"u"&&console[pe](...dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},710:(yt,Ae,L)=>{L.d(Ae,{q4:()=>ws,iC:()=>fl,HU:()=>So,vb:()=>Ao,JM:()=>dl});var g=L(4650),te=L(8140),k=L(5861),ie=L(9681),ae=L(2090),fe=L(4859),de=L(1877);let ye,j;const ze=new WeakMap,Se=new WeakMap,De=new WeakMap,it=new WeakMap,Ce=new WeakMap;let mt={get(E,D,x){if(E instanceof IDBTransaction){if("done"===D)return Se.get(E);if("objectStoreNames"===D)return E.objectStoreNames||De.get(E);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ge(E[D])},set:(E,D,x)=>(E[D]=x,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Ie(E){return"function"==typeof E?function be(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(je(this),D),Ge(ze.get(this))}:function(...D){return Ge(E.apply(je(this),D))}:function(D,...x){const O=E.call(je(this),D,...x);return De.set(O,D.sort?D.sort():[D]),Ge(O)}}(E):(E instanceof IDBTransaction&&function dt(E){if(Se.has(E))return;const D=new Promise((x,O)=>{const Z=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",me),E.removeEventListener("abort",me)},X=()=>{x(),Z()},me=()=>{O(E.error||new DOMException("AbortError","AbortError")),Z()};E.addEventListener("complete",X),E.addEventListener("error",me),E.addEventListener("abort",me)});Se.set(E,D)}(E),((E,D)=>D.some(x=>E instanceof x))(E,function G(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,mt):E)}function Ge(E){if(E instanceof IDBRequest)return function pe(E){const D=new Promise((x,O)=>{const Z=()=>{E.removeEventListener("success",X),E.removeEventListener("error",me)},X=()=>{x(Ge(E.result)),Z()},me=()=>{O(E.error),Z()};E.addEventListener("success",X),E.addEventListener("error",me)});return D.then(x=>{x instanceof IDBCursor&&ze.set(x,E)}).catch(()=>{}),Ce.set(D,E),D}(E);if(it.has(E))return it.get(E);const D=Ie(E);return D!==E&&(it.set(E,D),Ce.set(D,E)),D}const je=E=>Ce.get(E),K=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],ce=new Map;function se(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(ce.get(D))return ce.get(D);const x=D.replace(/FromIndex$/,""),O=D!==x,Z=J.includes(x);if(!(x in(O?IDBIndex:IDBObjectStore).prototype)||!Z&&!K.includes(x))return;const X=function(){var me=(0,k.Z)(function*(Ye,...We){const at=this.transaction(Ye,Z?"readwrite":"readonly");let St=at.store;return O&&(St=St.index(We.shift())),(yield Promise.all([St[x](...We),Z&&at.done]))[0]});return function(We){return me.apply(this,arguments)}}();return ce.set(D,X),X}!function Ue(E){mt=E(mt)}(E=>({...E,get:(D,x,O)=>se(D,x)||E.get(D,x,O),has:(D,x)=>!!se(D,x)||E.has(D,x)}));const Fe="@firebase/installations",Lt="w:0.6.4",Ot="FIS_v2",on=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dn(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function or({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Fr(E){return{token:E.token,requestStatus:2,expiresIn:co(E.expiresIn),creationTime:Date.now()}}function Vr(E,D){return wn.apply(this,arguments)}function wn(){return(wn=(0,k.Z)(function*(E,D){const O=(yield D.json()).error;return on.create("request-failed",{requestName:E,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function uo({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ci(E,{refreshToken:D}){const x=uo(E);return x.append("Authorization",function Ps(E){return`${Ot} ${E}`}(D)),x}function Ur(E){return qr.apply(this,arguments)}function qr(){return(qr=(0,k.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function co(E){return Number(E.replace("s","000"))}function st(E,D){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:x}){const O=or(E),Z=uo(E),X=D.getImmediate({optional:!0});if(X){const at=yield X.getHeartbeatsHeader();at&&Z.append("x-firebase-client",at)}const Ye={method:"POST",headers:Z,body:JSON.stringify({fid:x,authVersion:Ot,appId:E.appId,sdkVersion:Lt})},We=yield Ur(()=>fetch(O,Ye));if(We.ok){const at=yield We.json();return{fid:at.fid||x,registrationStatus:2,refreshToken:at.refreshToken,authToken:Fr(at.authToken)}}throw yield Vr("Create Installation",We)})).apply(this,arguments)}function Zr(E){return new Promise(D=>{setTimeout(D,E)})}const ks=/^[cdef][\w-]{21}$/;function un(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function Dn(E){return function dr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return ks.test(x)?x:""}catch{return""}}function en(E){return`${E.appName}!${E.appId}`}const ot=new Map;function ht(E,D){const x=en(E);ar(x,D),function kn(E,D){const x=function $i(){return!Et&&"BroadcastChannel"in self&&(Et=new BroadcastChannel("[Firebase] FID Change"),Et.onmessage=E=>{ar(E.data.key,E.data.fid)}),Et}();x&&x.postMessage({key:E,fid:D}),function Jt(){0===ot.size&&Et&&(Et.close(),Et=null)}()}(x,D)}function ar(E,D){const x=ot.get(E);if(x)for(const O of x)O(D)}let Et=null;const xn="firebase-installations-store";let Qn=null;function Ee(){return Qn||(Qn=function ge(E,D,{blocked:x,upgrade:O,blocking:Z,terminated:X}={}){const me=indexedDB.open(E,D),Ye=Ge(me);return O&&me.addEventListener("upgradeneeded",We=>{O(Ge(me.result),We.oldVersion,We.newVersion,Ge(me.transaction))}),x&&me.addEventListener("blocked",()=>x()),Ye.then(We=>{X&&We.addEventListener("close",()=>X()),Z&&We.addEventListener("versionchange",()=>Z())}).catch(()=>{}),Ye}("firebase-installations-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(xn)}})),Qn}function H(E,D){return we.apply(this,arguments)}function we(){return(we=(0,k.Z)(function*(E,D){const x=en(E),Z=(yield Ee()).transaction(xn,"readwrite"),X=Z.objectStore(xn),me=yield X.get(x);return yield X.put(D,x),yield Z.done,(!me||me.fid!==D.fid)&&ht(E,D.fid),D})).apply(this,arguments)}function qe(E){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,k.Z)(function*(E){const D=en(E),O=(yield Ee()).transaction(xn,"readwrite");yield O.objectStore(xn).delete(D),yield O.done})).apply(this,arguments)}function gt(E,D){return qt.apply(this,arguments)}function qt(){return(qt=(0,k.Z)(function*(E,D){const x=en(E),Z=(yield Ee()).transaction(xn,"readwrite"),X=Z.objectStore(xn),me=yield X.get(x),Ye=D(me);return void 0===Ye?yield X.delete(x):yield X.put(Ye,x),yield Z.done,Ye&&(!me||me.fid!==Ye.fid)&&ht(E,Ye.fid),Ye})).apply(this,arguments)}function B(E){return U.apply(this,arguments)}function U(){return(U=(0,k.Z)(function*(E){let D;const x=yield gt(E.appConfig,O=>{const Z=Q(O),X=le(E,Z);return D=X.registrationPromise,X.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function Q(E){return Ve(E||{fid:un(),registrationStatus:0})}function le(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(on.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},O=function re(E,D){return Ke.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:O}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Nt(E)}:{installationEntry:D}}function Ke(){return(Ke=(0,k.Z)(function*(E,D){try{const x=yield st(E,D);return H(E.appConfig,x)}catch(x){throw dn(x)&&409===x.customData.serverCode?yield qe(E.appConfig):yield H(E.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Nt(E){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,k.Z)(function*(E){let D=yield hn(E.appConfig);for(;1===D.registrationStatus;)yield Zr(100),D=yield hn(E.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:O}=yield B(E);return O||x}return D})).apply(this,arguments)}function hn(E){return gt(E,D=>{if(!D)throw on.create("installation-not-found");return Ve(D)})}function Ve(E){return function ft(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function bt(E,D){return _n.apply(this,arguments)}function _n(){return(_n=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:D},x){const O=Br(E,x),Z=ci(E,x),X=D.getImmediate({optional:!0});if(X){const at=yield X.getHeartbeatsHeader();at&&Z.append("x-firebase-client",at)}const Ye={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:Lt,appId:E.appId}})},We=yield Ur(()=>fetch(O,Ye));if(We.ok)return Fr(yield We.json());throw yield Vr("Generate Auth Token",We)})).apply(this,arguments)}function Br(E,{fid:D}){return`${or(E)}/${D}/authTokens:generate`}function Cn(E){return cs.apply(this,arguments)}function cs(){return(cs=(0,k.Z)(function*(E,D=!1){let x;const O=yield gt(E.appConfig,X=>{if(!Ls(X))throw on.create("not-registered");const me=X.authToken;if(!D&&Du(me))return X;if(1===me.requestStatus)return x=bn(E,D),X;{if(!navigator.onLine)throw on.create("app-offline");const Ye=Jn(X);return x=Vt(E,Ye),Ye}});return x?yield x:O.authToken})).apply(this,arguments)}function bn(E,D){return lo.apply(this,arguments)}function lo(){return(lo=(0,k.Z)(function*(E,D){let x=yield ls(E.appConfig);for(;1===x.authToken.requestStatus;)yield Zr(100),x=yield ls(E.appConfig);const O=x.authToken;return 0===O.requestStatus?Cn(E,D):O})).apply(this,arguments)}function ls(E){return gt(E,D=>{if(!Ls(D))throw on.create("not-registered");return function ds(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Vt(E,D){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,k.Z)(function*(E,D){try{const x=yield bt(E,D),O=Object.assign(Object.assign({},D),{authToken:x});return yield H(E.appConfig,O),x}catch(x){if(!dn(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const O=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield H(E.appConfig,O)}else yield qe(E.appConfig);throw x}})).apply(this,arguments)}function Ls(E){return void 0!==E&&2===E.registrationStatus}function Du(E){return 2===E.requestStatus&&!function Fs(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+36e5}(E)}function Jn(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}function Kr(){return(Kr=(0,k.Z)(function*(E){const D=E,{installationEntry:x,registrationPromise:O}=yield B(D);return O?O.catch(console.error):Cn(D).catch(console.error),x.fid})).apply(this,arguments)}function Ea(){return(Ea=(0,k.Z)(function*(E,D=!1){const x=E;return yield fn(x),(yield Cn(x,D)).token})).apply(this,arguments)}function fn(E){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,k.Z)(function*(E){const{registrationPromise:D}=yield B(E);D&&(yield D)})).apply(this,arguments)}function Xn(E){return on.create("missing-app-config-values",{valueName:E})}const jr="installations",wa=E=>{const D=E.getProvider("app").getImmediate(),x=function od(E){if(!E||!E.options)throw Xn("App Configuration");if(!E.name)throw Xn("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!E.options[x])throw Xn(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,ie._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},zi=E=>{const D=E.getProvider("app").getImmediate(),x=(0,ie._getProvider)(D,jr).getImmediate();return{getId:()=>function Vs(E){return Kr.apply(this,arguments)}(x),getToken:Z=>function Ia(E){return Ea.apply(this,arguments)}(x,Z)}};(function Si(){(0,ie._registerComponent)(new fe.wA(jr,wa,"PUBLIC")),(0,ie._registerComponent)(new fe.wA("installations-internal",zi,"PRIVATE"))})(),(0,ie.registerVersion)(Fe,"0.6.4"),(0,ie.registerVersion)(Fe,"0.6.4","esm2017");const $o="@firebase/remote-config",vn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class li{constructor(D,x,O,Z){this.client=D,this.storage=x,this.storageCache=O,this.logger=Z}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-x,Z=O<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Z}.`),Z}fetch(D){var x=this;return(0,k.Z)(function*(){const[O,Z]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Z&&x.isCachedDataFresh(D.cacheMaxAgeMillis,O))return Z;D.eTag=Z&&Z.eTag;const X=yield x.client.fetch(D),me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&me.push(x.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(me),X})()}}function md(E=navigator){return E.languages&&E.languages[0]||E.language}class ba{constructor(D,x,O,Z,X,me){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=O,this.projectId=Z,this.apiKey=X,this.appId=me}fetch(D){var x=this;return(0,k.Z)(function*(){const[O,Z]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},We={sdk_version:x.sdkVersion,app_instance_id:O,app_instance_id_token:Z,app_id:x.appId,language_code:md()},at={method:"POST",headers:Ye,body:JSON.stringify(We)},St=fetch(me,at),Rt=new Promise((yr,Qi)=>{D.signal.addEventListener(()=>{const rc=new Error("The operation was aborted.");rc.name="AbortError",Qi(rc)})});let pi;try{yield Promise.race([St,Rt]),pi=yield St}catch(yr){let Qi="fetch-client-network";throw"AbortError"===yr?.name&&(Qi="fetch-timeout"),vn.create(Qi,{originalErrorMessage:yr?.message})}let Ln=pi.status;const gi=pi.headers.get("ETag")||void 0;let nc,mr;if(200===pi.status){let yr;try{yr=yield pi.json()}catch(Qi){throw vn.create("fetch-client-parse",{originalErrorMessage:Qi?.message})}nc=yr.entries,mr=yr.state}if("INSTANCE_STATE_UNSPECIFIED"===mr?Ln=500:"NO_CHANGE"===mr?Ln=304:("NO_TEMPLATE"===mr||"EMPTY_CONFIG"===mr)&&(nc={}),304!==Ln&&200!==Ln)throw vn.create("fetch-status",{httpStatus:Ln});return{status:Ln,eTag:gi,config:nc}})()}}class xf{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,k.Z)(function*(){const O=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,O)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:O}){var Z=this;return(0,k.Z)(function*(){yield function Bc(E,D){return new Promise((x,O)=>{const Z=Math.max(D-Date.now(),0),X=setTimeout(x,Z);E.addEventListener(()=>{clearTimeout(X),O(vn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const X=yield Z.client.fetch(D);return yield Z.storage.deleteThrottleMetadata(),X}catch(X){if(!function Su(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(X))throw X;const me={throttleEndTimeMillis:Date.now()+(0,ae.$s)(O),backoffCount:O+1};return yield Z.storage.setThrottleMetadata(me),Z.attemptFetch(D,me)}})()}}class Rf{constructor(D,x,O,Z,X){this.app=D,this._client=x,this._storageCache=O,this._storage=Z,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cr(E,D){const x=E.target.error||void 0;return vn.create(D,{originalErrorMessage:x&&x?.message})}const Ar="app_namespace_store";class mw{constructor(D,x,O,Z=function Mu(){return new Promise((E,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=O=>{D(cr(O,"storage-open"))},x.onsuccess=O=>{E(O.target.result)},x.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(Ar,{keyPath:"compositeKey"})}}catch(x){D(vn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=D,this.appName=x,this.namespace=O,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,k.Z)(function*(){const O=yield x.openDbPromise;return new Promise((Z,X)=>{const Ye=O.transaction([Ar],"readonly").objectStore(Ar),We=x.createCompositeKey(D);try{const at=Ye.get(We);at.onerror=St=>{X(cr(St,"storage-get"))},at.onsuccess=St=>{const Rt=St.target.result;Z(Rt?Rt.value:void 0)}}catch(at){X(vn.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(D,x){var O=this;return(0,k.Z)(function*(){const Z=yield O.openDbPromise;return new Promise((X,me)=>{const We=Z.transaction([Ar],"readwrite").objectStore(Ar),at=O.createCompositeKey(D);try{const St=We.put({compositeKey:at,value:x});St.onerror=Rt=>{me(cr(Rt,"storage-set"))},St.onsuccess=()=>{X()}}catch(St){me(vn.create("storage-set",{originalErrorMessage:St?.message}))}})})()}delete(D){var x=this;return(0,k.Z)(function*(){const O=yield x.openDbPromise;return new Promise((Z,X)=>{const Ye=O.transaction([Ar],"readwrite").objectStore(Ar),We=x.createCompositeKey(D);try{const at=Ye.delete(We);at.onerror=St=>{X(cr(St,"storage-delete"))},at.onsuccess=()=>{Z()}}catch(at){X(vn.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class On{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,k.Z)(function*(){const x=D.storage.getLastFetchStatus(),O=D.storage.getLastSuccessfulFetchTimestampMillis(),Z=D.storage.getActiveConfig(),X=yield x;X&&(D.lastFetchStatus=X);const me=yield O;me&&(D.lastSuccessfulFetchTimestampMillis=me);const Ye=yield Z;Ye&&(D.activeConfig=Ye)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Yr(){return jc.apply(this,arguments)}function jc(){return(jc=(0,k.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}let Ho,Zt;!function fs(){(0,ie._registerComponent)(new fe.wA("remote-config",function E(D,{instanceIdentifier:x}){const O=D.getProvider("app").getImmediate(),Z=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vn.create("registration-window");if(!(0,ae.hl)())throw vn.create("indexed-db-unavailable");const{projectId:X,apiKey:me,appId:Ye}=O.options;if(!X)throw vn.create("registration-project-id");if(!me)throw vn.create("registration-api-key");if(!Ye)throw vn.create("registration-app-id");const We=new mw(Ye,O.name,x=x||"firebase"),at=new On(We),St=new de.Yd($o);St.logLevel=de.in.ERROR;const Rt=new ba(Z,ie.SDK_VERSION,x,X,me,Ye),pi=new xf(Rt,We),Ln=new li(pi,We,at,St),gi=new Rf(O,Ln,at,We,St);return function Vg(E){const D=(0,ae.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(gi),gi},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)($o,"0.4.4"),(0,ie.registerVersion)($o,"0.4.4","esm2017")}();const yd=new WeakMap,Qr=new WeakMap,Aa=new WeakMap,hr=new WeakMap,Pt=new WeakMap;let Go={get(E,D,x){if(E instanceof IDBTransaction){if("done"===D)return Qr.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Aa.get(E);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ri(E[D])},set:(E,D,x)=>(E[D]=x,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Sa(E){return"function"==typeof E?function vd(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ps(){return Zt||(Zt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(xa(this),D),Ri(yd.get(this))}:function(...D){return Ri(E.apply(xa(this),D))}:function(D,...x){const O=E.call(xa(this),D,...x);return Aa.set(O,D.sort?D.sort():[D]),Ri(O)}}(E):(E instanceof IDBTransaction&&function Pf(E){if(Qr.has(E))return;const D=new Promise((x,O)=>{const Z=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",me),E.removeEventListener("abort",me)},X=()=>{x(),Z()},me=()=>{O(E.error||new DOMException("AbortError","AbortError")),Z()};E.addEventListener("complete",X),E.addEventListener("error",me),E.addEventListener("abort",me)});Qr.set(E,D)}(E),((E,D)=>D.some(x=>E instanceof x))(E,function Mf(){return Ho||(Ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Go):E)}function Ri(E){if(E instanceof IDBRequest)return function Nf(E){const D=new Promise((x,O)=>{const Z=()=>{E.removeEventListener("success",X),E.removeEventListener("error",me)},X=()=>{x(Ri(E.result)),Z()},me=()=>{O(E.error),Z()};E.addEventListener("success",X),E.addEventListener("error",me)});return D.then(x=>{x instanceof IDBCursor&&yd.set(x,E)}).catch(()=>{}),Pt.set(D,E),D}(E);if(hr.has(E))return hr.get(E);const D=Sa(E);return D!==E&&(hr.set(E,D),Pt.set(D,E)),D}const xa=E=>Pt.get(E);function xe(E,D,{blocked:x,upgrade:O,blocking:Z,terminated:X}={}){const me=indexedDB.open(E,D),Ye=Ri(me);return O&&me.addEventListener("upgradeneeded",We=>{O(Ri(me.result),We.oldVersion,We.newVersion,Ri(me.transaction))}),x&&me.addEventListener("blocked",()=>x()),Ye.then(We=>{X&&We.addEventListener("close",()=>X()),Z&&We.addEventListener("versionchange",()=>Z())}).catch(()=>{}),Ye}function jt(E,{blocked:D}={}){const x=indexedDB.deleteDatabase(E);return D&&x.addEventListener("blocked",()=>D()),Ri(x).then(()=>{})}const $c=["get","getKey","getAll","getAllKeys","count"],Hc=["put","add","delete","clear"],Rn=new Map;function Pu(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Rn.get(D))return Rn.get(D);const x=D.replace(/FromIndex$/,""),O=D!==x,Z=Hc.includes(x);if(!(x in(O?IDBIndex:IDBObjectStore).prototype)||!Z&&!$c.includes(x))return;const X=function(){var me=(0,k.Z)(function*(Ye,...We){const at=this.transaction(Ye,Z?"readwrite":"readonly");let St=at.store;return O&&(St=St.index(We.shift())),(yield Promise.all([St[x](...We),Z&&at.done]))[0]});return function(We){return me.apply(this,arguments)}}();return Rn.set(D,X),X}!function _d(E){Go=E(Go)}(E=>({...E,get:(D,x,O)=>Pu(D,x)||E.get(D,x,O),has:(D,x)=>!!Pu(D,x)||E.has(D,x)}));const zo="/firebase-messaging-sw.js",Jr="/firebase-cloud-messaging-push-scope",Ra="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ku="google.c.a.c_id",Id="google.c.a.c_l",Ed="google.c.a.ts",Wo="google.c.a.e";var Sr=(()=>{return(E=Sr||(Sr={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Sr;var E})();function Xr(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gs(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(x),Z=new Uint8Array(O.length);for(let X=0;X<O.length;++X)Z[X]=O.charCodeAt(X);return Z}const hi="fcm_token_details_db",po="fcm_token_object_Store";function Bg(E){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(hi))return null;let D=null;return(yield xe(hi,5,{upgrade:(O=(0,k.Z)(function*(Z,X,me,Ye){var We;if(X<2||!Z.objectStoreNames.contains(po))return;const at=Ye.objectStore(po),St=yield at.index("fcmSenderId").get(E);if(yield at.clear(),St)if(2===X){const Rt=St;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;D={token:Rt.fcmToken,createTime:null!==(We=Rt.createTime)&&void 0!==We?We:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:Xr(Rt.vapidKey)}}}else if(3===X){const Rt=St;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Xr(Rt.auth),p256dh:Xr(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Xr(Rt.vapidKey)}}}else if(4===X){const Rt=St;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Xr(Rt.auth),p256dh:Xr(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Xr(Rt.vapidKey)}}}}),function(X,me,Ye,We){return O.apply(this,arguments)})})).close(),yield jt(hi),yield jt("fcm_vapid_details_db"),yield jt("undefined"),Cd(D)?D:null;var O}),Ou.apply(this,arguments)}function Cd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Mi="firebase-messaging-store";let Lu=null;function Na(){return Lu||(Lu=xe("firebase-messaging-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Mi)}})),Lu}function zc(E){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,k.Z)(function*(E){const D=ms(E),O=yield(yield Na()).transaction(Mi).objectStore(Mi).get(D);if(O)return O;{const Z=yield Bg(E.appConfig.senderId);if(Z)return yield Wc(E,Z),Z}})).apply(this,arguments)}function Wc(E,D){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(E,D){const x=ms(E),Z=(yield Na()).transaction(Mi,"readwrite");return yield Z.objectStore(Mi).put(D,x),yield Z.done,D})).apply(this,arguments)}function bd(E){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(E){const D=ms(E),O=(yield Na()).transaction(Mi,"readwrite");yield O.objectStore(Mi).delete(D),yield O.done})).apply(this,arguments)}function ms({appConfig:E}){return E.appId}const Kt=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wi(E,D){return In.apply(this,arguments)}function In(){return(In=(0,k.Z)(function*(E,D){const x=yield qo(E),O=Zo(D),Z={method:"POST",headers:x,body:JSON.stringify(O)};let X;try{X=yield(yield fetch(Bs(E.appConfig),Z)).json()}catch(me){throw Kt.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(X.error)throw Kt.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw Kt.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function qc(E,D){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,k.Z)(function*(E,D){const x=yield qo(E),O=Zo(D.subscriptionOptions),Z={method:"PATCH",headers:x,body:JSON.stringify(O)};let X;try{X=yield(yield fetch(`${Bs(E.appConfig)}/${D.token}`,Z)).json()}catch(me){throw Kt.create("token-update-failed",{errorInfo:me?.toString()})}if(X.error)throw Kt.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw Kt.create("token-update-no-token");return X.token})).apply(this,arguments)}function Fu(E,D){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,k.Z)(function*(E,D){const O={method:"DELETE",headers:yield qo(E)};try{const X=yield(yield fetch(`${Bs(E.appConfig)}/${D}`,O)).json();if(X.error)throw Kt.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(Z){throw Kt.create("token-unsubscribe-failed",{errorInfo:Z?.toString()})}})).apply(this,arguments)}function Bs({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function qo(E){return ys.apply(this,arguments)}function ys(){return(ys=(0,k.Z)(function*({appConfig:E,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Zo({p256dh:E,auth:D,endpoint:x,vapidKey:O}){const Z={web:{endpoint:x,auth:D,p256dh:E}};return O!==Ra&&(Z.web.applicationPubKey=O),Z}const qi=6048e5;function Vu(E){return js.apply(this,arguments)}function js(){return(js=(0,k.Z)(function*(E){const D=yield Bu(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Xr(D.getKey("auth")),p256dh:Xr(D.getKey("p256dh"))},O=yield zc(E.firebaseDependencies);if(O){if(Td(O.subscriptionOptions,x))return Date.now()>=O.createTime+qi?mo(E,{token:O.token,createTime:Date.now(),subscriptionOptions:x}):O.token;try{yield Fu(E.firebaseDependencies,O.token)}catch(Z){console.warn(Z)}return Dd(E.firebaseDependencies,x)}return Dd(E.firebaseDependencies,x)})).apply(this,arguments)}function Uu(E){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,k.Z)(function*(E){const D=yield zc(E.firebaseDependencies);D&&(yield Fu(E.firebaseDependencies,D.token),yield bd(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function mo(E,D){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,k.Z)(function*(E,D){try{const x=yield qc(E.firebaseDependencies,D),O=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield Wc(E.firebaseDependencies,O),x}catch(x){throw yield Uu(E),x}})).apply(this,arguments)}function Dd(E,D){return fi.apply(this,arguments)}function fi(){return(fi=(0,k.Z)(function*(E,D){const O={token:yield Wi(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Wc(E,O),O.token})).apply(this,arguments)}function Bu(E,D){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,k.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gs(D)})})).apply(this,arguments)}function Td(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}function jg(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ad(E,D){if(!D.notification)return;E.notification={};const x=D.notification.title;x&&(E.notification.title=x);const O=D.notification.body;O&&(E.notification.body=O);const Z=D.notification.image;Z&&(E.notification.image=Z);const X=D.notification.icon;X&&(E.notification.icon=X)}(D,E),function Yo(E,D){!D.data||(E.data=D.data)}(D,E),function Lf(E,D){var x,O,Z,X,me;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;E.fcmOptions={};const Ye=null!==(Z=null===(O=D.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==Z?Z:null===(X=D.notification)||void 0===X?void 0:X.click_action;Ye&&(E.fcmOptions.link=Ye);const We=null===(me=D.fcmOptions)||void 0===me?void 0:me.analytics_label;We&&(E.fcmOptions.analyticsLabel=We)}(D,E),D}function Sd(E){return"object"==typeof E&&!!E&&ku in E}function Qo(E,D){const x=[];for(let O=0;O<E.length;O++)x.push(E.charAt(O)),O<D.length&&x.push(D.charAt(O));return x.join("")}function Yc(E){return Kt.create("missing-app-config-values",{valueName:E})}Qo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class La{constructor(D,x,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function xd(E){if(!E||!E.options)throw Yc("App Configuration Object");if(!E.name)throw Yc("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const O of D)if(!x[O])throw Yc(O);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Z,installations:x,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Rd(E){return yo.apply(this,arguments)}function yo(){return(yo=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(zo,{scope:Jr}),E.swRegistration.update().catch(()=>{})}catch(D){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Md(E,D){return $s.apply(this,arguments)}function $s(){return($s=(0,k.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Rd(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Hs(E,D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,k.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Ra)})).apply(this,arguments)}function ju(){return(ju=(0,k.Z)(function*(E,D){if(!navigator)throw Kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kt.create("permission-blocked");return yield Hs(E,D?.vapidKey),yield Md(E,D?.serviceWorkerRegistration),Vu(E)})).apply(this,arguments)}function _s(E,D,x){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,k.Z)(function*(E,D,x){const O=Va(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:x[ku],message_name:x[Id],message_time:x[Ed],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Va(E){switch(E){case Sr.NOTIFICATION_CLICKED:return"notification_open";case Sr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gs(){return(Gs=(0,k.Z)(function*(E,D){const x=D.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===Sr.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(jg(x)):E.onMessageHandler.next(jg(x)));const O=x.data;Sd(O)&&"1"===O[Wo]&&(yield _s(E,x.messageType,O))})).apply(this,arguments)}const _o="@firebase/messaging",Ua=E=>{const D=new La(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Qc(E,D){return Gs.apply(this,arguments)}(D,x)),D},$u=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:O=>function Nd(E,D){return ju.apply(this,arguments)}(D,O)}};function Od(){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,k.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kd(){(0,ie._registerComponent)(new fe.wA("messaging",Ua,"PUBLIC")),(0,ie._registerComponent)(new fe.wA("messaging-internal",$u,"PRIVATE")),(0,ie.registerVersion)(_o,"0.12.4"),(0,ie.registerVersion)(_o,"0.12.4","esm2017")}();const tn="analytics",Xc="firebase_id",Xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Io="https://www.googletagmanager.com/gtag/js",Mn=new de.Yd("@firebase/analytics"),fr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ja(E){if(!E.startsWith(Io)){const D=fr.create("invalid-gtag-resource",{gtagURL:E});return Mn.warn(D.message),""}return E}function Eo(E){return Promise.all(E.map(D=>D.catch(x=>x)))}function nl(E,D){const x=function tl(E,D){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(E,D)),x}("firebase-js-sdk-policy",{createScriptURL:ja}),O=document.createElement("script"),Z=`${Io}?l=${E}&id=${D}`;O.src=x?x?.createScriptURL(Z):Z,O.async=!0,document.head.appendChild(O)}function Ld(E,D,x,O,Z,X){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,k.Z)(function*(E,D,x,O,Z,X){const me=O[Z];try{if(me)yield D[me];else{const We=(yield Eo(x)).find(at=>at.measurementId===Z);We&&(yield D[We.appId])}}catch(Ye){Mn.error(Ye)}E("config",Z,X)})).apply(this,arguments)}function Uf(E,D,x,O,Z){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,k.Z)(function*(E,D,x,O,Z){try{let X=[];if(Z&&Z.send_to){let me=Z.send_to;Array.isArray(me)||(me=[me]);const Ye=yield Eo(x);for(const We of me){const at=Ye.find(Rt=>Rt.measurementId===We),St=at&&D[at.appId];if(!St){X=[];break}X.push(St)}}0===X.length&&(X=Object.values(D)),yield Promise.all(X),E("event",O,Z||{})}catch(X){Mn.error(X)}})).apply(this,arguments)}function N_(E){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Io)&&x.src.includes(E))return x;return null}const zn=new class $a{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function gn(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function $r(E){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,k.Z)(function*(E){var D;const{appId:x,apiKey:O}=E,Z={method:"GET",headers:gn(O)},X=Xo.replace("{app-id}",x),me=yield fetch(X,Z);if(200!==me.status&&304!==me.status){let Ye="";try{const We=yield me.json();null!==(D=We.error)&&void 0!==D&&D.message&&(Ye=We.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Ye})}return me.json()})).apply(this,arguments)}function $f(E){return er.apply(this,arguments)}function er(){return(er=(0,k.Z)(function*(E,D=zn,x){const{appId:O,apiKey:Z,measurementId:X}=E.options;if(!O)throw fr.create("no-app-id");if(!Z){if(X)return{measurementId:X,appId:O};throw fr.create("no-api-key")}const me=D.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new wo;return setTimeout((0,k.Z)(function*(){Ye.abort()}),void 0!==x?x:6e4),Zi({appId:O,apiKey:Z,measurementId:X},me,Ye,D)})).apply(this,arguments)}function Zi(E,D,x){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,k.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:x},O,Z=zn){var X;const{appId:me,measurementId:Ye}=E;try{yield Wu(O,D)}catch(We){if(Ye)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:me,measurementId:Ye};throw We}try{const We=yield $r(E);return Z.deleteThrottleMetadata(me),We}catch(We){const at=We;if(!Ki(at)){if(Z.deleteThrottleMetadata(me),Ye)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:me,measurementId:Ye};throw We}const St=503===Number(null===(X=at?.customData)||void 0===X?void 0:X.httpStatus)?(0,ae.$s)(x,Z.intervalMillis,30):(0,ae.$s)(x,Z.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+St,backoffCount:x+1};return Z.setThrottleMetadata(me,Rt),Mn.debug(`Calling attemptFetch again in ${St} millis`),Zi(E,Rt,O,Z)}})).apply(this,arguments)}function Wu(E,D){return new Promise((x,O)=>{const Z=Math.max(D-Date.now(),0),X=setTimeout(x,Z);E.addEventListener(()=>{clearTimeout(X),O(fr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Ki(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}class wo{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let tr,rl;function Ud(){return(Ud=(0,k.Z)(function*(E,D,x,O,Z){if(Z&&Z.global)E("event",x,O);else{const X=yield D;E("event",x,Object.assign(Object.assign({},O),{send_to:X}))}})).apply(this,arguments)}function qu(E){rl=E}function Ws(E){tr=E}function qa(){return ei.apply(this,arguments)}function ei(){return(ei=(0,k.Z)(function*(){if(!(0,ae.hl)())return Mn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return Mn.warn(fr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function yn(){return(yn=(0,k.Z)(function*(E,D,x,O,Z,X,me){var Ye;const We=$f(E);We.then(Ln=>{x[Ln.measurementId]=Ln.appId,E.options.measurementId&&Ln.measurementId!==E.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ln=>Mn.error(Ln)),D.push(We);const at=qa().then(Ln=>{if(Ln)return O.getId()}),[St,Rt]=yield Promise.all([We,at]);N_(X)||nl(X,St.measurementId),rl&&(Z("consent","default",rl),qu(void 0)),Z("js",new Date);const pi=null!==(Ye=me?.config)&&void 0!==Ye?Ye:{};return pi.origin="firebase",pi.update=!0,null!=Rt&&(pi[Xc]=Rt),Z("config",St.measurementId,pi),tr&&(Z("set",tr),Ws(void 0)),St.measurementId})).apply(this,arguments)}class pr{constructor(D){this.app=D}_delete(){return delete xr[this.app.options.appId],Promise.resolve()}}let xr={},jd=[];const sl={};let qs,gr,Za="dataLayer",Zu=!1;function bo(E,D,x){!function ol(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((O,Z)=>`(${Z+1}) ${O}`).join(" "),x=fr.create("invalid-analytics-context",{errorInfo:D});Mn.warn(x.message)}}();const O=E.options.appId;if(!O)throw fr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw fr.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xr[O])throw fr.create("already-exists",{id:O});if(!Zu){!function mn(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Za);const{wrappedGtag:X,gtagCore:me}=function $g(E,D,x,O,Z){let X=function(...me){window[O].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(X=window[Z]),window[Z]=function jf(E,D,x,O){function X(){return(X=(0,k.Z)(function*(me,...Ye){try{if("event"===me){const[We,at]=Ye;yield Uf(E,D,x,We,at)}else if("config"===me){const[We,at]=Ye;yield Ld(E,D,x,O,We,at)}else if("consent"===me){const[We]=Ye;E("consent","update",We)}else if("get"===me){const[We,at,St]=Ye;E("get",We,at,St)}else if("set"===me){const[We]=Ye;E("set",We)}else E(me,...Ye)}catch(We){Mn.error(We)}})).apply(this,arguments)}return function Z(me){return X.apply(this,arguments)}}(X,E,D,x),{gtagCore:X,wrappedGtag:window[Z]}}(xr,jd,sl,Za,"gtag");gr=X,qs=me,Zu=!0}return xr[O]=function il(E,D,x,O,Z,X,me){return yn.apply(this,arguments)}(E,jd,sl,D,qs,Za,x),new pr(E)}function Ku(){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,k.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const ra="@firebase/analytics";!function Hd(){(0,ie._registerComponent)(new fe.wA(tn,(D,{options:x})=>bo(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ie._registerComponent)(new fe.wA("analytics-internal",function E(D){try{const x=D.getProvider(tn).getImmediate();return{logEvent:(O,Z,X)=>function Ys(E,D,x,O){E=(0,ae.m9)(E),function Tt(E,D,x,O,Z){return Ud.apply(this,arguments)}(gr,xr[E.app.options.appId],D,x,O).catch(Z=>Mn.error(Z))}(x,O,Z,X)}}catch(x){throw fr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ie.registerVersion)(ra,"0.10.0"),(0,ie.registerVersion)(ra,"0.10.0","esm2017")}();var Is=L(4408),Rr=L(7565);const cl=new class Es extends Rr.v{}(class ia extends Is.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(D,x,O):D.flush(this)}});var Hf=L(4986),Gd=L(8505),ll=L(9468),sa=L(5363);const ws=new g.GfV("7.6.1"),Ja="__angularfire_symbol__analyticsIsSupportedValue",To="__angularfire_symbol__analyticsIsSupported",Xu="__angularfire_symbol__remoteConfigIsSupportedValue",zd="__angularfire_symbol__remoteConfigIsSupported",ec="__angularfire_symbol__messagingIsSupportedValue",Wd="__angularfire_symbol__messagingIsSupported";function dl(E,D,x){if(D){if(1===D.length)return D[0];const X=D.filter(me=>me.app===x);if(1===X.length)return X[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[To]||(globalThis[To]=Ku().then(E=>globalThis[Ja]=E).catch(()=>globalThis[Ja]=!1)),globalThis[Wd]||(globalThis[Wd]=Od().then(E=>globalThis[ec]=E).catch(()=>globalThis[ec]=!1)),globalThis[zd]||(globalThis[zd]=Yr().then(E=>globalThis[Xu]=E).catch(()=>globalThis[Xu]=!1));const Ao=(E,D)=>{const x=D?[D]:(0,te.C6)(),O=[];return x.forEach(Z=>{Z.container.getProvider(E).instances.forEach(me=>{O.includes(me)||O.push(me)})}),O};function Qs(){}class Kd{constructor(D,x=cl){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,O){const Z=this.zone;return this.delegate.schedule(function(me){Z.runGuarded(()=>{D.apply(this,[me])})},x,O)}}class zg{constructor(D){this.zone=D,this.task=null}call(D,x){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qs,{},Qs,Qs)),x.pipe((0,Gd.b)({next:O,complete:O,error:O})).subscribe(D).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let So=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Kd(Zone.current)),this.insideAngular=x.run(()=>new Kd(Zone.current,Hf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(g.LFG(g.R0b))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ti(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function fl(E){return ti(),function pl(E){return function(x){return(x=x.lift(new zg(E.ngZone))).pipe((0,ll.R)(E.outsideAngular),(0,sa.Q)(E.insideAngular))}}(ti())(E)}},2090:(yt,Ae,L)=>{L.d(Ae,{$s:()=>qe,BH:()=>Ie,G6:()=>Lt,L:()=>ye,LL:()=>It,Pz:()=>be,Sg:()=>Ge,UG:()=>W,US:()=>fe,ZB:()=>Y,ZR:()=>Ct,aH:()=>Ue,b$:()=>ce,eu:()=>Je,hl:()=>Ot,jU:()=>K,m9:()=>qt,ne:()=>en,pd:()=>un,r3:()=>qr,ru:()=>J,tV:()=>j,uI:()=>ge,vZ:()=>Sn,w1:()=>Fe,xO:()=>ks,xb:()=>Ps,z$:()=>je,zI:()=>Yt,zd:()=>ji});const ie=function(B){const U=[];let Q=0;for(let le=0;le<B.length;le++){let re=B.charCodeAt(le);re<128?U[Q++]=re:re<2048?(U[Q++]=re>>6|192,U[Q++]=63&re|128):55296==(64512&re)&&le+1<B.length&&56320==(64512&B.charCodeAt(le+1))?(re=65536+((1023&re)<<10)+(1023&B.charCodeAt(++le)),U[Q++]=re>>18|240,U[Q++]=re>>12&63|128,U[Q++]=re>>6&63|128,U[Q++]=63&re|128):(U[Q++]=re>>12|224,U[Q++]=re>>6&63|128,U[Q++]=63&re|128)}return U},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,U){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let re=0;re<B.length;re+=3){const Ke=B[re],Nt=re+1<B.length,Ft=Nt?B[re+1]:0,hn=re+2<B.length,Ve=hn?B[re+2]:0;let _n=(15&Ft)<<2|Ve>>6,Br=63&Ve;hn||(Br=64,Nt||(_n=64)),le.push(Q[Ke>>2],Q[(3&Ke)<<4|Ft>>4],Q[_n],Q[Br])}return le.join("")},encodeString(B,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(B):this.encodeByteArray(ie(B),U)},decodeString(B,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(B):function(B){const U=[];let Q=0,le=0;for(;Q<B.length;){const re=B[Q++];if(re<128)U[le++]=String.fromCharCode(re);else if(re>191&&re<224){const Ke=B[Q++];U[le++]=String.fromCharCode((31&re)<<6|63&Ke)}else if(re>239&&re<365){const hn=((7&re)<<18|(63&B[Q++])<<12|(63&B[Q++])<<6|63&B[Q++])-65536;U[le++]=String.fromCharCode(55296+(hn>>10)),U[le++]=String.fromCharCode(56320+(1023&hn))}else{const Ke=B[Q++],Nt=B[Q++];U[le++]=String.fromCharCode((15&re)<<12|(63&Ke)<<6|63&Nt)}}return U.join("")}(this.decodeStringToByteArray(B,U))},decodeStringToByteArray(B,U){this.init_();const Q=U?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let re=0;re<B.length;){const Ke=Q[B.charAt(re++)],Ft=re<B.length?Q[B.charAt(re)]:0;++re;const Ve=re<B.length?Q[B.charAt(re)]:64;++re;const bt=re<B.length?Q[B.charAt(re)]:64;if(++re,null==Ke||null==Ft||null==Ve||null==bt)throw new de;le.push(Ke<<2|Ft>>4),64!==Ve&&(le.push(Ft<<4&240|Ve>>2),64!==bt&&le.push(Ve<<6&192|bt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(B){return function(B){const U=ie(B);return fe.encodeByteArray(U,!0)}(B).replace(/\./g,"")},j=function(B){try{return fe.decodeString(B,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Y(B,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return U}for(const Q in U)!U.hasOwnProperty(Q)||!ze(Q)||(B[Q]=Y(B[Q],U[Q]));return B}function ze(B){return"__proto__"!==B}const pe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=B&&j(B[1]);return U&&JSON.parse(U)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Ue=()=>{var B;return null===(B=pe())||void 0===B?void 0:B.config},be=B=>{var U;return null===(U=pe())||void 0===U?void 0:U[`_${B}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Q)=>{this.resolve=U,this.reject=Q})}wrapCallback(U){return(Q,le)=>{Q?this.reject(Q):this.resolve(le),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Q):U(Q,le))}}}function Ge(B,U){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=U||"demo-project",re=B.iat||0,Ke=B.sub||B.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:re,exp:re+3600,auth_time:re,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Nt)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function W(){var B;const U=null===(B=pe())||void 0===B?void 0:B.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function K(){return"object"==typeof self&&self.self===self}function J(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const B=je();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Lt(){return!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ot(){try{return"object"==typeof indexedDB}catch{return!1}}function Je(){return new Promise((B,U)=>{try{let Q=!0;const le="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(le);re.onsuccess=()=>{re.result.close(),Q||self.indexedDB.deleteDatabase(le),B(!0)},re.onupgradeneeded=()=>{Q=!1},re.onerror=()=>{var Ke;U((null===(Ke=re.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(Q){U(Q)}})}function Yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ct extends Error{constructor(U,Q,le){super(Q),this.code=U,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(U,Q,le){this.service=U,this.serviceName=Q,this.errors=le}create(U,...Q){const le=Q[0]||{},re=`${this.service}/${U}`,Ke=this.errors[U],Nt=Ke?function on(B,U){return B.replace(dn,(Q,le)=>{const re=U[le];return null!=re?String(re):`<${le}?>`})}(Ke,le):"Error";return new Ct(re,`${this.serviceName}: ${Nt} (${re}).`,le)}}const dn=/\{\$([^}]+)}/g;function qr(B,U){return Object.prototype.hasOwnProperty.call(B,U)}function Ps(B){for(const U in B)if(Object.prototype.hasOwnProperty.call(B,U))return!1;return!0}function Sn(B,U){if(B===U)return!0;const Q=Object.keys(B),le=Object.keys(U);for(const re of Q){if(!le.includes(re))return!1;const Ke=B[re],Nt=U[re];if(Zr(Ke)&&Zr(Nt)){if(!Sn(Ke,Nt))return!1}else if(Ke!==Nt)return!1}for(const re of le)if(!Q.includes(re))return!1;return!0}function Zr(B){return null!==B&&"object"==typeof B}function ks(B){const U=[];for(const[Q,le]of Object.entries(B))Array.isArray(le)?le.forEach(re=>{U.push(encodeURIComponent(Q)+"="+encodeURIComponent(re))}):U.push(encodeURIComponent(Q)+"="+encodeURIComponent(le));return U.length?"&"+U.join("&"):""}function ji(B){const U={};return B.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[re,Ke]=le.split("=");U[decodeURIComponent(re)]=decodeURIComponent(Ke)}}),U}function un(B){const U=B.indexOf("?");if(!U)return"";const Q=B.indexOf("#",U);return B.substring(U,Q>0?Q:void 0)}function en(B,U){const Q=new ot(B,U);return Q.subscribe.bind(Q)}class ot{constructor(U,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{U(this)}).catch(le=>{this.error(le)})}next(U){this.forEachObserver(Q=>{Q.next(U)})}error(U){this.forEachObserver(Q=>{Q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Q,le){let re;if(void 0===U&&void 0===Q&&void 0===le)throw new Error("Missing Observer.");re=function an(B,U){if("object"!=typeof B||null===B)return!1;for(const Q of U)if(Q in B&&"function"==typeof B[Q])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Q,complete:le},void 0===re.next&&(re.next=Tr),void 0===re.error&&(re.error=Tr),void 0===re.complete&&(re.complete=Tr);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Ke}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,U)}sendOne(U,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Q(this.observers[U])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tr(){}function qe(B,U=1e3,Q=2){const le=U*Math.pow(Q,B),re=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+re)}function qt(B){return B&&B._delegate?B._delegate:B}},3278:(yt,Ae,L)=>{var g=L(4650);let te=null;function k(){return te}const de=new g.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function ye(){return(0,g.LFG)(G)}()},providedIn:"platform"}),n})();const j=new g.OlP("Location Initialized");let G=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Y()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Y()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(de))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function ze(){return new G((0,g.LFG)(de))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(dt)},providedIn:"root"}),n})();const pe=new g.OlP("appBaseHref");let dt=(()=>{class n extends Ce{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+it(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+it(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ve),g.LFG(pe,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mt=(()=>{class n extends Ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ve),g.LFG(pe,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(Ge(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=Se,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(g.LFG(Ce))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function be(){return new Ue((0,g.LFG)(Ce))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}function Ea(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class Oc{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Oc(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,c),Us(p,i)}});for(let i=0,a=r.length;i<a;i++){const p=r.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Us(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Us(n,e){n.context.$implicit=e.item}let ur=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new od,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class od{constructor(){this.$implicit=null,this.ngIf=null}}function Xn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}class jr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let fo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),wa=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new jr(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(fo,9))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),zi=(()=>{class n{constructor(t,r,i){i._addDefault(new jr(t,r))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(fo,9))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();let Ca=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function vn(n,e){return new g.vHH(2100,!1)}();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=g.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),Da=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function Ru(n){return"server"===n}let fs=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Nu((0,g.LFG)(de),window)}),n})();class Nu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=di(this.window.history)||di(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function di(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ta{}class go extends class bd extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){te||(te=n)}(new go)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Of(){return ms=ms||document.querySelector("base"),ms?ms.getAttribute("href"):null}();return null==t?null:function Wi(n){Kt=Kt||document.createElement("a"),Kt.setAttribute("href",n);const e=Kt.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ea(document.cookie,e)}}let Kt,ms=null;const In=new g.OlP("TRANSITION_ID"),Zc=[{provide:g.ip1,useFactory:function qc(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[In,de,g.zs3],multi:!0}];let Kc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs=new g.OlP("EventManagerPlugins");let qo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Bs),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class ys{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),qi=(()=>{class n extends Zo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Vu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Vu))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(de))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Vu(n){k().remove(n)}const js={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uu=/%COMP%/g;function Ko(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ko(n,i,t):(i=i.replace(Uu,n),t.push(i))}return t}function Td(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ad=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Yo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new xd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case g.ifc.ShadowDom:return new Yc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ko(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(qo),g.LFG(qi),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Yo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(js[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Qo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=js[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=js[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,i&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Td(r)):this.eventManager.addEventListener(e,t,Td(r))}}function Qo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xd extends Yo{constructor(e,t,r,i){super(e),this.component=r;const a=Ko(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function fi(n){return"_ngcontent-%COMP%".replace(Uu,n)}(i+"-"+r.id),this.hostAttr=function Bu(n){return"_nghost-%COMP%".replace(Uu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Yc extends Yo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ko(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const p=document.createElement("style");p.textContent=a[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let La=(()=>{class n extends ys{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(de))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Rd=["alt","control","meta","shift"],yo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Md={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $s=(()=>{class n extends ys{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),Rd.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),c+=C+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=yo[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Rd.forEach(c=>{c!==i&&(0,Md[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(de))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const _o=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function Pd(){go.makeCurrent()},multi:!0},{provide:de,useFactory:function Qc(){return(0,g.RDi)(document),document},deps:[]}]),Jo=new g.OlP(""),Ua=[{provide:g.rWj,useClass:class Fu{addToWindow(e){g.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const i=g.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const p=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],$u=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Va(){return new g.qLn},deps:[]},{provide:Bs,useClass:La,multi:!0,deps:[de,g.R0b,g.Lbi]},{provide:Bs,useClass:$s,multi:!0,deps:[de]},{provide:Ad,useClass:Ad,deps:[qo,qi,g.AFp]},{provide:g.FYo,useExisting:Ad},{provide:Zo,useExisting:qi},{provide:qi,useClass:qi,deps:[de]},{provide:qo,useClass:qo,deps:[Bs,g.R0b]},{provide:Ta,useClass:Kc,deps:[]},[]];let kd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:In,useExisting:g.AFp},Zc]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Jo,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...$u,...Ua],imports:[Da,g.hGG]}),n})(),Ba=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(de))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function vs(){return new Ba((0,g.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var gn=L(8996),$r=L(9751);const{isArray:Vd}=Array,{getPrototypeOf:$f,prototype:er,keys:Zi}=Object;function Ha(n){if(1===n.length){const e=n[0];if(Vd(e))return{args:e,keys:null};if(function Wu(n){return n&&"object"==typeof n&&$f(n)===er}(e)){const t=Zi(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ki=L(8421),wo=L(7669),tr=L(5403),Tt=L(4004);const{isArray:Ud}=Array;function ta(n){return(0,Tt.U)(e=>function Hg(n,e){return Ud(e)?n(...e):n(e)}(n,e))}function Hr(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Co=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),Yi=(()=>{class n extends Co{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const Pi=new g.OlP("NgValueAccessor"),Wa={provide:Pi,useExisting:(0,g.Gpc)(()=>Ws),multi:!0},qu=new g.OlP("CompositionEventMode");let Ws=(()=>{class n extends Co{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rl(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(qu,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[g._Bn([Wa]),g.qOj]}),n})();function ei(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function il(n){return null!=n&&"number"==typeof n.length}const yn=new g.OlP("NgValidators"),pr=new g.OlP("NgAsyncValidators"),xr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jd{static min(e){return function sl(n){return e=>{if(ei(e.value)||ei(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Za(n){return e=>{if(ei(e.value)||ei(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function na(n){return ei(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function qs(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gr(n){return ei(n.value)||xr.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Zu(n){return e=>ei(e.value)||!il(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Nn(n){return e=>il(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ol(n){if(!n)return bo;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ei(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Ks(e)}static composeAsync(e){return Do(e)}}function bo(n){return null}function al(n){return null!=n}function Zs(n){return(0,g.QGY)(n)?(0,gn.D)(n):n}function Ku(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Yu(n,e){return e.map(t=>t(n))}function ul(n){return n.map(e=>function Qu(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ks(n){if(!n)return null;const e=n.filter(al);return 0==e.length?null:function(t){return Ku(Yu(t,e))}}function Ka(n){return null!=n?Ks(ul(n)):null}function Do(n){if(!n)return null;const e=n.filter(al);return 0==e.length?null:function(t){return function Ga(...n){const e=(0,wo.jO)(n),{args:t,keys:r}=Ha(n),i=new $r.y(a=>{const{length:c}=t;if(!c)return void a.complete();const p=new Array(c);let _=c,C=c;for(let T=0;T<c;T++){let R=!1;(0,Ki.Xf)(t[T]).subscribe((0,tr.x)(a,V=>{R||(R=!0,C--),p[T]=V},()=>_--,void 0,()=>{(!_||!R)&&(C||a.next(r?Hr(r,p):p),a.complete())}))}});return e?i.pipe(ta(e)):i}(Yu(t,e).map(Zs)).pipe((0,Tt.U)(Ku))}}function Ju(n){return null!=n?Do(ul(n)):null}function $d(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ra(n){return n?Array.isArray(n)?n:[n]:[]}function Qa(n,e){return Array.isArray(n)?n.includes(e):n===e}function Hd(n,e){const t=ra(e);return ra(n).forEach(i=>{Qa(t,i)||t.push(i)}),t}function Is(n,e){return ra(e).filter(t=>!Qa(n,t))}class ia{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ka(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ju(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Rr extends ia{get formDirective(){return null}get path(){return null}}class Es extends ia{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Gd=(()=>{class n extends class cl{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Es,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g.qOj]}),n})();const ti="VALID",Js="INVALID",ni="PENDING",Xa="DISABLED";function hl(n){return(gl(n)?n.validators:n)||null}function fl(n){return Array.isArray(n)?Ka(n):n||null}function pl(n,e){return(gl(e)?e.asyncValidators:n)||null}function Yd(n){return Array.isArray(n)?Ju(n):n||null}function gl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function E(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new g.vHH(1e3,"");if(!r[t])throw new g.vHH(1001,"")}function D(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new g.vHH(1002,"")})}class x{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fl(this._rawValidators),this._composedAsyncValidatorFn=Yd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ti}get invalid(){return this.status===Js}get pending(){return this.status==ni}get disabled(){return this.status===Xa}get enabled(){return this.status!==Xa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Yd(e)}addValidators(e){this.setValidators(Hd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Hd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Is(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Is(e,this._rawAsyncValidators))}hasValidator(e){return Qa(this._rawValidators,e)}hasAsyncValidator(e){return Qa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ni,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ti,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ti||this.status===ni)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xa:ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ni,this._hasOwnPendingAsyncValidator=!0;const t=Zs(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Xa:this.errors?Js:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ni)?ni:this._anyControlsHaveStatus(Js)?Js:ti}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class O extends x{constructor(e,t,r){super(hl(t),pl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){D(this,0,e),Object.keys(e).forEach(r=>{E(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class me extends O{}function at(n,e){(function Ln(n,e){const t=function Ys(n){return n._rawValidators}(n);null!==e.validator?n.setValidators($d(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Ya(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators($d(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Rt(e._rawValidators,i),Rt(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function nc(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yr(n,e)})}(n,e),function Qi(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mr(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yr(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function pi(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Rt(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eh(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Cs=class extends x{constructor(e=null,t,r){super(hl(t),pl(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eh(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eh(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},F_={provide:Es,useExisting:(0,g.Gpc)(()=>Zf)},th=(()=>Promise.resolve())();let Zf=(()=>{class n extends Es{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new Cs,this._registered=!1,this.update=new g.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Ws?t=a:function Jd(n){return Object.getPrototypeOf(n.constructor)===Yi}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function oa(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){at(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){th.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,g.D6c)(r);th.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function We(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Rr,9),g.Y36(yn,10),g.Y36(pr,10),g.Y36(Pi,10),g.Y36(g.sBO,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([F_]),g.qOj,g.TTD]}),n})(),yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const vl=new g.OlP("NgModelWithFormControlWarning");let oc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[yl]}),n})(),Tl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[oc]}),n})(),ip=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vl,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[oc]}),n})();class G_ extends x{constructor(e,t,r){super(hl(t),pl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){D(this,0,e),e.forEach((r,i)=>{E(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function z_(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let bw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return z_(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new O(i,a)}record(t,r=null){const i=this._reduceControls(t);return new me(i,r)}control(t,r,i){let a={};return this.useNonNullable?(z_(r)?a=r:(a.validators=r,a.asyncValidators=i),new Cs(t,{...a,nonNullable:!0})):new Cs(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new G_(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Cs||t instanceof x?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:ip}),n})();function f(...n){const e=(0,wo.yG)(n);return(0,gn.D)(n,e)}var I=L(7579);class A extends I.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const $=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ee=L(4671),Me=L(9672);function He(...n){const e=(0,wo.yG)(n),t=(0,wo.jO)(n),{args:r,keys:i}=Ha(n);if(0===r.length)return(0,gn.D)([],e);const a=new $r.y(function et(n,e,t=ee.y){return r=>{ut(e,()=>{const{length:i}=n,a=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)ut(e,()=>{const C=(0,gn.D)(n[_],e);let T=!1;C.subscribe((0,tr.x)(r,R=>{a[_]=R,T||(T=!0,p--),p||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Hr(i,c):ee.y));return t?a.pipe(ta(t)):a}function ut(n,e,t){n?(0,Me.f)(t,n,e):e()}var En=L(8189);function tu(...n){return function bs(){return(0,En.J)(1)}()((0,gn.D)(n,(0,wo.yG)(n)))}function sp(n){return new $r.y(e=>{(0,Ki.Xf)(n()).subscribe(e)})}var op=L(9635),dh=L(576);function ac(n,e){const t=(0,dh.m)(n)?n:()=>n,r=i=>i.error(t());return new $r.y(e?i=>e.schedule(r,0,i):r)}var Ds=L(515),ap=L(727),Gr=L(4482);function Al(){return(0,Gr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,tr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hh extends $r.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Gr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ap.w0;const t=this.getSubject();e.add(this.source.subscribe((0,tr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ap.w0.EMPTY)}return e}refCount(){return Al()(this)}}function _r(n,e){return(0,Gr.e)((t,r)=>{let i=null,a=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,tr.x)(r,_=>{i?.unsubscribe();let C=0;const T=a++;(0,Ki.Xf)(n(_,T)).subscribe(i=(0,tr.x)(r,R=>r.next(e?e(_,R,T,C++):R),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function nu(n){return n<=0?()=>Ds.E:(0,Gr.e)((e,t)=>{let r=0;e.subscribe((0,tr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function vr(...n){const e=(0,wo.yG)(n);return(0,Gr.e)((t,r)=>{(e?tu(n,t,e):tu(n,t)).subscribe(r)})}function Xi(n,e){return(0,Gr.e)((t,r)=>{let i=0;t.subscribe((0,tr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var yi=L(5577);function fh(n){return(0,Gr.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ri(n=up){return(0,Gr.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function up(){return new $}function Ro(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,a)=>n(i,a,r)):ee.y,nu(1),t?fh(e):ri(()=>new $))}function uc(n,e){return(0,dh.m)(e)?(0,yi.z)(n,e,1):(0,yi.z)(n,1)}var _i=L(8505);function ru(n){return(0,Gr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,tr.x)(t,void 0,void 0,c=>{a=(0,Ki.Xf)(n(c,ru(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function CA(n,e,t,r,i){return(a,c)=>{let p=t,_=e,C=0;a.subscribe((0,tr.x)(c,T=>{const R=C++;_=p?n(_,T,R):(p=!0,T),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function ph(n,e){return(0,Gr.e)(CA(n,e,arguments.length>=2,!0))}function W_(n){return n<=0?()=>Ds.E:(0,Gr.e)((e,t)=>{let r=[];e.subscribe((0,tr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function q_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,a)=>n(i,a,r)):ee.y,W_(1),t?fh(e):ri(()=>new $))}function Z_(n){return(0,Gr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const zt="primary",cp=Symbol("RouteTitle");class gh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function es(n){return new gh(n)}function TA(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],p=n[a];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function iu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!SA(n[i],e[i]))return!1;return!0}function SA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function K_(n){return Array.prototype.concat.apply([],n)}function xA(n){return n.length>0?n[n.length-1]:null}function Mr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function la(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,gn.D)(Promise.resolve(n)):f(n)}const RA={exact:function am(n,e,t){if(!Sl(n.segments,e.segments)||!ou(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!am(n.children[r],e.children[r],t))return!1;return!0},subset:J_},mh={exact:function MA(n,e){return iu(n,e)},subset:function Q_(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SA(n[t],e[t]))},ignored:()=>!0};function Tw(n,e,t){return RA[t.paths](n.root,e.root,t.matrixParams)&&mh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function J_(n,e,t){return NA(n,e,e.segments,t)}function NA(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Sl(i,t)||e.hasChildren()||!ou(i,t,r))}if(n.segments.length===t.length){if(!Sl(n.segments,t)||!ou(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!J_(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Sl(n.segments,i)&&ou(n.segments,i,r)&&n.children[zt])&&NA(n.children[zt],e,a,r)}}function ou(n,e,t){return e.every((r,i)=>mh[t](n[i].parameters,r.parameters))}class au{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return kA.serialize(this)}}class Wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return um(this)}}class lp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=es(this.parameters)),this._parameterMap}toString(){return iv(this)}}function Sl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new ev},providedIn:"root"}),n})();class ev{parse(e){const t=new Mw(e);return new au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${yh(e.root,!0)}`,r=function Sw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${dp(t)}=${dp(i)}`).join("&"):`${dp(t)}=${dp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const kA=new ev;function um(n){return n.segments.map(e=>iv(e)).join("/")}function yh(n,e){if(!n.hasChildren())return um(n);if(e){const t=n.children[zt]?yh(n.children[zt],!1):"",r=[];return Mr(n.children,(i,a)=>{a!==zt&&r.push(`${a}:${yh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function PA(n,e){let t=[];return Mr(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),Mr(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[yh(n.children[zt],!1)]:[`${i}:${yh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${um(n)}/${t[0]}`:`${um(n)}/(${t.join("//")})`}}function cm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dp(n){return cm(n).replace(/%3B/gi,";")}function nv(n){return cm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(n){return decodeURIComponent(n)}function rv(n){return lm(n.replace(/\+/g,"%20"))}function iv(n){return`${nv(n.path)}${function xl(n){return Object.keys(n).map(e=>`;${nv(e)}=${nv(n[e])}`).join("")}(n.parameters)}`}const xw=/^[^\/()?;=#]+/;function dm(n){const e=n.match(xw);return e?e[0]:""}const rk=/^[^=?&#]+/,OA=/^[^&#]+/;class Mw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new Wt(e,t)),r}parseSegment(){const e=dm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(e),new lp(lm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=dm(this.remaining);i&&(r=i,this.capture(r))}e[lm(t)]=lm(r)}parseQueryParam(e){const t=function hm(n){const e=n.match(rk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Rw(n){const e=n.match(OA);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=rv(t),a=rv(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new g.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=zt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[zt]:new Wt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new g.vHH(4011,!1)}}function fm(n){return n.segments.length>0?new Wt([],{[zt]:n}):n}function _h(n){const e={};for(const r of Object.keys(n.children)){const a=_h(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Nw(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new Wt(n.segments.concat(e.segments),e.children)}return n}(new Wt(n.segments,e))}function da(n){return n instanceof au}function ov(n,e,t,r,i){if(0===t.length)return Rl(e.root,e.root,e.root,r,i);const a=function av(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ow(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Mr(a.outlets,(_,C)=>{p[C]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new Ow(t,e,r)}(t);return a.toRoot()?Rl(e.root,e.root,new Wt([],{}),r,i):function c(_){const C=function ik(n,e,t,r){if(n.isAbsolute)return new cc(e.root,!0,0);if(-1===r)return new cc(t,t===e.root,0);return function uv(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new g.vHH(4005,!1);i=r.segments.length}return new cc(r,!1,i-a)}(t,r+(uu(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),T=C.processChildren?fp(C.segmentGroup,C.index,a.commands):pm(C.segmentGroup,C.index,a.commands);return Rl(e.root,C.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function uu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hp(n){return"object"==typeof n&&null!=n&&n.outlets}function Rl(n,e,t,r,i){let c,a={};r&&Mr(r,(_,C)=>{a[C]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=n===e?t:kw(n,e,t);const p=fm(_h(c));return new au(p,a,i)}function kw(n,e,t){const r={};return Mr(n.children,(i,a)=>{r[a]=i===e?t:kw(i,e,t)}),new Wt(n.segments,r)}class Ow{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&uu(r[0]))throw new g.vHH(4003,!1);const i=r.find(hp);if(i&&i!==xA(r))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function pm(n,e,t){if(n||(n=new Wt([],{})),0===n.segments.length&&n.hasChildren())return fp(n,e,t);const r=function VA(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],p=t[r];if(hp(p))break;const _=`${p}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!Fw(_,C,c))return a;r+=2}else{if(!Fw(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Wt(n.segments.slice(0,r.pathIndex),{});return a.children[zt]=new Wt(n.segments.slice(r.pathIndex),n.children),fp(a,0,i)}return r.match&&0===i.length?new Wt(n.segments,{}):r.match&&!n.hasChildren()?Ts(n,e,t):r.match?fp(n,0,i):Ts(n,e,t)}function fp(n,e,t){if(0===t.length)return new Wt(n.segments,{});{const r=function FA(n){return hp(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return Mr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=pm(n.children[c],e,a))}),Mr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Wt(n.segments,i)}}function Ts(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(hp(a)){const _=UA(a.outlets);return new Wt(r,_)}if(0===i&&uu(t[0])){r.push(new lp(n.segments[e].path,cv(t[0]))),i++;continue}const c=hp(a)?a.outlets[zt]:`${a}`,p=i<t.length-1?t[i+1]:null;c&&p&&uu(p)?(r.push(new lp(c,cv(p))),i+=2):(r.push(new lp(c,{})),i++)}return new Wt(r,{})}function UA(n){const e={};return Mr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ts(new Wt([],{}),0,t))}),e}function cv(n){const e={};return Mr(n,(t,r)=>e[r]=`${t}`),e}function Fw(n,e,t){return n==t.path&&iu(e,t.parameters)}class cu{constructor(e,t){this.id=e,this.url=t}}class lv extends cu{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ml extends cu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pp extends cu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vw extends cu{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BA extends cu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jA extends cu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends cu{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uw extends cu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bw extends cu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $A{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HA{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $w{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GA{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mm(e,this._root).map(t=>t.value)}}function gm(n,e){if(n===e.value)return e;for(const t of e.children){const r=gm(n,t);if(r)return r}return null}function mm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=mm(n,t);if(r.length)return r.unshift(e),r}return[]}class ki{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ih(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ym extends WA{constructor(e,t){super(e),this.snapshot=t,zw(this,e)}toString(){return this.snapshot.toString()}}function _m(n,e){const t=function qA(n,e){const c=new vm([],{},{},"",{},zt,e,null,n.root,-1,{});return new dv("",new ki(c,[]))}(n,e),r=new A([new lp("",{})]),i=new A({}),a=new A({}),c=new A({}),p=new A(""),_=new Eh(r,i,c,p,a,zt,e,t.root);return _.snapshot=t.root,new ym(new ki(_,[]),t)}class Eh{constructor(e,t,r,i,a,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,Tt.U)(C=>C[cp]))??f(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>es(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>es(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZA(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function sk(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vm{constructor(e,t,r,i,a,c,p,_,C,T,R,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.title=this.data?.[cp],this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=T,this._correctedLastPathIndex=V??T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=es(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dv extends WA{constructor(e,t){super(t),this.url=e,zw(this,t)}toString(){return Ww(this._root)}}function zw(n,e){e.value._routerState=n,e.children.forEach(t=>zw(n,t))}function Ww(n){const e=n.children.length>0?` { ${n.children.map(Ww).join(", ")} } `:"";return`${n.value}${e}`}function lc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,iu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),iu(e.params,t.params)||n.params.next(t.params),function AA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!iu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),iu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hv(n,e){const t=iu(n.params,e.params)&&function X_(n,e){return Sl(n,e)&&n.every((t,r)=>iu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hv(n.parent,e.parent))}function dc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function KA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return dc(n,r,i);return dc(n,r)})}(n,e,t);return new ki(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>dc(n,p)),c}}const r=function Zw(n){return new Eh(new A(n.url),new A(n.params),new A(n.queryParams),new A(n.fragment),new A(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>dc(n,a));return new ki(r,i)}}const fv="ngNavigationCancelingError";function Kw(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Yw(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Yw(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[fv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Qw(n){return Jw(n)&&da(n.url)}function Jw(n){return n&&n[fv]}class Xw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gp,this.attachRef=null}}let gp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Xw,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mp=!1;let Im=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=i||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,mp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,mp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,mp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new g.vHH(4013,mp);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new pv(t,p,i.injector);if(r&&function ok(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(c);this.activated=i.createComponent(C,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(gp),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class pv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Eh?this.route:e===gp?this.childContexts:this.parent.get(e,t)}}let yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[Im],encapsulation:2}),n})();function eC(n,e){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vp(n){const e=n.children&&n.children.map(vp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=yp),t}function Ir(n){return n.outlet||zt}function Em(n,e){const t=n.filter(r=>Ir(r)===e);return t.push(...n.filter(r=>Ir(r)!==e)),t}function Ch(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ak{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ih(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Mr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ih(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ih(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ih(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Hw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new $w(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(lc(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),lc(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=Ch(i.snapshot),_=p?.get(g._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class mv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yv{constructor(e,t){this.component=e,this.route=t}}function wm(n,e,t){const r=n._root;return Nl(r,e?e._root:null,t,[r.value])}function hc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,g.Z0I)(n)?e.get(n):n:r}function Nl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ih(e);return n.children.forEach(c=>{(function _v(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function uk(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Sl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Sl(n.url,e.url)||!iu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hv(n,e)||!iu(n.queryParams,e.queryParams);default:return!hv(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new mv(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Nl(n,e,a.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new yv(p.outlet.component,c))}else c&&Ip(e,p,i),i.canActivateChecks.push(new mv(r)),Nl(n,null,a.component?p?p.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Mr(a,(c,p)=>Ip(c,t.getContext(p),i)),i}function Ip(n,e,t){const r=Ih(n),i=n.value;Mr(r,(a,c)=>{Ip(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new yv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ep(n){return"function"==typeof n}function vv(n){return n instanceof $||"EmptyError"===n?.name}const bh=Symbol("INITIAL_VALUE");function wp(){return _r(n=>He(n.map(e=>e.pipe(nu(1),vr(bh)))).pipe((0,Tt.U)(e=>{for(const t of e)if(!0!==t){if(t===bh)return bh;if(!1===t||t instanceof au)return t}return!0}),Xi(e=>e!==bh),nu(1)))}function lu(n){return(0,op.z)((0,_i.b)(e=>{if(da(e))throw Kw(0,e)}),(0,Tt.U)(e=>!0===e))}const Ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wv(n,e,t,r,i){const a=Cp(n,e,t);return a.matched?function Iv(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?f(i.map(c=>{const p=hc(c,n);return la(function lk(n){return n&&Ep(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(wp(),lu()):f(!0)}(r=eC(e,r),e,t).pipe((0,Tt.U)(c=>!0===c?a:{...Ev})):f(a)}function Cp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ev}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||TA)(t,n,e);if(!i)return{...Ev};const a={};Mr(i.posParams,(p,_)=>{a[_]=p.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function bp(n,e,t,r,i="corrected"){if(t.length>0&&function fc(n,e,t){return t.some(r=>bm(n,e,r)&&Ir(r)!==zt)}(n,t,r)){const c=new Wt(e,function rS(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ir(a)!==zt){const c=new Wt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ir(a)]=c}return i}(n,e,r,new Wt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function iC(n,e,t){return t.some(r=>bm(n,e,r))}(n,t,r)){const c=new Wt(n.segments,function Cv(n,e,t,r,i,a){const c={};for(const p of r)if(bm(n,t,p)&&!i[Ir(p)]){const _=new Wt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Ir(p)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Wt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function bm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sC(n,e,t,r){return!!(Ir(n)===r||r!==zt&&bm(e,t,n))&&("**"===n.path||Cp(e,n,t).matched)}function bv(n,e,t){return 0===e.length&&!n.children[t]}const Dm=!1;class Tm{constructor(e){this.segmentGroup=e||null}}class Dp{constructor(e){this.urlTree=e}}function ha(n){return ac(new Tm(n))}function Am(n){return ac(new Dp(n))}class iS{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=bp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Wt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe((0,Tt.U)(a=>this.createUrlTree(_h(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ru(a=>{if(a instanceof Dp)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Tm?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,zt).pipe((0,Tt.U)(i=>this.createUrlTree(_h(i),e.queryParams,e.fragment))).pipe(ru(i=>{throw i instanceof Tm?this.noMatchError(i):i}))}noMatchError(e){return new g.vHH(4002,Dm)}createUrlTree(e,t,r){const i=fm(e);return new au(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Tt.U)(a=>new Wt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,gn.D)(i).pipe(uc(a=>{const c=r.children[a],p=Em(t,a);return this.expandSegmentGroup(e,p,c,a).pipe((0,Tt.U)(_=>({segment:_,outlet:a})))}),ph((a,c)=>(a[c.outlet]=c.segment,a),{}),q_())}expandSegment(e,t,r,i,a,c){return(0,gn.D)(r).pipe(uc(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,c).pipe(ru(C=>{if(C instanceof Tm)return f(null);throw C}))),Ro(p=>!!p),ru((p,_)=>{if(vv(p))return bv(t,i,a)?f(new Wt([],{})):ha(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,c,p){return sC(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):ha(t):ha(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Am(a):this.lineralizeSegments(r,a).pipe((0,yi.z)(c=>{const p=new Wt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:p,consumedSegments:_,remainingSegments:C,positionalParamSegments:T}=Cp(t,i,a);if(!p)return ha(t);const R=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?Am(R):this.lineralizeSegments(i,R).pipe((0,yi.z)(V=>this.expandSegment(e,t,r,V.concat(C),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=eC(r,e),r.loadChildren?(r._loadedRoutes?f({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Tt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Wt(i,{})))):f(new Wt(i,{}))):wv(t,r,i,e).pipe(_r(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,yi.z)(T=>{const R=T.injector??e,V=T.routes,{segmentGroup:z,slicedSegments:ue}=bp(t,p,_,V),Ne=new Wt(z.segments,z.children);if(0===ue.length&&Ne.hasChildren())return this.expandChildren(R,V,Ne).pipe((0,Tt.U)(vt=>new Wt(p,vt)));if(0===V.length&&0===ue.length)return f(new Wt(p,{}));const Pe=Ir(r)===a;return this.expandSegment(R,Ne,V,ue,Pe?zt:a,!0).pipe((0,Tt.U)(_t=>new Wt(p.concat(_t.segments),_t.children)))})):ha(t)))}getChildConfig(e,t,r){return t.children?f({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?f({routes:t._loadedRoutes,injector:t._loadedInjector}):function vk(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?f(!0):f(i.map(c=>{const p=hc(c,n);return la(function eS(n){return n&&Ep(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(wp(),lu())}(e,t,r).pipe((0,yi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,_i.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Sm(n){return ac(Yw(Dm,3))}())):f({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return f(r);if(i.numberOfChildren>1||!i.children[zt])return ac(new g.vHH(4e3,Dm));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new au(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Mr(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new Wt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new g.vHH(4001,Dm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Dv{}class Av{constructor(e,t,r,i,a,c,p,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p,this.urlSerializer=_}recognize(){const e=bp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,zt).pipe((0,Tt.U)(t=>{if(null===t)return null;const r=new vm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ki(r,t),a=new dv(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=ZA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,gn.D)(Object.keys(r.children)).pipe(uc(i=>{const a=r.children[i],c=Em(t,i);return this.processSegmentGroup(e,c,a,i)}),ph((i,a)=>i&&a?(i.push(...a),i):null),function bA(n,e=!1){return(0,Gr.e)((t,r)=>{let i=0;t.subscribe((0,tr.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),fh(null),q_(),(0,Tt.U)(i=>{if(null===i)return null;const a=Sv(i);return function sS(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,gn.D)(t).pipe(uc(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Ro(c=>!!c),ru(c=>{if(vv(c))return bv(r,i,a)?f([]):f(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!sC(t,r,i,a))return f(null);let c;if("**"===t.path){const p=i.length>0?xA(i).parameters:{},_=Rv(r)+i.length;c=f({snapshot:new vm(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ts(t),Ir(t),t.component??t._loadedComponent??null,t,xv(r),_,Mv(t),_),consumedSegments:[],remainingSegments:[]})}else c=wv(r,t,i,e).pipe((0,Tt.U)(({matched:p,consumedSegments:_,remainingSegments:C,parameters:T})=>{if(!p)return null;const R=Rv(r)+_.length;return{snapshot:new vm(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ts(t),Ir(t),t.component??t._loadedComponent??null,t,xv(r),R,Mv(t),R),consumedSegments:_,remainingSegments:C}}));return c.pipe(_r(p=>{if(null===p)return f(null);const{snapshot:_,consumedSegments:C,remainingSegments:T}=p;e=t._injector??e;const R=t._loadedInjector??e,V=function Ik(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:ue}=bp(r,C,T,V.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution);if(0===ue.length&&z.hasChildren())return this.processChildren(R,V,z).pipe((0,Tt.U)(Pe=>null===Pe?null:[new ki(_,Pe)]));if(0===V.length&&0===ue.length)return f([new ki(_,[])]);const Ne=Ir(t)===a;return this.processSegment(R,V,z,ue,Ne?zt:a).pipe((0,Tt.U)(Pe=>null===Pe?null:[new ki(_,Pe)]))}))}}function oS(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Sv(n){const e=[],t=new Set;for(const r of n){if(!oS(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Sv(r.children);e.push(new ki(r.value,i))}return e.filter(r=>!t.has(r))}function xv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Rv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ts(n){return n.data||{}}function Mv(n){return n.resolve||{}}function lC(n){return"string"==typeof n.title||null===n.title}function Pv(n){return _r(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,Tt.U)(()=>e)):f(e)})}let kv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[cp]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(dC)},providedIn:"root"}),n})(),dC=(()=>{class n extends kv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ba))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hS{}class hC extends class fS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const xm=new g.OlP("",{providedIn:"root",factory:()=>({})}),Sp=new g.OlP("ROUTES");let Ov=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return f(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=la(t.loadComponent()).pipe((0,_i.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Z_(()=>{this.componentLoaders.delete(t)})),i=new hh(r,()=>new I.x).pipe(Al());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return f({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Tt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,C,T=!1;Array.isArray(p)?C=p:(_=p.create(t).injector,C=K_(_.get(Sp,[],g.XFs.Self|g.XFs.Optional)));return{routes:C.map(vp),injector:_}}),Z_(()=>{this.childrenLoaders.delete(r)})),c=new hh(a,()=>new I.x).pipe(Al());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return la(t()).pipe((0,yi.z)(r=>r instanceof g.YKP||Array.isArray(r)?f(r):(0,gn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.zs3),g.LFG(g.Sil))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pS{}class wk{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function gS(n){throw n}function mS(n,e,t){return e.parse("/")}const yS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function pC(){const n=(0,g.f3M)(Aw),e=(0,g.f3M)(gp),t=(0,g.f3M)(Ue),r=(0,g.f3M)(g.zs3),i=(0,g.f3M)(g.Sil),a=(0,g.f3M)(Sp,{optional:!0})??[],c=(0,g.f3M)(xm,{optional:!0})??{},p=(0,g.f3M)(dC),_=(0,g.f3M)(kv,{optional:!0}),C=(0,g.f3M)(pS,{optional:!0}),T=(0,g.f3M)(hS,{optional:!0}),R=new nr(null,n,e,t,r,i,K_(a));return C&&(R.urlHandlingStrategy=C),T&&(R.routeReuseStrategy=T),R.titleStrategy=_??p,function _S(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,R),R}let nr=(()=>{class n{constructor(t,r,i,a,c,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new I.x,this.errorHandler=gS,this.malformedUriErrorHandler=mS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>f(void 0),this.urlHandlingStrategy=new wk,this.routeReuseStrategy=new hC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Ov),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new $A(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new jw(V)),this.ngModule=c.get(g.h0i),this.console=c.get(g.c2e);const R=c.get(g.R0b);this.isNgZoneEnabled=R instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Dw(){return new au(new Wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_m(this.currentUrlTree,this.rootComponentType),this.transitions=new A({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Xi(i=>0!==i.id),(0,Tt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),_r(i=>{let a=!1,c=!1;return f(i).pipe((0,_i.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_r(p=>{const _=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return gC(p.source)&&(this.browserUrlTree=p.extractedUrl),f(p).pipe(_r(R=>{const V=this.transitions.getValue();return r.next(new lv(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?Ds.E:Promise.resolve(R)}),function oC(n,e,t,r){return _r(i=>function Tp(n,e,t,r,i){return new iS(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Tt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_i.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},i.urlAfterRedirects=R.urlAfterRedirects}),function uS(n,e,t,r,i,a){return(0,yi.z)(c=>function aC(n,e,t,r,i,a,c="emptyOnly",p="legacy"){return new Av(n,e,t,r,i,c,p,a).recognize().pipe(_r(_=>null===_?function Tv(n){return new $r.y(e=>e.error(n))}(new Dv):f(_)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,a).pipe((0,Tt.U)(p=>({...c,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_i.b)(R=>{if(i.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(z,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new BA(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(V)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:z,source:ue,restoredState:Ne,extras:Pe}=p,tt=new lv(V,this.serializeUrl(z),ue,Ne);r.next(tt);const _t=_m(z,this.rootComponentType).snapshot;return f(i={...p,targetSnapshot:_t,urlAfterRedirects:z,extras:{...Pe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),Ds.E}),(0,_i.b)(p=>{const _=new jA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,Tt.U)(p=>i={...p,guards:wm(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function dk(n,e){return(0,yi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?f({...t,guardsResult:!0}):function hk(n,e,t,r){return(0,gn.D)(n).pipe((0,yi.z)(i=>function _k(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?f(a.map(p=>{const _=Ch(e)??i,C=hc(p,_);return la(function tS(n){return n&&Ep(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):_.runInContext(()=>C(n,e,t,r))).pipe(Ro())})).pipe(wp()):f(!0)}(i.component,i.route,t,e,r)),Ro(i=>!0!==i,!0))}(c,r,i,n).pipe((0,yi.z)(p=>p&&function XA(n){return"boolean"==typeof n}(p)?function fk(n,e,t,r){return(0,gn.D)(e).pipe(uc(i=>tu(function gk(n,e){return null!==n&&e&&e(new HA(n)),f(!0)}(i.route.parent,r),function pk(n,e){return null!==n&&e&&e(new GA(n)),f(!0)}(i.route,r),function yk(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Cm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>sp(()=>f(c.guards.map(_=>{const C=Ch(c.node)??t,T=hc(_,C);return la(function ck(n){return n&&Ep(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(Ro())})).pipe(wp())));return f(a).pipe(wp())}(n,i.path,t),function mk(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return f(!0);const i=r.map(a=>sp(()=>{const c=Ch(e)??t,p=hc(a,c);return la(function nC(n){return n&&Ep(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(Ro())}));return f(i).pipe(wp())}(n,i.route,t))),Ro(i=>!0!==i,!0))}(r,a,n,e):f(p)),(0,Tt.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,_i.b)(p=>{if(i.guardsResult=p.guardsResult,da(p.guardsResult))throw Kw(0,p.guardsResult);const _=new Ut(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),Xi(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),Pv(p=>{if(p.guards.canActivateChecks.length)return f(p).pipe((0,_i.b)(_=>{const C=new Uw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),_r(_=>{let C=!1;return f(_).pipe(function Ek(n,e){return(0,yi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return f(t);let a=0;return(0,gn.D)(i).pipe(uc(c=>function cS(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!lC(i)&&(a[cp]=i.title),function Nv(n,e,t,r){const i=function cC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return f({});const a={};return(0,gn.D)(i).pipe((0,yi.z)(c=>function lS(n,e,t,r){const i=Ch(e)??r,a=hc(n,i);return la(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Ro(),(0,_i.b)(p=>{a[c]=p}))),W_(1),function DA(n){return(0,Tt.U)(()=>n)}(a),ru(c=>vv(c)?Ds.E:ac(c)))}(a,n,e,r).pipe((0,Tt.U)(c=>(n._resolvedData=c,n.data=ZA(n,t).resolve,i&&lC(i)&&(n.data[cp]=i.title),null)))}(c.route,r,n,e)),(0,_i.b)(()=>a++),W_(1),(0,yi.z)(c=>a===i.length?f(t):Ds.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_i.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,_i.b)(_=>{const C=new Bw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}))}),Pv(p=>{const _=C=>{const T=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,_i.b)(R=>{C.component=R}),(0,Tt.U)(()=>{})));for(const R of C.children)T.push(..._(R));return T};return He(_(p.targetSnapshot.root)).pipe(fh(),nu(1))}),Pv(()=>this.afterPreactivation()),(0,Tt.U)(p=>{const _=function qw(n,e,t){const r=dc(n,e._root,t?t._root:void 0);return new ym(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:_}}),(0,_i.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(r=>(new ak(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,_i.b)({next(){a=!0},complete(){a=!0}}),Z_(()=>{a||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ru(p=>{if(c=!0,Jw(p)){Qw(p)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new pp(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(_),Qw(p)){const C=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gC(i.source)};this.scheduleNavigation(C,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Vw(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(p))}catch(C){i.reject(C)}}return Ds.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const p={...a};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,C=i||this.routerState.root,T=_?this.currentUrlTree.fragment:c;let R=null;switch(p){case"merge":R={...this.currentUrlTree.queryParams,...a};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=a||null}return null!==R&&(R=this.removeEmptyProps(R)),ov(C,this.currentUrlTree,t,R,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=da(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Fv(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new g.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...yS}:!1===r?{...Lv}:r,da(t))return Tw(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Tw(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ml(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let p,_,C;c?(p=c.resolve,_=c.reject,C=c.promise):C=new Promise((V,z)=>{p=V,_=z});const T=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),R=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:T,targetPageId:R,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:p,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new pp(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:function(){return pC()},providedIn:"root"}),n})();function gC(n){return"imperative"!==n}class Mm{}let mC=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(t=>t instanceof Ml),uc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,g.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,p=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,gn.D)(i).pipe((0,En.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):f(null);const a=i.pipe((0,yi.z)(c=>null===c?f(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,gn.D)([a,c]).pipe((0,En.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(nr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Mm),g.LFG(Ov))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nm=new g.OlP("");let Vv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ml&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Gw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function du(n,e){return{\u0275kind:n,\u0275providers:e}}function Pl(n){return[{provide:Sp,multi:!0,useValue:n}]}function Pm(){const n=(0,g.f3M)(g.zs3);return e=>{const t=n.get(g.z2F);if(e!==t.components[0])return;const r=n.get(nr),i=n.get(Uv);1===n.get(Bv)&&r.initialNavigation(),n.get(wS,null,g.XFs.Optional)?.setUpPreloading(),n.get(Nm,null,g.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Uv=new g.OlP("",{factory:()=>new I.x}),Bv=new g.OlP("",{providedIn:"root",factory:()=>1});const wS=new g.OlP("");function CS(n){return du(0,[{provide:wS,useExisting:mC},{provide:Mm,useExisting:n}])}const yC=new g.OlP("ROUTER_FORROOT_GUARD"),bS=[Ue,{provide:Aw,useClass:ev},{provide:nr,useFactory:pC},gp,{provide:Eh,useFactory:function Mp(n){return n.routerState.root},deps:[nr]},Ov];function _C(){return new g.PXZ("Router",nr)}let Pp=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[bS,[],Pl(t),{provide:yC,useFactory:AS,deps:[[nr,new g.FiY,new g.tp0]]},{provide:xm,useValue:r||{}},r?.useHash?{provide:Ce,useClass:mt}:{provide:Ce,useClass:dt},{provide:Nm,useFactory:()=>{const n=(0,g.f3M)(nr),e=(0,g.f3M)(fs),t=(0,g.f3M)(xm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vv(n,e,t)}},r?.preloadingStrategy?CS(r.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:_C},r?.initialNavigation?SS(r):[],[{provide:vC,useFactory:Pm},{provide:g.tb,multi:!0,useExisting:vC}]]}}static forChild(t){return{ngModule:n,providers:[Pl(t)]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(yC,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[yp]}),n})();function AS(n){return"guarded"}function SS(n){return["disabled"===n.initialNavigation?du(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const e=(0,g.f3M)(nr);return()=>{e.setUpLocationChangeListener()}}},{provide:Bv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?du(2,[{provide:Bv,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:e=>{const t=e.get(j,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(nr),p=e.get(Uv);(function i(a){e.get(nr).events.pipe(Xi(p=>p instanceof Ml||p instanceof pp||p instanceof Vw),(0,Tt.U)(p=>p instanceof Ml||p instanceof pp&&(0===p.code||1===p.code)&&null),Xi(p=>null!==p),nu(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),c.afterPreactivation=()=>(a(!0),r||p.closed?f(void 0):p),c.initialNavigation()}))}}]).\u0275providers:[]]}const vC=new g.OlP("");var _e=L(2090),ns=L(4859),Pn=L(9681),vi=L(1877);class RS{constructor(e,t){this._delegate=e,this.firebase=t,(0,Pn._addComponent)(e,new ns.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Pn.deleteApp)(this._delegate)))}_getService(e,t=Pn._DEFAULT_ENTRY_NAME){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Pn._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,Pn._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,Pn._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Om=new _e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),kp=function Po(){const n=function NS(n){const e={},t={__esModule:!0,initializeApp:function a(C,T={}){const R=Pn.initializeApp(C,T);if((0,_e.r3)(e,R.name))return e[R.name];const V=new n(R,t);return e[R.name]=V,V},app:i,registerVersion:Pn.registerVersion,setLogLevel:Pn.setLogLevel,onLog:Pn.onLog,apps:null,SDK_VERSION:Pn.SDK_VERSION,INTERNAL:{registerComponent:function p(C){const T=C.name,R=T.replace("-compat","");if(Pn._registerComponent(C)&&"PUBLIC"===C.type){const V=(z=i())=>{if("function"!=typeof z[R])throw Om.create("invalid-app-argument",{appName:T});return z[R]()};void 0!==C.serviceProps&&(0,_e.ZB)(V,C.serviceProps),t[R]=V,n.prototype[R]=function(...z){return this._getService.bind(this,T).apply(this,C.multipleInstances?z:[])}}return"PUBLIC"===C.type?t[R]:null},removeApp:function r(C){delete e[C]},useAsService:function _(C,T){return"serverAuth"===T?null:T},modularAPIs:Pn}};function i(C){if(!(0,_e.r3)(e,C=C||Pn._DEFAULT_ENTRY_NAME))throw Om.create("no-app",{appName:C});return e[C]}return t.default=t,Object.defineProperty(t,"apps",{get:function c(){return Object.keys(e).map(C=>e[C])}}),i.App=n,t}(RS);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:Po,extendNamespace:function e(t){(0,_e.ZB)(n,t)},createSubscribe:_e.ne,ErrorFactory:_e.LL,deepExtend:_e.ZB}),n}(),ii=new vi.Yd("@firebase/app-compat");if((0,_e.jU)()&&void 0!==self.firebase){ii.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&ii.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fa=kp;!function eo(n){(0,Pn.registerVersion)("@firebase/app-compat","0.2.14",n)}(),fa.registerVersion("firebase","10.0.0","app-compat");var P=L(5861),gc=L(655);const EC=function IC(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},wC=function $v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Hv=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vp=new vi.Yd("@firebase/auth");function Up(n,...e){Vp.logLevel<=vi.in.ERROR&&Vp.error(`Auth (${Pn.SDK_VERSION}): ${n}`,...e)}function zr(n,...e){throw Fm(n,...e)}function si(n,...e){return Fm(n,...e)}function Gv(n,e,t){const r=Object.assign(Object.assign({},wC()),{[e]:t});return new _e.LL("auth","Firebase",r).create(e,{appName:n.name})}function xh(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&zr(n,"argument-error"),Gv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Hv.create(n,...e)}function $e(n,e,...t){if(!n)throw Fm(e,...t)}function to(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Up(e),new Error(e)}function Oo(n,e){n||to(e)}function mc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Rh(){return"http:"===Vm()||"https:"===Vm()}function Vm(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oo(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function kS(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rh()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(n,e){Oo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Wv{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bC=new Ol(3e4,6e4);function jn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function $n(n,e,t,r){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,P.Z)(function*(n,e,t,r,i={}){return DC(n,i,(0,P.Z)(function*(){let a={},c={};r&&("GET"===e?c=r:a={body:JSON.stringify(r)});const p=(0,_e.xO)(Object.assign({key:n.config.apiKey},c)).slice(1),_=yield n._getAdditionalHeaders();return _["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode),Wv.fetch()(Zv(n,n.config.apiHost,t,p),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function DC(n,e,t){return jm.apply(this,arguments)}function jm(){return(jm=(0,P.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qv),e);try{const i=new OS(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=yield a.json();if("needConfirmation"in c)throw Bp(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const p=a.ok?c.errorMessage:c.error.message,[_,C]=p.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_)throw Bp(n,"credential-already-in-use",c);if("EMAIL_EXISTS"===_)throw Bp(n,"email-already-in-use",c);if("USER_DISABLED"===_)throw Bp(n,"user-disabled",c);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(C)throw Gv(n,T,C);zr(n,T)}}catch(i){if(i instanceof _e.ZR)throw i;zr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function ga(n,e,t,r){return $m.apply(this,arguments)}function $m(){return($m=(0,P.Z)(function*(n,e,t,r,i={}){const a=yield $n(n,e,t,r,i);return"mfaPendingCredential"in a&&zr(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function Zv(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Um(n.config,i):`${n.config.apiScheme}://${i}`}class OS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),bC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=si(n,e,r);return i.customData._tokenResponse=t,i}function Hm(){return(Hm=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Kv(n,e){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function TC(n,e){return zm.apply(this,arguments)}function zm(){return(zm=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Mh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wm(){return(Wm=(0,P.Z)(function*(n,e=!1){const t=(0,_e.m9)(n),r=yield t.getIdToken(e),i=Yv(r);$e(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:Mh(qm(i.auth_time)),issuedAtTime:Mh(qm(i.iat)),expirationTime:Mh(qm(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function qm(n){return 1e3*Number(n)}function Yv(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Up("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,_e.tV)(t);return i?JSON.parse(i):(Up("Failed to decode base64 JWT payload"),null)}catch(i){return Up("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hu(n,e){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,P.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _e.ZR&&US(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function US({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Nr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,P.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,P.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Qv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mh(this.lastLoginAt),this.creationTime=Mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jp(n){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,P.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield hu(n,TC(t,{idToken:r}));$e(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const c=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?RC(a.providerUserInfo):[],p=xC(n.providerData,c),T=!!n.isAnonymous&&!(n.email&&a.passwordHash||p?.length),R={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:p,metadata:new Qv(a.createdAt,a.lastLoginAt),isAnonymous:T};Object.assign(n,R)})).apply(this,arguments)}function Xv(){return(Xv=(0,P.Z)(function*(n){const e=(0,_e.m9)(n);yield jp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function xC(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RC(n){return n.map(e=>{var{providerId:t}=e,r=(0,gc._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function eI(){return(eI=(0,P.Z)(function*(n,e){const t=yield DC(n,{},(0,P.Z)(function*(){const r=(0,_e.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,c=Zv(n,i,"/v1/token",`key=${a}`),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Wv.fetch()(c,{method:"POST",headers:p,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class $p{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function VS(n){const e=Yv(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,P.Z)(function*(){return $e(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,P.Z)(function*(){const{accessToken:i,refreshToken:a,expiresIn:c}=yield function Nh(n,e){return eI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(c))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,c=new $p;return r&&($e("string"==typeof r,"internal-error",{appName:e}),c.refreshToken=r),i&&($e("string"==typeof i,"internal-error",{appName:e}),c.accessToken=i),a&&($e("number"==typeof a,"internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $p,this.toJSON())}_performRefresh(){return to("not implemented")}}function fu(n,e){$e("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ll{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=(0,gc._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Qv(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,P.Z)(function*(){const r=yield hu(t,t.stsTokenManager.getToken(t.auth,e));return $e(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function AC(n){return Wm.apply(this,arguments)}(this,e)}reload(){return function SC(n){return Xv.apply(this,arguments)}(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ll(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,P.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield jp(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,P.Z)(function*(){const t=yield e.getIdToken();return yield hu(e,function LS(n,e){return Hm.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,c,p,_,C,T;const R=null!==(r=t.displayName)&&void 0!==r?r:void 0,V=null!==(i=t.email)&&void 0!==i?i:void 0,z=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,ue=null!==(c=t.photoURL)&&void 0!==c?c:void 0,Ne=null!==(p=t.tenantId)&&void 0!==p?p:void 0,Pe=null!==(_=t._redirectEventId)&&void 0!==_?_:void 0,tt=null!==(C=t.createdAt)&&void 0!==C?C:void 0,_t=null!==(T=t.lastLoginAt)&&void 0!==T?T:void 0,{uid:vt,emailVerified:kt,isAnonymous:Gt,providerData:Qt,stsTokenManager:ui}=t;$e(vt&&ui,e,"internal-error");const sd=$p.fromJSON(this.name,ui);$e("string"==typeof vt,e,"internal-error"),fu(R,e.name),fu(V,e.name),$e("boolean"==typeof kt,e,"internal-error"),$e("boolean"==typeof Gt,e,"internal-error"),fu(z,e.name),fu(ue,e.name),fu(Ne,e.name),fu(Pe,e.name),fu(tt,e.name),fu(_t,e.name);const R_=new Ll({uid:vt,auth:e,email:V,emailVerified:kt,displayName:R,isAnonymous:Gt,photoURL:ue,phoneNumber:z,tenantId:Ne,stsTokenManager:sd,createdAt:tt,lastLoginAt:_t});return Qt&&Array.isArray(Qt)&&(R_.providerData=Qt.map(L4=>Object.assign({},L4))),Pe&&(R_._redirectEventId=Pe),R_}static _fromIdTokenResponse(e,t,r=!1){return(0,P.Z)(function*(){const i=new $p;i.updateFromServerResponse(t);const a=new Ll({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jp(a),a})()}}const tI=new Map;function no(n){Oo(n instanceof Function,"Expected a class definition");let e=tI.get(n);return e?(Oo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tI.set(n,e),e)}const yc=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,P.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,P.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,P.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,P.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ii(n,e,t){return`firebase:${n}:${e}:${t}`}class Ph{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Ii(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ii("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,P.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ll._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,P.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,P.Z)(function*(){if(!t.length)return new Ph(no(yc),e,r);const i=(yield Promise.all(t.map(function(){var C=(0,P.Z)(function*(T){if(yield T._isAvailable())return T});return function(T){return C.apply(this,arguments)}}()))).filter(C=>C);let a=i[0]||no(yc);const c=Ii(r,e.config.apiKey,e.name);let p=null;for(const C of t)try{const T=yield C._get(c);if(T){const R=Ll._fromJSON(e,T);C!==a&&(p=R),a=C;break}}catch{}const _=i.filter(C=>C._shouldAllowMigration);return a._shouldAllowMigration&&_.length?(a=_[0],p&&(yield a._set(c,p.toJSON())),yield Promise.all(t.map(function(){var C=(0,P.Z)(function*(T){if(T!==a)try{yield T._remove(c)}catch{}});return function(T){return C.apply(this,arguments)}}())),new Ph(a,e,r)):new Ph(a,e,r)})()}}function NC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lo(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PC(e))return"Blackberry";if(kC(e))return"Webos";if(As(e))return"Safari";if((e.includes("chrome/")||ro(e))&&!e.includes("edge/"))return"Chrome";if(kh(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Lo(n=(0,_e.z$)()){return/firefox\//i.test(n)}function As(n=(0,_e.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ro(n=(0,_e.z$)()){return/crios\//i.test(n)}function nI(n=(0,_e.z$)()){return/iemobile/i.test(n)}function kh(n=(0,_e.z$)()){return/android/i.test(n)}function PC(n=(0,_e.z$)()){return/blackberry/i.test(n)}function kC(n=(0,_e.z$)()){return/webos/i.test(n)}function Oh(n=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OC(n=(0,_e.z$)()){return Oh(n)||kh(n)||kC(n)||PC(n)||/windows phone/i.test(n)||nI(n)}function FC(n,e=[]){let t;switch(n){case"Browser":t=NC((0,_e.z$)());break;case"Worker":t=`${NC((0,_e.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pn.SDK_VERSION}/${r}`}function Km(){return(Km=(0,P.Z)(function*(n){return(yield $n(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gp(n,e){return iI.apply(this,arguments)}function iI(){return(iI=(0,P.Z)(function*(n,e){return $n(n,"GET","/v2/recaptchaConfig",jn(n,e))})).apply(this,arguments)}function sI(n){return void 0!==n&&void 0!==n.getResponse}function oI(n){return void 0!==n&&void 0!==n.enterprise}class aI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function zp(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=si("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function Ym(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function uI(n){return`__${n}${Math.floor(1e6*Math.random())}`}class cI{constructor(e){this.type="recaptcha-enterprise",this.auth=rr(e)}verify(e="verify",t=!1){var r=this;return(0,P.Z)(function*(){function a(){return a=(0,P.Z)(function*(p){if(!t){if(null==p.tenantId&&null!=p._agentRecaptchaConfig)return p._agentRecaptchaConfig.siteKey;if(null!=p.tenantId&&void 0!==p._tenantRecaptchaConfigs[p.tenantId])return p._tenantRecaptchaConfigs[p.tenantId].siteKey}return new Promise(function(){var _=(0,P.Z)(function*(C,T){Gp(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(R=>{if(void 0!==R.recaptchaKey){const V=new aI(R);return null==p.tenantId?p._agentRecaptchaConfig=V:p._tenantRecaptchaConfigs[p.tenantId]=V,C(V.siteKey)}T(new Error("recaptcha Enterprise site key undefined"))}).catch(R=>{T(R)})});return function(C,T){return _.apply(this,arguments)}}())}),a.apply(this,arguments)}function c(p,_,C){const T=window.grecaptcha;oI(T)?T.enterprise.ready(()=>{T.enterprise.execute(p,{action:e}).then(R=>{_(R)}).catch(()=>{_("NO_RECAPTCHA")})}):C(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((p,_)=>{(function i(p){return a.apply(this,arguments)})(r.auth).then(C=>{if(!t&&oI(window.grecaptcha))c(C,p,_);else{if(typeof window>"u")return void _(new Error("RecaptchaVerifier is only supported in browser"));zp("https://www.google.com/recaptcha/enterprise.js?render="+C).then(()=>{c(C,p,_)}).catch(T=>{_(T)})}}).catch(C=>{_(C)})})})()}}function pu(n,e,t){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,P.Z)(function*(n,e,t,r=!1){const i=new cI(n);let a;try{a=yield i.verify(t)}catch{a=yield i.verify(t,!0)}const c=Object.assign({},e);return Object.assign(c,r?{captchaResp:a}:{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})).apply(this,arguments)}class jS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,p)=>{try{c(e(a))}catch(_){p(_)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,P.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class $S{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $C(this),this.idTokenSubscription=new $C(this),this.beforeStateQueue=new jS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=no(t)),this._initializationPromise=this.queue((0,P.Z)(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield Ph.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,P.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,P.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let a=i,c=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const p=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,_=a?._redirectEventId,C=yield t.tryRedirectSignIn(e);(!p||p===_)&&C?.user&&(a=C.user,c=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{yield t.beforeStateQueue.runMiddleware(a)}catch(p){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(p))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return $e(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,P.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,P.Z)(function*(){try{yield jp(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zv(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,P.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,P.Z)(function*(){const r=e?(0,_e.m9)(e):null;return r&&$e(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,P.Z)(function*(){if(!r._deleted)return e&&$e(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,P.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,P.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,P.Z)(function*(){yield t.assertedPersistence.setPersistence(no(e))}))}initializeRecaptchaConfig(){var e=this;return(0,P.Z)(function*(){const t=yield Gp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new aI(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new cI(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,P.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,P.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&no(e)||t._popupRedirectResolver;$e(r,t,"argument-error"),t.redirectPersistenceManager=yield Ph.create(t,[no(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,P.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,P.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,P.Z)(function*(){if(e===t.currentUser)return t.queue((0,P.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t),c=this._isInitialized?Promise.resolve():this._initializationPromise;return $e(c,this,"internal-error"),c.then(()=>a(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,P.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,P.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const a=yield e._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r})()}_getAppCheckToken(){var e=this;return(0,P.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function CC(n,...e){Vp.logLevel<=vi.in.WARN&&Vp.warn(`Auth (${Pn.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function rr(n){return(0,_e.m9)(n)}class $C{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,_e.ne)(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function GC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Lh{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return to("not implemented")}_getIdTokenResponse(e){return to("not implemented")}_linkToIdToken(e,t){return to("not implemented")}_getReauthenticationResolver(e){return to("not implemented")}}function WC(n,e){return lI.apply(this,arguments)}function lI(){return(lI=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:resetPassword",jn(n,e))})).apply(this,arguments)}function qC(n,e){return dI.apply(this,arguments)}function dI(){return(dI=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qS(n,e){return hI.apply(this,arguments)}function hI(){return(hI=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:update",jn(n,e))})).apply(this,arguments)}function Jm(n,e){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithPassword",jn(n,e))})).apply(this,arguments)}function Wp(n,e){return ey.apply(this,arguments)}function ey(){return(ey=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:sendOobCode",jn(n,e))})).apply(this,arguments)}function ZC(n,e){return ty.apply(this,arguments)}function ty(){return(ty=(0,P.Z)(function*(n,e){return Wp(n,e)})).apply(this,arguments)}function ny(n,e){return ry.apply(this,arguments)}function ry(){return(ry=(0,P.Z)(function*(n,e){return Wp(n,e)})).apply(this,arguments)}function iy(n,e){return sy.apply(this,arguments)}function sy(){return(sy=(0,P.Z)(function*(n,e){return Wp(n,e)})).apply(this,arguments)}function KC(n,e){return gu.apply(this,arguments)}function gu(){return(gu=(0,P.Z)(function*(n,e){return Wp(n,e)})).apply(this,arguments)}function fI(){return(fI=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithEmailLink",jn(n,e))})).apply(this,arguments)}function YC(){return(YC=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithEmailLink",jn(n,e))})).apply(this,arguments)}class Fl extends Lh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Fl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Fl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,P.Z)(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const a=yield pu(e,i,"signInWithPassword");return Jm(e,a)}return Jm(e,i).catch(function(){var a=(0,P.Z)(function*(c){if("auth/missing-recaptcha-token"===c.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const p=yield pu(e,i,"signInWithPassword");return Jm(e,p)}return Promise.reject(c)});return function(c){return a.apply(this,arguments)}}());case"emailLink":return function ZS(n,e){return fI.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:zr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,P.Z)(function*(){switch(r.signInMethod){case"password":return qC(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Fh(n,e){return YC.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:zr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function _c(n,e){return oy.apply(this,arguments)}function oy(){return(oy=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithIdp",jn(n,e))})).apply(this,arguments)}class mu extends Lh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=(0,gc._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;const c=new mu(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){return _c(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,_c(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_c(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,_e.xO)(t)}return e}}function Mt(n,e){return pI.apply(this,arguments)}function pI(){return(pI=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:sendVerificationCode",jn(n,e))})).apply(this,arguments)}function gI(){return(gI=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithPhoneNumber",jn(n,e))})).apply(this,arguments)}function mI(){return(mI=(0,P.Z)(function*(n,e){const t=yield ga(n,"POST","/v1/accounts:signInWithPhoneNumber",jn(n,e));if(t.temporaryProof)throw Bp(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const ay={USER_NOT_FOUND:"user-not-found"};function Hn(){return(Hn=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithPhoneNumber",jn(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ay)})).apply(this,arguments)}class Uh extends Lh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Uh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Uh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function KS(n,e){return gI.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Vh(n,e){return mI.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function uy(n,e){return Hn.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return r||t||i||a?new Uh({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}):null}}class qp{constructor(e){var t,r,i,a,c,p;const _=(0,_e.zd)((0,_e.pd)(e)),C=null!==(t=_.apiKey)&&void 0!==t?t:null,T=null!==(r=_.oobCode)&&void 0!==r?r:null,R=function JC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=_.mode)&&void 0!==i?i:null);$e(C&&T&&R,"argument-error"),this.apiKey=C,this.operation=R,this.code=T,this.continueUrl=null!==(a=_.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(c=_.languageCode)&&void 0!==c?c:null,this.tenantId=null!==(p=_.tenantId)&&void 0!==p?p:null}static parseLink(e){const t=function XC(n){const e=(0,_e.zd)((0,_e.pd)(n)).link,t=e?(0,_e.zd)((0,_e.pd)(e)).deep_link_id:null,r=(0,_e.zd)((0,_e.pd)(n)).deep_link_id;return(r?(0,_e.zd)((0,_e.pd)(r)).link:null)||r||t||e||n}(e);try{return new qp(t)}catch{return null}}}let cy=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Fl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=qp.parseLink(r);return $e(i,"argument-error"),Fl._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ma{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vl extends ma{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bh extends Vl{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return $e("providerId"in t&&"signInMethod"in t,"argument-error"),mu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return $e(e.idToken||e.accessToken,"argument-error"),mu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Bh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:c,providerId:p}=e;if(!r&&!i&&!t&&!a||!p)return null;try{return new Bh(p)._credential({idToken:t,accessToken:r,nonce:c,pendingToken:a})}catch{return null}}}let eb=(()=>{class n extends Vl{constructor(){super("facebook.com")}static credential(t){return mu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),tb=(()=>{class n extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return mu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),jh=(()=>{class n extends Vl{constructor(){super("github.com")}static credential(t){return mu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class $h extends Lh{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return _c(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,_c(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_c(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return r&&i&&a&&r===i?new $h(r,a):null}static _create(e,t){return new $h(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ul extends ma{constructor(e){$e(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ul.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ul.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=$h.fromJSON(e);return $e(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return $h._create(r,t)}catch{return null}}}let yI=(()=>{class n extends Vl{constructor(){super("twitter.com")}static credential(t,r){return mu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Zp(n,e){return ly.apply(this,arguments)}function ly(){return(ly=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signUp",jn(n,e))})).apply(this,arguments)}class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,P.Z)(function*(){const a=yield Ll._fromIdTokenResponse(e,r,i),c=Hh(r);return new io({user:a,providerId:c,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,P.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Hh(r);return new io({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Hh(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function _I(){return(_I=(0,P.Z)(function*(n){var e;const t=rr(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new io({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Zp(t,{returnSecureToken:!0}),i=yield io._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class dy extends _e.ZR{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dy.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new dy(e,t,r,i)}}function nb(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?dy._fromErrorAndOperation(n,a,e,r):a})}function vI(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function hy(){return(hy=(0,P.Z)(function*(n,e){const t=(0,_e.m9)(n);yield py(!0,t,e);const{providerUserInfo:r}=yield Kv(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=vI(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t})).apply(this,arguments)}function II(n,e){return fy.apply(this,arguments)}function fy(){return(fy=(0,P.Z)(function*(n,e,t=!1){const r=yield hu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return io._forOperation(n,"link",r)})).apply(this,arguments)}function py(n,e,t){return EI.apply(this,arguments)}function EI(){return(EI=(0,P.Z)(function*(n,e,t){yield jp(e);const i=!1===n?"provider-already-linked":"no-such-provider";$e(vI(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function XS(n,e){return ib.apply(this,arguments)}function ib(){return(ib=(0,P.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const a=yield hu(n,nb(r,i,e,n),t);$e(a.idToken,r,"internal-error");const c=Yv(a.idToken);$e(c,r,"internal-error");const{sub:p}=c;return $e(n.uid===p,r,"user-mismatch"),io._forOperation(n,i,a)}catch(a){throw"auth/user-not-found"===a?.code&&zr(r,"user-mismatch"),a}})).apply(this,arguments)}function ex(n,e){return sb.apply(this,arguments)}function sb(){return(sb=(0,P.Z)(function*(n,e,t=!1){const r="signIn",i=yield nb(n,r,e),a=yield io._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}function Yp(n,e){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,P.Z)(function*(n,e){return ex(rr(n),e)})).apply(this,arguments)}function ob(n,e){return wI.apply(this,arguments)}function wI(){return(wI=(0,P.Z)(function*(n,e){const t=(0,_e.m9)(n);return yield py(!1,t,e.providerId),II(t,e)})).apply(this,arguments)}function CI(n,e){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(n,e){return XS((0,_e.m9)(n),e)})).apply(this,arguments)}function tx(n,e){return bI.apply(this,arguments)}function bI(){return(bI=(0,P.Z)(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithCustomToken",jn(n,e))})).apply(this,arguments)}function DI(){return(DI=(0,P.Z)(function*(n,e){const t=rr(n),r=yield tx(t,{token:e,returnSecureToken:!0}),i=yield io._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class Qp{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?gy._fromServerResponse(e,t):"totpInfo"in t?TI._fromServerResponse(e,t):zr(e,"internal-error")}}class gy extends Qp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new gy(t)}}class TI extends Qp{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new TI(t)}}function zh(n,e,t){var r;$e((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),$e(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&($e(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&($e(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function AI(){return AI=(0,P.Z)(function*(n,e,t){var r;const i=rr(n),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield pu(i,a,"getOobCode",!0);t&&zh(i,c,t),yield ny(i,c)}else t&&zh(i,a,t),yield ny(i,a).catch(function(){var c=(0,P.Z)(function*(p){if("auth/missing-recaptcha-token"!==p.code)return Promise.reject(p);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const _=yield pu(i,a,"getOobCode",!0);t&&zh(i,_,t),yield ny(i,_)}});return function(p){return c.apply(this,arguments)}}())}),AI.apply(this,arguments)}function SI(){return(SI=(0,P.Z)(function*(n,e,t){yield WC((0,_e.m9)(n),{oobCode:e,newPassword:t})})).apply(this,arguments)}function xI(){return(xI=(0,P.Z)(function*(n,e){yield qS((0,_e.m9)(n),{oobCode:e})})).apply(this,arguments)}function RI(n,e){return MI.apply(this,arguments)}function MI(){return(MI=(0,P.Z)(function*(n,e){const t=(0,_e.m9)(n),r=yield WC(t,{oobCode:e}),i=r.requestType;switch($e(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$e(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$e(r.mfaInfo,t,"internal-error");default:$e(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Qp._fromServerResponse(rr(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}})).apply(this,arguments)}function PI(){return(PI=(0,P.Z)(function*(n,e){const{data:t}=yield RI((0,_e.m9)(n),e);return t.email})).apply(this,arguments)}function my(){return my=(0,P.Z)(function*(n,e,t){var r;const i=rr(n),a={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let c;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const C=yield pu(i,a,"signUpPassword");c=Zp(i,C)}else c=Zp(i,a).catch(function(){var C=(0,P.Z)(function*(T){if("auth/missing-recaptcha-token"===T.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const R=yield pu(i,a,"signUpPassword");return Zp(i,R)}return Promise.reject(T)});return function(T){return C.apply(this,arguments)}}());const p=yield c.catch(C=>Promise.reject(C)),_=yield io._fromIdTokenResponse(i,"signIn",p);return yield i._updateCurrentUser(_.user),_}),my.apply(this,arguments)}function kI(){return kI=(0,P.Z)(function*(n,e,t){var r;const i=rr(n),a={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function c(p,_){$e(_.handleCodeInApp,i,"argument-error"),_&&zh(i,p,_)}if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const p=yield pu(i,a,"getOobCode",!0);c(p,t),yield iy(i,p)}else c(a,t),yield iy(i,a).catch(function(){var p=(0,P.Z)(function*(_){if("auth/missing-recaptcha-token"!==_.code)return Promise.reject(_);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const C=yield pu(i,a,"getOobCode",!0);c(C,t),yield iy(i,C)}});return function(_){return p.apply(this,arguments)}}())}),kI.apply(this,arguments)}function yy(){return(yy=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n),i=cy.credentialWithLink(e,t||mc());return $e(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Yp(r,i)})).apply(this,arguments)}function ox(n,e){return LI.apply(this,arguments)}function LI(){return(LI=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:createAuthUri",jn(n,e))})).apply(this,arguments)}function FI(){return(FI=(0,P.Z)(function*(n,e){const r={identifier:e,continueUri:Rh()?mc():"http://localhost"},{signinMethods:i}=yield ox((0,_e.m9)(n),r);return i||[]})).apply(this,arguments)}function VI(){return(VI=(0,P.Z)(function*(n,e){const t=(0,_e.m9)(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&zh(t.auth,i,e);const{email:a}=yield ZC(t.auth,i);a!==n.email&&(yield n.reload())})).apply(this,arguments)}function UI(){return(UI=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&zh(r.auth,a,t);const{email:c}=yield KC(r.auth,a);c!==n.email&&(yield n.reload())})).apply(this,arguments)}function lb(n,e){return _y.apply(this,arguments)}function _y(){return(_y=(0,P.Z)(function*(n,e){return $n(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function BI(){return(BI=(0,P.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,_e.m9)(n),a={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield hu(r,lb(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const p=r.providerData.find(({providerId:_})=>"password"===_);p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),yield r._updateTokensIfNecessary(c)})).apply(this,arguments)}function hb(n,e,t){return jI.apply(this,arguments)}function jI(){return(jI=(0,P.Z)(function*(n,e,t){const{auth:r}=n,a={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const c=yield hu(n,qC(r,a));yield n._updateTokensIfNecessary(c,!0)})).apply(this,arguments)}class vc{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class HI extends vc{constructor(e,t,r,i){super(e,t,r),this.username=i}}class GI extends vc{constructor(e,t){super(e,"facebook.com",t)}}class hx extends HI{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class fx extends vc{constructor(e,t){super(e,"google.com",t)}}class zI extends HI{constructor(e,t,r){super(e,"twitter.com",t,r)}}function px(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function $I(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const c=null===(t=null===(e=Yv(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(c)return new vc(a,"anonymous"!==c&&"custom"!==c?c:null)}if(!r)return null;switch(r){case"facebook.com":return new GI(a,i);case"github.com":return new hx(a,i);case"google.com":return new fx(a,i);case"twitter.com":return new zI(a,i,n.screenName||null);case"custom":case"anonymous":return new vc(a,null);default:return new vc(a,r,i)}}(t)}class Ic{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Ic("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ic("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return Ic._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return Ic._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Xp{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=rr(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(p=>Qp._fromServerResponse(r,p));$e(i.mfaPendingCredential,r,"internal-error");const c=Ic._fromMfaPendingCredential(i.mfaPendingCredential);return new Xp(c,a,function(){var p=(0,P.Z)(function*(_){const C=yield _._process(r,c);delete i.mfaInfo,delete i.mfaPendingCredential;const T=Object.assign(Object.assign({},i),{idToken:C.idToken,refreshToken:C.refreshToken});switch(t.operationType){case"signIn":const R=yield io._fromIdTokenResponse(r,t.operationType,T);return yield r._updateCurrentUser(R.user),R;case"reauthenticate":return $e(t.user,r,"internal-error"),io._forOperation(t.user,t.operationType,T);default:zr(r,"internal-error")}});return function(_){return p.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,P.Z)(function*(){return t.signInResolver(e)})()}}function yb(n,e){return $n(n,"POST","/v2/accounts/mfaEnrollment:start",jn(n,e))}class qI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Qp._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new qI(e)}getSession(){var e=this;return(0,P.Z)(function*(){return Ic._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,P.Z)(function*(){const i=e,a=yield r.getSession(),c=yield hu(r.user,i._process(r.user.auth,a,t));return yield r.user._updateTokensIfNecessary(c),r.user.reload()})()}unenroll(e){var t=this;return(0,P.Z)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const a=yield hu(t.user,function Ix(n,e){return $n(n,"POST","/v2/accounts/mfaEnrollment:withdraw",jn(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:c})=>c!==r),yield t.user._updateTokensIfNecessary(a),yield t.user.reload()}catch(a){throw a}})()}}const ZI=new WeakMap,KI="__sak";class YI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(KI,"1"),this.storage.removeItem(KI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vy=(()=>{class n extends YI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ex(){const n=(0,_e.z$)();return As(n)||Oh(n)}()&&function LC(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=OC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((p,_,C)=>{this.notifyListeners(p,C)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(i);if(t.newValue!==p)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const a=()=>{const p=this.storage.getItem(i);!r&&this.localCache[i]===p||this.notifyListeners(i,p)},c=this.storage.getItem(i);!function Hp(){return(0,_e.w1)()&&10===document.documentMode}()||c===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return(0,P.Z)(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,P.Z)(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return(0,P.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Ec=(()=>{class n extends YI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let bx=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,P.Z)(function*(){const i=t,{eventId:a,eventType:c,data:p}=i.data,_=r.handlersMap[c];if(!_?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:c});const C=Array.from(_).map(function(){var R=(0,P.Z)(function*(V){return V(i.origin,p)});return function(V){return R.apply(this,arguments)}}()),T=yield function Cx(n){return Promise.all(n.map(function(){var e=(0,P.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(C);i.ports[0].postMessage({status:"done",eventId:a,eventType:c,response:T})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function eg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Dx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,P.Z)(function*(){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,p;return new Promise((_,C)=>{const T=eg("",20);a.port1.start();const R=setTimeout(()=>{C(new Error("unsupported_event"))},r);p={messageChannel:a,onMessage(V){const z=V;if(z.data.eventId===T)switch(z.data.status){case"ack":clearTimeout(R),c=setTimeout(()=>{C(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(z.data.response);break;default:clearTimeout(R),clearTimeout(c),C(new Error("invalid_response"))}}},i.handlers.add(p),a.port1.addEventListener("message",p.onMessage),i.target.postMessage({eventType:e,eventId:T,data:t},[a.port2])}).finally(()=>{p&&i.removeMessageHandler(p)})})()}}function Er(){return window}function QI(){return typeof Er().WorkerGlobalScope<"u"&&"function"==typeof Er().importScripts}function JI(){return(JI=(0,P.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const XI="firebaseLocalStorageDb",ng="firebaseLocalStorage",e0="fbase_key";class qh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Iy(n,e){return n.transaction([ng],e?"readwrite":"readonly").objectStore(ng)}function Ey(){const n=indexedDB.open(XI,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ng,{keyPath:e0})}catch(i){t(i)}}),n.addEventListener("success",(0,P.Z)(function*(){const r=n.result;r.objectStoreNames.contains(ng)?e(r):(r.close(),yield function Mk(){const n=indexedDB.deleteDatabase(XI);return new qh(n).toPromise()}(),e(yield Ey()))}))})}function wb(n,e,t){return t0.apply(this,arguments)}function t0(){return(t0=(0,P.Z)(function*(n,e,t){const r=Iy(n,!0).put({[e0]:e,value:t});return new qh(r).toPromise()})).apply(this,arguments)}function n0(){return(n0=(0,P.Z)(function*(n,e){const t=Iy(n,!1).get(e),r=yield new qh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Zh(n,e){const t=Iy(n,!0).delete(e);return new qh(t).toPromise()}const Kh=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,P.Z)(function*(){return t.db||(t.db=yield Ey()),t.db})()}_withRetries(t){var r=this;return(0,P.Z)(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,P.Z)(function*(){return QI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,P.Z)(function*(){t.receiver=bx._getInstance(function Ib(){return QI()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,P.Z)(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,P.Z)(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,P.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function Ax(){return JI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Dx(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);!a||(null===(r=a[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=a[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,P.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function tg(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,P.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Ey();return yield wb(t,KI,"1"),yield Zh(t,KI),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,P.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,P.Z)(function*(){return i._withPendingWrite((0,P.Z)(function*(){return yield i._withRetries(a=>wb(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,P.Z)(function*(){const i=yield r._withRetries(a=>function Sx(n,e){return n0.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,P.Z)(function*(){return r._withPendingWrite((0,P.Z)(function*(){return yield r._withRetries(i=>Zh(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,P.Z)(function*(){const r=yield t._withRetries(c=>{const p=Iy(c,!1).getAll();return new qh(p).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;for(const{fbase_key:c,value:p}of r)a.add(c),JSON.stringify(t.localCache[c])!==JSON.stringify(p)&&(t.notifyListeners(c,p),i.push(c));for(const c of Object.keys(t.localCache))t.localCache[c]&&!a.has(c)&&(t.notifyListeners(c,null),i.push(c));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,P.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function s0(n,e){return $n(n,"POST","/v2/accounts/mfaSignIn:start",jn(n,e))}const jl=1e12;class wy{constructor(e){this.auth=e,this.counter=jl,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Px(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||jl;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||jl))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,P.Z)(function*(){var r;return null===(r=t._widgets.get(e||jl))||void 0===r||r.execute(),""})()}}class Px{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;$e(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kx(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cy=uI("rcb"),Cb=new Ol(3e4,6e4);class bb{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=Er().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return $e(function Ox(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&sI(Er().grecaptcha)?Promise.resolve(Er().grecaptcha):new Promise((r,i)=>{const a=Er().setTimeout(()=>{i(si(e,"network-request-failed"))},Cb.get());Er()[Cy]=()=>{Er().clearTimeout(a),delete Er()[Cy];const p=Er().grecaptcha;if(!p||!sI(p))return void i(si(e,"internal-error"));const _=p.render;p.render=(C,T)=>{const R=_(C,T);return this.counter++,R},this.hostLanguage=t,r(p)},zp(`https://www.google.com/recaptcha/api.js??${(0,_e.xO)({onload:Cy,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(a),i(si(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=Er().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lx{load(e){return(0,P.Z)(function*(){return new wy(e)})()}clearedOneInstance(){}}const Fx="recaptcha",a0={theme:"light",type:"image"};class u0{constructor(e,t,r=Object.assign({},a0)){this.parameters=r,this.type=Fx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(e),this.isInvisible="invisible"===this.parameters.size,$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;$e(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lx:new bb,this.validateStartingState()}verify(){var e=this;return(0,P.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(a=>{const c=p=>{!p||(e.tokenChangeListeners.delete(c),a(p))};e.tokenChangeListeners.add(c),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){$e(!this.parameters.sitekey,this.auth,"argument-error"),$e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=Er()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){$e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,P.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,P.Z)(function*(){$e(Rh()&&!QI(),e.auth,"internal-error"),yield function Db(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function VC(n){return Km.apply(this,arguments)}(e.auth);$e(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return $e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ig{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Uh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function l0(){return(l0=(0,P.Z)(function*(n,e,t){const r=rr(n),i=yield Yh(r,e,(0,_e.m9)(t));return new ig(i,a=>Yp(r,a))})).apply(this,arguments)}function d0(){return(d0=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n);yield py(!1,r,"phone");const i=yield Yh(r.auth,e,(0,_e.m9)(t));return new ig(i,a=>ob(r,a))})).apply(this,arguments)}function by(){return(by=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n),i=yield Yh(r.auth,e,(0,_e.m9)(t));return new ig(i,a=>CI(r,a))})).apply(this,arguments)}function Yh(n,e,t){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,P.Z)(function*(n,e,t){var r;const i=yield t.verify();try{let a;if($e("string"==typeof i,n,"argument-error"),$e(t.type===Fx,n,"argument-error"),a="string"==typeof e?{phoneNumber:e}:e,"session"in a){const c=a.session;if("phoneNumber"in a)return $e("enroll"===c.type,n,"internal-error"),(yield yb(n,{idToken:c.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{$e("signin"===c.type,n,"internal-error");const p=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;return $e(p,n,"missing-multi-factor-info"),(yield s0(n,{mfaPendingCredential:c.credential,mfaEnrollmentId:p,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:c}=yield Mt(n,{phoneNumber:a.phoneNumber,recaptchaToken:i});return c}}finally{t._reset()}})).apply(this,arguments)}function Ty(){return(Ty=(0,P.Z)(function*(n,e){yield II((0,_e.m9)(n),e)})).apply(this,arguments)}let Qh=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=rr(t)}verifyPhoneNumber(t,r){return Yh(this.auth,t,(0,_e.m9)(r))}static credential(t,r){return Uh._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?Uh._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function $l(n,e){return e?no(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ay extends Lh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _c(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _c(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _c(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tb(n){return ex(n.auth,new Ay(n),n.bypassAuthState)}function jx(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),XS(t,new Ay(n),n.bypassAuthState)}function Ab(n){return h0.apply(this,arguments)}function h0(){return(h0=(0,P.Z)(function*(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),II(t,new Ay(n),n.bypassAuthState)})).apply(this,arguments)}class Ei{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,P.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,P.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:c,error:p,type:_}=e;if(p)return void t.reject(p);const C={auth:t.auth,requestUri:r,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(_)(C))}catch(T){t.reject(T)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tb;case"linkViaPopup":case"linkViaRedirect":return Ab;case"reauthViaPopup":case"reauthViaRedirect":return jx;default:zr(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jh=new Ol(2e3,1e4);function f0(){return(f0=(0,P.Z)(function*(n,e,t){const r=rr(n);xh(n,e,ma);const i=$l(r,t);return new Hl(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function Sb(){return(Sb=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n);xh(r.auth,e,ma);const i=$l(r.auth,t);return new Hl(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function Sy(){return(Sy=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n);xh(r.auth,e,ma);const i=$l(r.auth,t);return new Hl(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let Hl=(()=>{class n extends Ei{constructor(t,r,i,a,c){super(t,r,a,c),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,P.Z)(function*(){const r=yield t.execute();return $e(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,P.Z)(function*(){Oo(1===t.filter.length,"Popup operations only handle one event");const r=eg();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(si(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Jh.get())};t()}}return n.currentPopupAction=null,n})();const Gl=new Map;class Gx extends Ei{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,P.Z)(function*(){let r=Gl.get(t.auth._key());if(!r){try{const a=(yield function Rb(n,e){return p0.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}Gl.set(t.auth._key(),r)}return t.bypassAuthState||Gl.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,P.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,P.Z)(function*(){})()}cleanUp(){}}function p0(){return(p0=(0,P.Z)(function*(n,e){const t=sg(e),r=_0(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function g0(n,e){return m0.apply(this,arguments)}function m0(){return(m0=(0,P.Z)(function*(n,e){return _0(n)._set(sg(e),"true")})).apply(this,arguments)}function xy(n,e){Gl.set(n._key(),e)}function _0(n){return no(n._redirectPersistence)}function sg(n){return Ii("pendingRedirect",n.config.apiKey,n.name)}function Ry(){return(Ry=(0,P.Z)(function*(n,e,t){const r=rr(n);xh(n,e,ma),yield r._initializationPromise;const i=$l(r,t);return yield g0(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function wc(){return(wc=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n);xh(r.auth,e,ma),yield r.auth._initializationPromise;const i=$l(r.auth,t);yield g0(i,r.auth);const a=yield Pb(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)})).apply(this,arguments)}function og(){return(og=(0,P.Z)(function*(n,e,t){const r=(0,_e.m9)(n);xh(r.auth,e,ma),yield r.auth._initializationPromise;const i=$l(r.auth,t);yield py(!1,r,e.providerId),yield g0(i,r.auth);const a=yield Pb(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)})).apply(this,arguments)}function I0(){return(I0=(0,P.Z)(function*(n,e){return yield rr(n)._initializationPromise,E0(n,e,!1)})).apply(this,arguments)}function E0(n,e){return w0.apply(this,arguments)}function w0(){return(w0=(0,P.Z)(function*(n,e,t=!1){const r=rr(n),i=$l(r,e),c=yield new Gx(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,yield r._persistUserIfCurrent(c.user),yield r._setRedirectUser(null,e)),c})).apply(this,arguments)}function Pb(n){return C0.apply(this,arguments)}function C0(){return(C0=(0,P.Z)(function*(n){const e=eg(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class b0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Lb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D0(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!D0(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(si(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(e))}saveEventToCache(e){this.cachedEventUids.add(Ob(e)),this.lastProcessedEventTime=Date.now()}}function Ob(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function D0({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Fb(n){return T0.apply(this,arguments)}function T0(){return(T0=(0,P.Z)(function*(n,e={}){return $n(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Vb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qx=/^https?/;function My(){return(My=(0,P.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Fb(n);for(const t of e)try{if(Bb(t))return}catch{}zr(n,"unauthorized-domain")})).apply(this,arguments)}function Bb(n){const e=mc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return""===c.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&c.hostname===r}if(!qx.test(t))return!1;if(Vb.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const jb=new Ol(3e4,6e4);function $b(){const n=Er().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let A0=null;function Hb(n){return A0=A0||function Zx(n){return new Promise((e,t)=>{var r,i,a;function c(){$b(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$b(),t(si(n,"network-request-failed"))},timeout:jb.get()})}if(null!==(i=null===(r=Er().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=Er().gapi)||void 0===a||!a.load){const p=uI("iframefcb");return Er()[p]=()=>{gapi.load?c():t(si(n,"network-request-failed"))},zp(`https://apis.google.com/js/api.js?onload=${p}`).catch(_=>t(_))}c()}}).catch(e=>{throw A0=null,e})}(n),A0}const Ok=new Ol(5e3,15e3),Vk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bk(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Um(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Pn.SDK_VERSION},i=Uk.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${(0,_e.xO)(r).slice(1)}`}function Gb(){return Gb=(0,P.Z)(function*(n){const e=yield Hb(n),t=Er().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:Bk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vk,dontclear:!0},r=>new Promise(function(){var i=(0,P.Z)(function*(a,c){yield r.restyle({setHideOnLeave:!1});const p=si(n,"network-request-failed"),_=Er().setTimeout(()=>{c(p)},Ok.get());function C(){Er().clearTimeout(_),a(r)}r.ping(C).then(C,()=>{c(p)})});return function(a,c){return i.apply(this,arguments)}}()))}),Gb.apply(this,arguments)}const Ny={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zb=encodeURIComponent("fac");function Kb(n,e,t,r,i,a){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,P.Z)(function*(n,e,t,r,i,a){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pn.SDK_VERSION,eventId:i};if(e instanceof ma){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",(0,_e.xb)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries(a||{}))c[T]=R}if(e instanceof Vl){const T=e.getScopes().filter(R=>""!==R);T.length>0&&(c.scopes=T.join(","))}n.tenantId&&(c.tid=n.tenantId);const p=c;for(const T of Object.keys(p))void 0===p[T]&&delete p[T];const _=yield n._getAppCheckToken(),C=_?`#${Zb}=${encodeURIComponent(_)}`:"";return`${Yx(n)}?${(0,_e.xO)(p).slice(1)}${C}`})).apply(this,arguments)}function Yx({config:n}){return n.emulator?Um(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const R0="webStorageSupport";class Jb extends class Gk{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return to("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Jb(e)}_finalizeEnroll(e,t,r){return function _b(n,e){return $n(n,"POST","/v2/accounts/mfaEnrollment:finalize",jn(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function rg(n,e){return $n(n,"POST","/v2/accounts/mfaSignIn:finalize",jn(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zk=(()=>{class n{constructor(){}static assertion(t){return Jb._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var eD="@firebase/auth";class tD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,P.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _u(){return window}function ag(){return(ag=(0,P.Z)(function*(n,e,t){var r;const{BuildInfo:i}=_u();Oo(e.sessionId,"AuthEvent did not contain a session ID");const a=yield sD(e.sessionId),c={};return Oh()?c.ibi=i.packageName:kh()?c.apn=i.packageName:zr(n,"operation-not-supported-in-this-environment"),i.displayName&&(c.appDisplayName=i.displayName),c.sessionId=a,Kb(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,c)})).apply(this,arguments)}function Oy(){return(Oy=(0,P.Z)(function*(n){const{BuildInfo:e}=_u(),t={};Oh()?t.iosBundleId=e.packageName:kh()?t.androidPackageName=e.packageName:zr(n,"operation-not-supported-in-this-environment"),yield Fb(n,t)})).apply(this,arguments)}function Ly(){return(Ly=(0,P.Z)(function*(n,e,t){const{cordova:r}=_u();let i=()=>{};try{yield new Promise((a,c)=>{let p=null;function _(){var R;a();const V=null===(R=r.plugins.browsertab)||void 0===R?void 0:R.close;"function"==typeof V&&V(),"function"==typeof t?.close&&t.close()}function C(){p||(p=window.setTimeout(()=>{c(si(n,"redirect-cancelled-by-user"))},2e3))}function T(){"visible"===document?.visibilityState&&C()}e.addPassiveListener(_),document.addEventListener("resume",C,!1),kh()&&document.addEventListener("visibilitychange",T,!1),i=()=>{e.removePassiveListener(_),document.removeEventListener("resume",C,!1),document.removeEventListener("visibilitychange",T,!1),p&&window.clearTimeout(p)}})}finally{i()}})).apply(this,arguments)}function sD(n){return O0.apply(this,arguments)}function O0(){return(O0=(0,P.Z)(function*(n){const e=L0(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function L0(n){if(Oo(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(0,_e.Pz)("authIdTokenMaxAge"),function Fo(n){(0,Pn._registerComponent)(new ns.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=r.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:c,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FC(n)},C=new $S(r,i,a,_);return function GS(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(no);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(C,t),C},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Pn._registerComponent)(new ns.wA("auth-internal",e=>{const t=rr(e.getProvider("auth").getImmediate());return new tD(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Pn.registerVersion)(eD,"1.0.0",function qk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Pn.registerVersion)(eD,"1.0.0","esm2017")}("Browser");class oD extends b0{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,P.Z)(function*(){yield e.initPromise})()}}function aD(n){return uD.apply(this,arguments)}function uD(){return(uD=(0,P.Z)(function*(n){const e=yield V0()._get(U0(n));return e&&(yield V0()._remove(U0(n))),e})).apply(this,arguments)}function rR(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<20;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function V0(){return no(vy)}function U0(n){return Ii("authEvent",n.config.apiKey,n.name)}function ug(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return(0,_e.zd)(t.join("?"))}function Fy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:si("no-auth-event")}}function Xh(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function cg(n=(0,_e.z$)()){return!("file:"!==Xh()&&"ionic:"!==Xh()&&"capacitor:"!==Xh()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function _D(){try{const n=self.localStorage,e=eg();if(n)return n.setItem(e,"1"),n.removeItem(e),!function yD(n=(0,_e.z$)()){return function sR(){return(0,_e.w1)()&&11===document?.documentMode}()||function mD(n=(0,_e.z$)()){return/Edge\/\d+/.test(n)}(n)}()||(0,_e.hl)()}catch{return B0()&&(0,_e.hl)()}return!1}function B0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vD(){return(function Vy(){return"http:"===Xh()||"https:"===Xh()}()||(0,_e.ru)()||cg())&&!function gD(){return(0,_e.b$)()||(0,_e.UG)()}()&&_D()&&!B0()}function oR(){return cg()&&typeof document<"u"}function j0(){return(j0=(0,P.Z)(function*(){return!!oR()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})})).apply(this,arguments)}const Ss={LOCAL:"local",NONE:"none",SESSION:"session"},Uy=$e,uR="persistence";function ED(n){return wD.apply(this,arguments)}function wD(){return(wD=(0,P.Z)(function*(n){yield n._initializationPromise;const e=lg(),t=Ii(uR,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())})).apply(this,arguments)}function lg(){var n;try{return(null===(n=function aR(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const lR=$e;class bc{constructor(){this.browserResolver=no(class ky{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ec,this._completeRedirectFn=E0,this._overrideRedirectResult=xy}_openPopup(e,t,r,i){var a=this;return(0,P.Z)(function*(){var c;Oo(null===(c=a.eventManagers[e._key()])||void 0===c?void 0:c.manager,"_initialize() not called before _openPopup()");const p=yield Kb(e,t,r,mc(),i);return function Hk(n,e,t,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _=Object.assign(Object.assign({},Ny),{width:r.toString(),height:i.toString(),top:a,left:c}),C=(0,_e.z$)().toLowerCase();t&&(p=ro(C)?"_blank":t),Lo(C)&&(e=e||"http://localhost",_.scrollbars="yes");const T=Object.entries(_).reduce((V,[z,ue])=>`${V}${z}=${ue},`,"");if(function rI(n=(0,_e.z$)()){var e;return Oh(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(C)&&"_self"!==p)return function x0(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",p),new S0(null);const R=window.open(e||"",p,T);$e(R,n,"popup-blocked");try{R.focus()}catch{}return new S0(R)}(e,p,eg())})()}_openRedirect(e,t,r,i){var a=this;return(0,P.Z)(function*(){return yield a._originValidation(e),function Tx(n){Er().location.href=n}(yield Kb(e,t,r,mc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Oo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,P.Z)(function*(){const r=yield function jk(n){return Gb.apply(this,arguments)}(e),i=new b0(e);return r.register("authEvent",a=>($e(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(R0,{type:R0},i=>{var a;const c=null===(a=i?.[0])||void 0===a?void 0:a[R0];void 0!==c&&t(!!c),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Ub(n){return My.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OC()||As()||Oh()}}),this.cordovaResolver=no(class lD{constructor(){this._redirectPersistence=Ec,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=E0,this._overrideRedirectResult=xy}_initialize(e){var t=this;return(0,P.Z)(function*(){const r=e._key();let i=t.eventManagers.get(r);return i||(i=new oD(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){zr(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){var a=this;return(0,P.Z)(function*(){!function tR(n){var e,t,r,i,a,c,p,_,C,T;const R=_u();$e("function"==typeof(null===(e=R?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$e(typeof(null===(t=R?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$e("function"==typeof(null===(a=null===(i=null===(r=R?.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$e("function"==typeof(null===(_=null===(p=null===(c=R?.cordova)||void 0===c?void 0:c.plugins)||void 0===p?void 0:p.browsertab)||void 0===_?void 0:_.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$e("function"==typeof(null===(T=null===(C=R?.cordova)||void 0===C?void 0:C.InAppBrowser)||void 0===T?void 0:T.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const c=yield a._initialize(e);yield c.initialized(),c.resetRedirect(),function y0(){Gl.clear()}(),yield a._originValidation(e);const p=function F0(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:rR(),postBody:null,tenantId:n.tenantId,error:si(n,"no-auth-event")}}(e,r,i);yield function vu(n,e){return V0()._set(U0(n),e)}(e,p);const _=yield function Xx(n,e,t){return ag.apply(this,arguments)}(e,p,t),C=yield function eR(n){const{cordova:e}=_u();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,function BS(n=(0,_e.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(i)})})}(_);return function iD(n,e,t){return Ly.apply(this,arguments)}(e,c,C)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function rD(n){return Oy.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=_u(),c=setTimeout((0,P.Z)(function*(){yield aD(e),t.onEvent(Fy())}),500),p=function(){var T=(0,P.Z)(function*(R){clearTimeout(c);const V=yield aD(e);let z=null;V&&R?.url&&(z=function nR(n,e){var t,r;const i=function Kk(n){const e=ug(n),t=e.link?decodeURIComponent(e.link):void 0,r=ug(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ug(i).link||i||r||t||n}(e);if(i.includes("/__/auth/callback")){const a=ug(i),c=a.firebaseError?function cD(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(a.firebaseError)):null,p=null===(r=null===(t=c?.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],_=p?si(p):null;return _?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:_,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}(V,R.url)),t.onEvent(z||Fy())});return function(V){return T.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,p);const _=i,C=`${a.packageName.toLowerCase()}://`;_u().handleOpenURL=function(){var T=(0,P.Z)(function*(R){if(R.toLowerCase().startsWith(C)&&p({url:R}),"function"==typeof _)try{_(R)}catch(V){console.error(V)}});return function(R){return T.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ec,this._completeRedirectFn=E0,this._overrideRedirectResult=xy}_initialize(e){var t=this;return(0,P.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,i){var a=this;return(0,P.Z)(function*(){return yield a.selectUnderlyingResolver(),a.assertedUnderlyingResolver._openPopup(e,t,r,i)})()}_openRedirect(e,t,r,i){var a=this;return(0,P.Z)(function*(){return yield a.selectUnderlyingResolver(),a.assertedUnderlyingResolver._openRedirect(e,t,r,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return oR()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lR(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,P.Z)(function*(){if(e.underlyingResolver)return;const t=yield function ID(){return j0.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function $0(n){return n.unwrap()}function CD(n){return By(n)}function By(n){const{_tokenResponse:e}=n instanceof _e.ZR?n.customData:n;if(!e)return null;if(!(n instanceof _e.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return Qh.credentialFromResult(n);const t=e.providerId;if(!t||"password"===t)return null;let r;switch(t){case"google.com":r=tb;break;case"facebook.com":r=eb;break;case"github.com":r=jh;break;case"twitter.com":r=yI;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:c,pendingToken:p,nonce:_}=e;return a||c||i||p?p?t.startsWith("saml.")?$h._create(t,p):mu._fromParams({providerId:t,signInMethod:t,pendingToken:p,idToken:i,accessToken:a}):new Bh(t).credential({idToken:i,accessToken:a,rawNonce:_}):null}return n instanceof _e.ZR?r.credentialFromError(n):r.credentialFromResult(n)}function rs(n,e){return e.catch(t=>{throw t instanceof _e.ZR&&function H0(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new jy(n,function mb(n,e){var t;const r=(0,_e.m9)(n),i=e;return $e(e.customData.operationType,r,"argument-error"),$e(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),Xp._fromError(r,i)}(n,e));else if(r){const i=By(e),a=e;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const i=t.user;return{operationType:t.operationType,credential:CD(t),additionalUserInfo:px(t),user:Dc.getOrCreate(i)}})}function dg(n,e){return hg.apply(this,arguments)}function hg(){return(hg=(0,P.Z)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>rs(n,t.confirm(r))}})).apply(this,arguments)}class jy{constructor(e,t){this.resolver=t,this.auth=function zl(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return rs($0(this.auth),this.resolver.resolveSignIn(e))}}class Dc{constructor(e){this._delegate=e,this.multiFactor=function vb(n){const e=(0,_e.m9)(n);return ZI.has(e)||ZI.set(e,qI._fromUser(e)),ZI.get(e)}(e)}static getOrCreate(e){return Dc.USER_MAP.has(e)||Dc.USER_MAP.set(e,new Dc(e)),Dc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,P.Z)(function*(){return rs(t.auth,ob(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,P.Z)(function*(){return dg(r.auth,function Vx(n,e,t){return d0.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,P.Z)(function*(){return rs(t.auth,function xb(n,e,t){return Sy.apply(this,arguments)}(t._delegate,e,bc))})()}linkWithRedirect(e){var t=this;return(0,P.Z)(function*(){return yield ED(rr(t.auth)),function Wx(n,e,t){return function Nb(n,e,t){return og.apply(this,arguments)}(n,e,t)}(t._delegate,e,bc)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,P.Z)(function*(){return rs(t.auth,CI(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return dg(this.auth,function Ux(n,e,t){return by.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return rs(this.auth,function Nk(n,e,t){return Sb.apply(this,arguments)}(this._delegate,e,bc))}reauthenticateWithRedirect(e){var t=this;return(0,P.Z)(function*(){return yield ED(rr(t.auth)),function zx(n,e,t){return function Mb(n,e,t){return wc.apply(this,arguments)}(n,e,t)}(t._delegate,e,bc)})()}sendEmailVerification(e){return function ux(n,e){return VI.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,P.Z)(function*(){return yield function rb(n,e){return hy.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function db(n,e){return hb((0,_e.m9)(n),e,null)}(this._delegate,e)}updatePassword(e){return function dx(n,e){return hb((0,_e.m9)(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function Bx(n,e){return Ty.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function lx(n,e){return BI.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function cx(n,e,t){return UI.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dc.USER_MAP=new WeakMap;const $y=$e;let dR=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:i}=t.options;$y(i,"invalid-api-key",{appName:t.name}),$y(i,"invalid-api-key",{appName:t.name});const a=typeof window<"u"?bc:void 0;this._delegate=r.initialize({options:{persistence:bD(i,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(EC),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function HC(n,e,t){const r=rr(n);$e(r._canInitEmulator,r,"emulator-config-failed"),$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=GC(e),{host:c,port:p}=function zS(n){const e=GC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:zC(r.substr(a.length+1))}}{const[a,c]=r.split(":");return{host:a,port:zC(c)}}}(e);r.config.emulator={url:`${a}//${c}${null===p?"":`:${p}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:p,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function WS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function ub(n,e){return xI.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return RI(this._delegate,t)}confirmPasswordReset(t,r){return function ab(n,e,t){return SI.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var i=this;return(0,P.Z)(function*(){return rs(i._delegate,function cb(n,e,t){return my.apply(this,arguments)}(i._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function ax(n,e){return FI.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function OI(n,e){return"EMAIL_SIGNIN"===qp.parseLink(e)?.operation}(0,t)}getRedirectResult(){var t=this;return(0,P.Z)(function*(){$y(vD(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function kk(n,e){return I0.apply(this,arguments)}(t._delegate,bc);return r?rs(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function dD(n,e){rr(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,i){const{next:a,error:c,complete:p}=hR(t,r,i);return this._delegate.onAuthStateChanged(a,c,p)}onIdTokenChanged(t,r,i){const{next:a,error:c,complete:p}=hR(t,r,i);return this._delegate.onIdTokenChanged(a,c,p)}sendSignInLinkToEmail(t,r){return function ix(n,e,t){return kI.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function Wh(n,e,t){return AI.apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,P.Z)(function*(){let i;switch(function Qk(n,e){Uy(Object.values(Ss).includes(e),n,"invalid-persistence-type"),(0,_e.b$)()?Uy(e!==Ss.SESSION,n,"unsupported-persistence-type"):(0,_e.UG)()?Uy(e===Ss.NONE,n,"unsupported-persistence-type"):B0()?Uy(e===Ss.NONE||e===Ss.LOCAL&&(0,_e.hl)(),n,"unsupported-persistence-type"):Uy(e===Ss.NONE||_D(),n,"unsupported-persistence-type")}(r._delegate,t),t){case Ss.SESSION:i=Ec;break;case Ss.LOCAL:i=(yield no(Kh)._isAvailable())?Kh:vy;break;case Ss.NONE:i=yc;break;default:return zr("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(i)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return rs(this._delegate,function Kp(n){return _I.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return rs(this._delegate,Yp(this._delegate,t))}signInWithCustomToken(t){return rs(this._delegate,function nx(n,e){return DI.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return rs(this._delegate,function rx(n,e,t){return Yp((0,_e.m9)(n),cy.credential(e,t))}(this._delegate,t,r))}signInWithEmailLink(t,r){return rs(this._delegate,function sx(n,e,t){return yy.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return dg(this._delegate,function c0(n,e,t){return l0.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,P.Z)(function*(){return $y(vD(),r._delegate,"operation-not-supported-in-this-environment"),rs(r._delegate,function $x(n,e,t){return f0.apply(this,arguments)}(r._delegate,t,bc))})()}signInWithRedirect(t){var r=this;return(0,P.Z)(function*(){return $y(vD(),r._delegate,"operation-not-supported-in-this-environment"),yield ED(r._delegate),function v0(n,e,t){return function Pk(n,e,t){return Ry.apply(this,arguments)}(n,e,t)}(r._delegate,t,bc)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function NI(n,e){return PI.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=Ss,n})();function hR(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const i=r;return{next:c=>i(c&&Dc.getOrCreate(c)),error:e,complete:t}}function bD(n,e){const t=function cR(n,e){const t=lg();if(!t)return[];const r=Ii(uR,n,e);switch(t.getItem(r)){case Ss.NONE:return[yc];case Ss.LOCAL:return[Kh,Ec];case Ss.SESSION:return[Ec];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(Kh)&&t.push(Kh),typeof window<"u")for(const r of[vy,Ec])t.includes(r)||t.push(r);return t.includes(yc)||t.push(yc),t}class G0{constructor(){this.providerId="phone",this._delegate=new Qh($0(fa.auth()))}static credential(e,t){return Qh.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}G0.PHONE_SIGN_IN_METHOD=Qh.PHONE_SIGN_IN_METHOD,G0.PROVIDER_ID=Qh.PROVIDER_ID;const fR=$e;class pR{constructor(e,t,r=fa.app()){var i;fR(null===(i=r.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new u0(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function DD(n){n.INTERNAL.registerComponent(new ns.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new dR(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:cy,FacebookAuthProvider:eb,GithubAuthProvider:jh,GoogleAuthProvider:tb,OAuthProvider:Bh,SAMLAuthProvider:Ul,PhoneAuthProvider:G0,PhoneMultiFactorGenerator:zk,RecaptchaVerifier:pR,TwitterAuthProvider:yI,Auth:dR,AuthCredential:Lh,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.4.3")}(fa);let z0=(()=>{class n{get windowRef(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class W0{}class TD{}class Iu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Iu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Iu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Iu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(p=>-1===a.indexOf(p)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class q0{encodeKey(e){return SD(e)}encodeValue(e){return SD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const AD=/%(\d[a-f0-9])/gi,Z0={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function SD(n){return encodeURIComponent(n).replace(AD,(e,t)=>Z0[t]??e)}function Hy(n){return`${n}`}class Wl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new q0,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jk(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,p]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(c)||[];_.push(p),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Hy):[Hy(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Hy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Hy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class yR{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function xD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vR(n){return typeof Blob<"u"&&n instanceof Blob}function IR(n){return typeof FormData<"u"&&n instanceof FormData}class Gy{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function _R(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Iu),this.context||(this.context=new yR),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+c}}else this.params=new Wl,this.urlWithParams=t}serializeBody(){return null===this.body?null:xD(this.body)||vR(this.body)||IR(this.body)||function Xk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IR(this.body)?null:vR(this.body)?this.body.type||null:xD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,C=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((R,V)=>R.set(V,e.setHeaders[V]),_)),e.setParams&&(C=Object.keys(e.setParams).reduce((R,V)=>R.set(V,e.setParams[V]),C)),new Gy(t,r,a,{params:C,headers:_,context:T,reportProgress:p,responseType:i,withCredentials:c})}}var Pr=(()=>((Pr=Pr||{})[Pr.Sent=0]="Sent",Pr[Pr.UploadProgress=1]="UploadProgress",Pr[Pr.ResponseHeader=2]="ResponseHeader",Pr[Pr.DownloadProgress=3]="DownloadProgress",Pr[Pr.Response=4]="Response",Pr[Pr.User=5]="User",Pr))();class K0{constructor(e,t=200,r="OK"){this.headers=e.headers||new Iu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class RD extends K0{constructor(e={}){super(e),this.type=Pr.ResponseHeader}clone(e={}){return new RD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Y0 extends K0{constructor(e={}){super(e),this.type=Pr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Y0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ER extends K0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function MD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ND=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Gy)a=t;else{let _,C;_=i.headers instanceof Iu?i.headers:new Iu(i.headers),i.params&&(C=i.params instanceof Wl?i.params:new Wl({fromObject:i.params})),a=new Gy(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=f(a).pipe(uc(_=>this.handler.handle(_)));if(t instanceof Gy||"events"===i.observe)return c;const p=c.pipe(Xi(_=>_ instanceof Y0));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,Tt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,Tt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,Tt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,Tt.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Wl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,MD(i,r))}post(t,r,i={}){return this.request("POST",t,MD(i,r))}put(t,r,i={}){return this.request("PUT",t,MD(i,r))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(W0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class wR{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const s=new g.OlP("HTTP_INTERCEPTORS");let o=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const F=/^\)\]\}',?\n/;let ne=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $r.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((z,ue)=>i.setRequestHeader(z,ue.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&i.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();i.responseType="json"!==z?z:"text"}const a=t.serializeBody();let c=null;const p=()=>{if(null!==c)return c;const z=i.statusText||"OK",ue=new Iu(i.getAllResponseHeaders()),Ne=function q(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new RD({headers:ue,status:i.status,statusText:z,url:Ne}),c},_=()=>{let{headers:z,status:ue,statusText:Ne,url:Pe}=p(),tt=null;204!==ue&&(tt=typeof i.response>"u"?i.responseText:i.response),0===ue&&(ue=tt?200:0);let _t=ue>=200&&ue<300;if("json"===t.responseType&&"string"==typeof tt){const vt=tt;tt=tt.replace(F,"");try{tt=""!==tt?JSON.parse(tt):null}catch(kt){tt=vt,_t&&(_t=!1,tt={error:kt,text:tt})}}_t?(r.next(new Y0({body:tt,headers:z,status:ue,statusText:Ne,url:Pe||void 0})),r.complete()):r.error(new ER({error:tt,headers:z,status:ue,statusText:Ne,url:Pe||void 0}))},C=z=>{const{url:ue}=p(),Ne=new ER({error:z,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ue||void 0});r.error(Ne)};let T=!1;const R=z=>{T||(r.next(p()),T=!0);let ue={type:Pr.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(ue.total=z.total),"text"===t.responseType&&!!i.responseText&&(ue.partialText=i.responseText),r.next(ue)},V=z=>{let ue={type:Pr.UploadProgress,loaded:z.loaded};z.lengthComputable&&(ue.total=z.total),r.next(ue)};return i.addEventListener("load",_),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),t.reportProgress&&(i.addEventListener("progress",R),null!==a&&i.upload&&i.upload.addEventListener("progress",V)),i.send(a),r.next({type:Pr.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",_),i.removeEventListener("timeout",C),t.reportProgress&&(i.removeEventListener("progress",R),null!==a&&i.upload&&i.upload.removeEventListener("progress",V)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ta))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Te=new g.OlP("XSRF_COOKIE_NAME"),Oe=new g.OlP("XSRF_HEADER_NAME");class Qe{}let ct=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ea(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(de),g.LFG(g.Lbi),g.LFG(Te))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),xt=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Qe),g.LFG(Oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(s,[]);this.chain=r.reduceRight((i,a)=>new wR(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(TD),g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Vn=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:xt,useClass:o}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Te,useValue:t.cookieName}:[],t.headerName?{provide:Oe,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[xt,{provide:s,useExisting:xt,multi:!0},{provide:Qe,useClass:ct},{provide:Te,useValue:"XSRF-TOKEN"},{provide:Oe,useValue:"X-XSRF-TOKEN"}]}),n})(),ql=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[ND,{provide:W0,useClass:ke},ne,{provide:TD,useExisting:ne}],imports:[Vn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),zy=(()=>{class n{constructor(t){this.http=t,this.apiUrl="http://localhost:3000/api",this.usr="https://mocki.io/v1/521469ff-2b34-419a-818e-b6b1c3c50191"}saveData(t){return this.http.post(`${this.apiUrl}/save-data`,t)}users1(){return this.http.get(this.usr)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ND))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zl=(()=>{class n{constructor(t){this.router=t}canActivate(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(nr))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wy=(()=>{class n{constructor(t){this.formBuilder=t}ngOnInit(){this.aFormGroup=this.formBuilder.group({recaptcha:["",jd.required]})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(bw))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-header"]],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"nav")},styles:["nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}nav[_ngcontent-%COMP%]{background-color:#87ceeb;padding:30px;position:relative;top:3px}ul[_ngcontent-%COMP%]{float:right;list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:10px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;cursor:pointer}p[_ngcontent-%COMP%]{font-family:Lato}.container[_ngcontent-%COMP%]{max-width:400px;margin:30px auto 0;padding:20px;border:1px solid #ccc}.container1[_ngcontent-%COMP%]{max-width:400px;margin:30px auto 0;padding:20px;border:1px solid #ccc;background-color:#a94442}.expired-message[_ngcontent-%COMP%]{background-color:#f2dede;color:#a94442;padding:10px;border:1px solid #ebccd1;border-radius:5px;margin-top:10px}h2[_ngcontent-%COMP%]{margin-top:0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[type=text][_ngcontent-%COMP%]{width:100%;padding:5px}button[_ngcontent-%COMP%]{padding:2px;background-color:#6b093f;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.logoutbutton[_ngcontent-%COMP%]{padding:8px 16px;background-color:red;color:#fff;position:fixed;top:7px;right:40px;border-radius:13px;cursor:pointer}"]}),n})();function Q0(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div",9),g._UZ(1,"hr"),g.TgZ(2,"label",10),g._uU(3,"Enter your Verification Code Here"),g.qZA(),g._UZ(4,"br"),g.TgZ(5,"input",11),g.NdJ("ngModelChange",function(i){g.CHM(t);const a=g.oxw();return g.KtG(a.verificationCode=i)})("keydown.enter",function(){g.CHM(t);const i=g.oxw();return g.KtG(i.verifyLoginCode())}),g.qZA(),g._UZ(6,"br")(7,"br"),g.TgZ(8,"button",12),g.NdJ("click",function(){g.CHM(t);const i=g.oxw();return g.KtG(i.verifyLoginCode())}),g._uU(9,"Verify"),g.qZA()()}if(2&n){const t=g.oxw();g.xp6(5),g.Q6J("ngModel",t.verificationCode)}}function J0(n,e){if(1&n&&(g.TgZ(0,"li"),g._uU(1),g._UZ(2,"br"),g._uU(3),g.qZA()),2&n){const t=e.$implicit;g.xp6(1),g.hij(" Metro Name = ",t.country_id," "),g.xp6(2),g.hij(" Total Line = ",t.probability," ")}}function X0(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div"),g._UZ(1,"app-header"),g.TgZ(2,"div",13)(3,"div",14),g._uU(4," You have successfully logged in with your phone number! "),g.qZA(),g.TgZ(5,"div",15),g._uU(6),g.ALo(7,"uppercase"),g.qZA(),g._uU(8),g.TgZ(9,"button",16),g.NdJ("click",function(){g.CHM(t);const i=g.oxw();return g.KtG(i.logout1())}),g._uU(10,"Logout"),g.qZA(),g._UZ(11,"hr"),g.TgZ(12,"ol")(13,"h2"),g._uU(14,"Top Metro Cities and Total lines"),g.qZA(),g.YNc(15,J0,4,2,"li",17),g.qZA()()()}if(2&n){const t=g.oxw();g.xp6(6),g.hij(" Welcome : ",g.lcZ(7,3,t.displayName)," "),g.xp6(2),g.hij(" Your phone number is : ",null==t.user?null:t.user.phoneNumber," "),g.xp6(7),g.Q6J("ngForOf",t.users1)}}const eE={apiKey:"AIzaSyBr2mInO0qitTv4uP_r8QQIw7MFbz5LCo8",authDomain:"the-clean-cc8b0.firebaseapp.com",projectId:"the-clean-cc8b0",storageBucket:"the-clean-cc8b0.appspot.com",messagingSenderId:"450154779519",appId:"1:450154779519:web:1acd1f9c3f43e68cc5804a",measurementId:"G-09ZJX5R7M2"};class U2{constructor(){this.country="+91",this.area="",this.prefix="",this.line="",this.displayName=""}get e164(){return`+${this.country+this.area+this.prefix+this.line}`}}let eO=(()=>{class n{constructor(t,r,i,a){this.win=t,this.apicall2=r,this.authguard=i,this.router=a,this.otpExpired=!1,this.showlogin=!1,this.phoneNumber=new U2,this.displayName="",this.otpsend=!1,this.otpsend2=!1,r.users1().subscribe(c=>{this.users1=c})}ngOnInit(){this.windowRef=this.win.windowRef,fa.initializeApp(eE),this.windowRef.recaptchaVerifier=new fa.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible"}),this.windowRef.recaptchaVerifier.render().then(t=>{this.windowRef.recaptchaWidgetId=t})}isValidPhoneNumber(){const t=this.phone&&this.phone.trim().match(/^\d{10}$/),r=this.displayName&&""!==this.displayName.trim();return t&&r}sendLoginCode(){if(!this.phone||""===this.phone.trim())return void window.alert("Please provide a valid phone number.");const t=this.windowRef.recaptchaVerifier,r=this.phone.startsWith("+")?this.phone:this.phoneNumber.country+this.phone;console.log(r),window.alert(`Please check your Mobile Number: ${this.phone}`),this.otpsend=!0,this.apicall2.saveData({displayName:this.displayName,phoneNumber:this.phoneNumber}).subscribe(c=>{console.log("Data saved:",c)}),fa.auth().signInWithPhoneNumber(r,t).then(c=>{this.windowRef.confirmationResult=c,console.log("User name:",this.phoneNumber.displayName)}).catch(c=>{alert("Please enter your valid phone number"),setTimeout(()=>{window.location.reload()},1e3)})}logout1(){window.confirm("Are you sure you want to Logout?")?fa.auth().signOut().then(()=>{console.log("Logout successful"),setTimeout(()=>{window.location.reload()},700)}).catch(i=>{console.log("Error during logout:",i)}):console.log("Logout canceled by the user.")}verifyLoginCode(){this.windowRef.confirmationResult.confirm(this.verificationCode).then(t=>{this.user=t.user,console.log(t),this.otpsend2=!0,this.otpsend=!1}).catch(t=>{console.log("Error verifying verification code:",t),window.alert("Incorrect code entered. Please try again.")})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(z0),g.Y36(zy),g.Y36(Zl),g.Y36(nr))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-phonelogin"]],decls:17,vars:6,consts:[[1,"container",3,"hidden"],["for","name"],["type","text","id","displayName","name","name","placeholder","Enter Name",3,"ngModel","ngModelChange"],["for","phone"],["type","text","placeholder","Enter Phone Number",1,"input",3,"ngModel","ngModelChange"],["id","recaptcha-container"],[1,"button","is-info",3,"disabled","click"],["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],["for","code"],["type","text","name","code",1,"input",3,"ngModel","ngModelChange","keydown.enter"],[1,"button","is-success",3,"click"],[1,"container1"],[1,"notification","is-success"],[1,"move-text"],[1,"logoutbutton",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"h1"),g._uU(2,"Sign In with Your Phone Number"),g.qZA(),g.TgZ(3,"label",1),g._uU(4,"Name:"),g.qZA(),g.TgZ(5,"input",2),g.NdJ("ngModelChange",function(a){return r.displayName=a}),g.qZA(),g.TgZ(6,"label",3),g._uU(7,"Phone Number"),g.qZA(),g.TgZ(8,"input",4),g.NdJ("ngModelChange",function(a){return r.phone=a}),g.qZA(),g._UZ(9,"br"),g.TgZ(10,"p"),g._uU(11,"Enter number without country code"),g.qZA(),g._UZ(12,"div",5),g.TgZ(13,"button",6),g.NdJ("click",function(){return r.sendLoginCode()}),g._uU(14,"SMS Text Login Code"),g.qZA()(),g.YNc(15,Q0,10,1,"div",7),g.YNc(16,X0,16,5,"div",8)),2&t&&(g.Q6J("hidden",r.user||r.otpsend),g.xp6(5),g.Q6J("ngModel",r.displayName),g.xp6(3),g.Q6J("ngModel",r.phone),g.xp6(5),g.Q6J("disabled",!r.isValidPhoneNumber()),g.xp6(2),g.Q6J("ngIf",r.windowRef.confirmationResult&&r.otpsend),g.xp6(1),g.Q6J("ngIf",r.user&&r.otpsend2))},dependencies:[pn,ur,Ws,Gd,Zf,Wy,Ca],styles:["p[_ngcontent-%COMP%]{font-family:Lato}.container[_ngcontent-%COMP%]{max-width:400px;margin:30px auto 0;padding:20px;border:1px solid #ccc}.container1[_ngcontent-%COMP%]{max-width:400px;margin:50px auto 0;padding:20px;border:5px solid #ccc;background-color:#f1e8e7;max-height:1200px;font-weight:560}.expired-message[_ngcontent-%COMP%]{background-color:#f2dede;color:#a94442;padding:10px;border:1px solid #ebccd1;border-radius:5px;margin-top:10px}h2[_ngcontent-%COMP%]{margin-top:0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[type=text][_ngcontent-%COMP%]{width:100%;padding:5px}button[_ngcontent-%COMP%]{padding:10px;background-color:#4caf50;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.logoutbutton[_ngcontent-%COMP%]{padding:8px 16px;background-color:red;color:#fff;position:fixed;top:7px;right:40px;border-radius:13px;cursor:pointer}.move-text[_ngcontent-%COMP%]{position:fixed;top:10px;right:40%}"]}),n})();function B2(n,e){if(1&n&&(g.TgZ(0,"h1"),g._uU(1),g.qZA()),2&n){const t=g.oxw();g.xp6(1),g.hij(" ",t.title,"\n")}}function j2(n,e){1&n&&(g.TgZ(0,"h1",11),g._uU(1," red color "),g.qZA())}function $2(n,e){1&n&&(g.TgZ(0,"h1",12),g._uU(1," blue color "),g.qZA())}function H2(n,e){1&n&&(g.TgZ(0,"h1",11),g._uU(1,"Red1 color "),g.qZA())}function G2(n,e){1&n&&(g.TgZ(0,"h1",12),g._uU(1,"Blue1 color "),g.qZA())}function z2(n,e){1&n&&(g.TgZ(0,"h1",13),g._uU(1,"Orange1 color "),g.qZA())}function W2(n,e){1&n&&(g.TgZ(0,"h1"),g._uU(1,"unknow color "),g.qZA())}function q2(n,e){if(1&n&&(g.TgZ(0,"h1",11),g._uU(1),g.qZA()),2&n){const t=e.$implicit;g.xp6(1),g.AsE(" ",t.name,"----",t.place,"\n")}}const Z2=[{path:"phonelogin",component:eO,canActivate:[Zl]},{path:"value",component:(()=>{class n{constructor(){this.title="hi vivek",this.show=!1,this.color="blue",this.col="black",this.detail=[{name:"vivek",place:"up",number:123},{name:"ravi",place:"mp",number:2223},{name:"gupta",place:"hp",number:111123}],this.displayvalue=""}cl(){this.col="blue"}clickme(){this.show=!this.show}getvalue(t){this.displayvalue=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-value"]],decls:22,vars:11,consts:[["type","text","placeholder","enter name","name","name"],["box",""],[3,"click"],[4,"ngIf"],[3,"ngIf"],[3,"ngSwitch"],["style","color: red",4,"ngSwitchCase"],["style","color: blue",4,"ngSwitchCase"],["style","color: orange",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["style","color: red",4,"ngFor","ngForOf"],[2,"color","red"],[2,"color","blue"],[2,"color","orange"]],template:function(t,r){if(1&t){const i=g.EpF();g.TgZ(0,"div"),g._UZ(1,"input",0,1),g.TgZ(3,"button",2),g.NdJ("click",function(){g.CHM(i);const c=g.MAs(2);return g.KtG(r.getvalue(c.value))}),g._uU(4," click"),g.qZA(),g.TgZ(5,"p"),g._uU(6),g.qZA()(),g.TgZ(7,"button",2),g.NdJ("click",function(){return r.clickme()}),g._uU(8,"click to hide"),g.qZA(),g.YNc(9,B2,2,1,"h1",3),g.YNc(10,j2,2,0,"ng-template",4),g.YNc(11,$2,2,0,"ng-template",4),g.TgZ(12,"ng-trmplate",5),g.YNc(13,H2,2,0,"h1",6),g.YNc(14,G2,2,0,"h1",7),g.YNc(15,z2,2,0,"h1",8),g.YNc(16,W2,2,0,"h1",9),g.qZA(),g.YNc(17,q2,2,2,"h1",10),g.TgZ(18,"h1"),g._uU(19,"click button color change"),g.qZA(),g.TgZ(20,"button",2),g.NdJ("click",function(){return r.cl()}),g._uU(21,"click to change"),g.qZA()}2&t&&(g.xp6(6),g.hij(" Box value is : ",r.displayvalue," "),g.xp6(3),g.Q6J("ngIf",r.show),g.xp6(1),g.Q6J("ngIf","red"===r.color),g.xp6(1),g.Q6J("ngIf","blue"===r.color),g.xp6(1),g.Q6J("ngSwitch",r.color),g.xp6(1),g.Q6J("ngSwitchCase","red"),g.xp6(1),g.Q6J("ngSwitchCase","blue"),g.xp6(1),g.Q6J("ngSwitchCase","orange"),g.xp6(2),g.Q6J("ngForOf",r.detail),g.xp6(1),g.Udp("color",r.col))},dependencies:[pn,ur,fo,wa,zi]}),n})(),canActivate:[Zl]},{path:"header",component:Wy,canActivate:[Zl]},{path:"",component:eO,pathMatch:"full"}];let K2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Pp.forRoot(Z2),Pp]}),n})(),Y2=(()=>{class n{constructor(t){this.http=t,this.url="https://mocki.io/v1/1269679e-172c-43ac-8b94-c05bad0ca858"}users(){return this.http.get(this.url)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ND))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q2=(()=>{class n{constructor(t,r,i,a){this.userData=t,this.viewcontainer=i,this.cfr=a,this.data=10,this.title="foodorder",r.users1().subscribe(c=>{this.users1=c,t.users().subscribe(p=>{this.users=p})})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Y2),g.Y36(zy),g.Y36(g.s_b),g.Y36(g._Vd))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[Im]}),n})(),tO=(()=>{class n{constructor(t){this.zone=t,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(t,r,i,a){if(this.grecaptchaScriptLoaded(t.useEnterprise))return void this.zone.run(t.useEnterprise?()=>{i(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{i(window[this.windowGrecaptcha])});t.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha]));const c=document.createElement("script");c.id=this.scriptElemId,c.innerHTML="",c.src=this.getCaptchaScriptUrl(t,r,a),c.async=!0,c.defer=!0,document.getElementsByTagName("head")[0].appendChild(c)}cleanup(){const t=document.getElementById(this.scriptElemId);t&&t.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(t){return!!(window[this.getCallbackName(t)]&&window[this.windowGrecaptcha]&&(t&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(t){return t?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(t){return t?`&hl=${t}`:""}getCaptchaScriptUrl(t,r,i){return`https://www.${t.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${t.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(t.useEnterprise)}&render=${r}${this.getLanguageParam(i)}`}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J2=(()=>{class n{constructor(t,r){this.scriptService=t,this.zone=r}execute(t,r,i,a,c){this.executeAsPromise(t,r,a).then(i).catch(p=>c?c(p):console.error(p))}executeAsPromise(t,r,i){return new Promise((a,c)=>{this.scriptService.registerCaptchaScript(i||{},t,C=>{this.zone.runOutsideAngular(()=>{try{C.execute(t,{action:r}).then(T=>this.zone.run(()=>a(T)))}catch(T){c(T)}})})})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(tO),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[tO,J2],imports:[Da]}),n})(),eU=(()=>{class n{init2DArray(t){return new Array(t).fill(new Array)}toArray(t){return Array.isArray(t)?t:[t]}addItemToAll(t,r){if(t?.length>0)return t.map(i=>i.concat(r))}removeItemFromAll(t,r){if(t?.length>0)return t.map(i=>i.filter(a=>!r.includes(a)))}addItemAtIndex(t,r,i){if(t?.length>0)return t[r]=t[r].concat(i),t}removeItemAtIndex(t,r,i){if(t?.length>0)return t[r]=t[r].filter(a=>!i.includes(a)),t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[eU],imports:[ip,Tl,Da]}),n})();var Eu=L(2011),nU=L(6451),OD=L(5363),rU=L(6063);class iU extends I.x{constructor(e=1/0,t=1/0,r=rU.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var sU=L(3099);function nO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,sU.B)({connector:()=>new iU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function rO(n,e){return(0,dh.m)(e)?_r(()=>n,e):_r(()=>n)}var CR=L(9468),wi=L(710);L(8140);const DR=new Map,sO={activated:!1,tokenObservers:[]},lU={initialized:!1,enabled:!1};function wr(n){return DR.get(n)||Object.assign({},sO)}function FD(){return lU}class mU{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,P.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function yU(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Oi=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AR(n){if(!wr(n).activated)throw Oi.create("use-before-activation",{appName:n.name})}function BD(n,e){return xR.apply(this,arguments)}function xR(){return(xR=(0,P.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,a)}catch(R){throw Oi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==c.status)throw Oi.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(R){throw Oi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const C=1e3*Number(_[1]),T=Date.now();return{token:p.token,expireTimeMillis:T+C,issuedAtTimeMillis:T}})).apply(this,arguments)}function aO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const tE="firebase-app-check-store";let jD=null;function cO(){return jD||(jD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Oi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tE,{keyPath:"compositeKey"})}}catch(t){e(Oi.create("storage-open",{originalErrorMessage:t?.message}))}}),jD)}function RR(){return(RR=(0,P.Z)(function*(n,e){const r=(yield cO()).transaction(tE,"readwrite"),a=r.objectStore(tE).put({compositeKey:n,value:e});return new Promise((c,p)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var C;p(Oi.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const nE=new vi.Yd("@firebase/app-check");function PR(n,e){return(0,_e.hl)()?function bU(n,e){return function lO(n,e){return RR.apply(this,arguments)}(function hO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{nE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function OR(){return FD().enabled}function LR(){return FR.apply(this,arguments)}function FR(){return(FR=(0,P.Z)(function*(){const n=FD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const RU={error:"UNKNOWN_ERROR"};function MU(n){return _e.US.encodeString(JSON.stringify(n),!1)}function $D(n){return VR.apply(this,arguments)}function VR(){return(VR=(0,P.Z)(function*(n,e=!1){const t=n.app;AR(t);const r=wr(t);let a,i=r.token;if(i&&!qy(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(qy(_)?i=_:yield PR(t,void 0))}if(!e&&i&&qy(i))return{token:i.token};let p,c=!1;if(OR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=BD(aO(t,yield LR()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield PR(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield wr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?nE.warn(_.message):nE.error(_),a=_}return i?a?p=qy(i)?{token:i.token,internalError:a}:mO(a):(p={token:i.token},r.token=i,yield PR(t,i)):p=mO(a),c&&gO(t,p),p})).apply(this,arguments)}function UR(){return(UR=(0,P.Z)(function*(n){const e=n.app;AR(e);const{provider:t}=wr(e);if(OR()){const r=yield LR(),{token:i}=yield BD(aO(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function jR(n,e){const t=wr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function pO(n){const{app:e}=n,t=wr(e);let r=t.tokenRefresher;r||(r=function NU(n){const{app:e}=n;return new mU((0,P.Z)(function*(){let r;if(r=wr(e).token?yield $D(n,!0):yield $D(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=wr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function gO(n,e){const t=wr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function qy(n){return n.expireTimeMillis-Date.now()>0}function mO(n){return{token:MU(RU),error:n}}class PU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=wr(this.app);for(const t of e)jR(this.app,t.next);return Promise.resolve()}}const bO="app-check-internal";!function qU(){(0,Pn._registerComponent)(new ns.wA("app-check",n=>function kU(n,e){return new PU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bO).initialize()})),(0,Pn._registerComponent)(new ns.wA(bO,n=>function OU(n){return{getToken:e=>$D(n,e),getLimitedUseToken:()=>function fO(n){return UR.apply(this,arguments)}(n),addTokenListener:e=>function BR(n,e,t,r){const{app:i}=n,a=wr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&qy(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),pO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>pO(n))}(n,"INTERNAL",e),removeTokenListener:e=>jR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pn.registerVersion)("@firebase/app-check","0.8.0")}();class zR{constructor(){return(0,wi.vb)("app-check")}}typeof window<"u"&&window;var TO=L(1274);const AO=new g.OlP("angularfire2.auth.use-emulator"),SO=new g.OlP("angularfire2.auth.settings"),xO=new g.OlP("angularfire2.auth.tenant-id"),RO=new g.OlP("angularfire2.auth.langugage-code"),MO=new g.OlP("angularfire2.auth.use-device-language"),NO=new g.OlP("angularfire.auth.persistence"),PO=(n,e,t,r,i,a,c,p)=>(0,Eu.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[C,T]of Object.entries(c))_.settings[C]=T;return p&&_.setPersistence(p),_},[t,r,i,a,c,p]);let qR=(()=>{class n{constructor(t,r,i,a,c,p,_,C,T,R,V,z){const ue=new I.x,Ne=f(void 0).pipe((0,OD.Q)(c.outsideAngular),_r(()=>a.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8463)))),(0,Tt.U)(()=>(0,Eu.on)(t,a,r)),(0,Tt.U)(Pe=>PO(Pe,a,p,C,T,R,_,V)),nO({bufferSize:1,refCount:!1}));if(Ru(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=f(null);else{Ne.pipe(Ro()).subscribe();const tt=Ne.pipe(_r(kt=>kt.getRedirectResult().then(Gt=>Gt,()=>null)),wi.iC,nO({bufferSize:1,refCount:!1})),_t=Ne.pipe(_r(kt=>new $r.y(Gt=>({unsubscribe:a.runOutsideAngular(()=>kt.onAuthStateChanged(Qt=>Gt.next(Qt),Qt=>Gt.error(Qt),()=>Gt.complete()))})))),vt=Ne.pipe(_r(kt=>new $r.y(Gt=>({unsubscribe:a.runOutsideAngular(()=>kt.onIdTokenChanged(Qt=>Gt.next(Qt),Qt=>Gt.error(Qt),()=>Gt.complete()))}))));this.authState=tt.pipe(rO(_t),(0,CR.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular)),this.user=tt.pipe(rO(vt),(0,CR.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular)),this.idToken=this.user.pipe(_r(kt=>kt?(0,gn.D)(kt.getIdToken()):f(null))),this.idTokenResult=this.user.pipe(_r(kt=>kt?(0,gn.D)(kt.getIdTokenResult()):f(null))),this.credential=(0,nU.T)(tt,ue,this.authState.pipe(Xi(kt=>!kt))).pipe((0,Tt.U)(kt=>kt?.user?kt:null),(0,CR.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular))}return(0,Eu.pX)(this,Ne,a,{spy:{apply:(Pe,tt,_t)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&_t.then(vt=>ue.next(vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Eu.Dh),g.LFG(Eu.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(wi.HU),g.LFG(AO,8),g.LFG(SO,8),g.LFG(xO,8),g.LFG(RO,8),g.LFG(MO,8),g.LFG(NO,8),g.LFG(zR,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XU=(()=>{class n{constructor(){TO.Z.registerVersion("angularfire",wi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[qR]}),n})();var eB=L(4986);function ZR(){return(0,Gr.e)((n,e)=>{let t,r=!1;n.subscribe((0,tr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function nB(n,e){return n===e}L(8463),L(6101),L(9752);var rt,iB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wu={},KR=KR||{},$t=iB||self;function zD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rE(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var YR="closure_uid_"+(1e9*Math.random()>>>0),oB=0;function aB(n,e,t){return n.call.apply(n.bind,arguments)}function uB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function is(n,e,t){return(is=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aB:uB).apply(null,arguments)}function WD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ci(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function ef(){this.s=this.s,this.o=this.o}ef.prototype.s=!1,ef.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sB(n){Object.prototype.hasOwnProperty.call(n,YR)&&n[YR]||(n[YR]=++oB)}(this)},ef.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function QR(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function OO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(zD(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ss.prototype.h=function(){this.defaultPrevented=!0};var lB=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",()=>{},e),$t.removeEventListener("test",()=>{},e)}catch{}return n}();function iE(n){return/^[\s\xa0]*$/.test(n)}function qD(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function Tc(n){return-1!=qD().indexOf(n)}function JR(n){return JR[" "](n),n}JR[" "]=function(){};var eM,n,hB=Tc("Opera"),Zy=Tc("Trident")||Tc("MSIE"),LO=Tc("Edge"),XR=LO||Zy,FO=Tc("Gecko")&&!(-1!=qD().toLowerCase().indexOf("webkit")&&!Tc("Edge"))&&!(Tc("Trident")||Tc("MSIE"))&&!Tc("Edge"),fB=-1!=qD().toLowerCase().indexOf("webkit")&&!Tc("Edge");function VO(){var n=$t.document;return n?n.documentMode:void 0}e:{var tM="",nM=(n=qD(),FO?/rv:([^\);]+)(\)|;)/.exec(n):LO?/Edge\/([\d\.]+)/.exec(n):Zy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):fB?/WebKit\/(\S+)/.exec(n):hB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nM&&(tM=nM?nM[1]:""),Zy){var rM=VO();if(null!=rM&&rM>parseFloat(tM)){eM=String(rM);break e}}eM=tM}var pB=$t.document&&Zy&&(VO()||parseInt(eM,10))||void 0;function sE(n,e){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(FO){e:{try{JR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sE.$.h.call(this)}}Ci(sE,ss);var gB={2:"touch",3:"pen",4:"mouse"};sE.prototype.h=function(){sE.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var oE="closure_listenable_"+(1e6*Math.random()|0),mB=0;function yB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++mB,this.fa=this.ia=!1}function ZD(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function sM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function BO(n){const e={};for(const t in n)e[t]=n[t];return e}const jO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $O(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<jO.length;a++)t=jO[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function KD(n){this.src=n,this.g={},this.h=0}function oM(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=kO(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(ZD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function aM(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}KD.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=aM(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new yB(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var uM="closure_lm_"+(1e6*Math.random()|0),cM={};function HO(n,e,t,r,i){if(r&&r.once)return zO(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)HO(n,e[a],t,r,i);return null}return t=fM(t),n&&n[oE]?n.O(e,t,rE(r)?!!r.capture:!!r,i):GO(n,e,t,!1,r,i)}function GO(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=rE(i)?!!i.capture:!!i,p=dM(n);if(p||(n[uM]=p=new KD(n)),(t=p.add(e,t,r,c,a)).proxy)return t;if(r=function vB(){const e=IB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lB||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(qO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function zO(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)zO(n,e[a],t,r,i);return null}return t=fM(t),n&&n[oE]?n.P(e,t,rE(r)?!!r.capture:!!r,i):GO(n,e,t,!0,r,i)}function WO(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)WO(n,e[a],t,r,i);else r=rE(r)?!!r.capture:!!r,t=fM(t),n&&n[oE]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=aM(a=n.g[e],t,r,i))&&(ZD(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=dM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=aM(e,t,r,i)),(t=-1<n?e[n]:null)&&lM(t))}function lM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[oE])oM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(qO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=dM(e))?(oM(t,n),0==t.h&&(t.src=null,e[uM]=null)):ZD(n)}}}function qO(n){return n in cM?cM[n]:cM[n]="on"+n}function IB(n,e){if(n.fa)n=!0;else{e=new sE(e,this);var t=n.listener,r=n.la||n.src;n.ia&&lM(n),n=t.call(r,e)}return n}function dM(n){return(n=n[uM])instanceof KD?n:null}var hM="__closure_events_fn_"+(1e9*Math.random()>>>0);function fM(n){return"function"==typeof n?n:(n[hM]||(n[hM]=function(e){return n.handleEvent(e)}),n[hM])}function bi(){ef.call(this),this.i=new KD(this),this.S=this,this.J=null}function Li(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ss(e,n);else if(e instanceof ss)e.target=e.target||n;else{var i=e;$O(e=new ss(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=YD(c,r,!0,e)&&i}if(i=YD(c=e.g=n,r,!0,e)&&i,i=YD(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=YD(c=e.g=t[a],r,!1,e)&&i}function YD(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var p=c.listener,_=c.la||c.src;c.ia&&oM(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Ci(bi,ef),bi.prototype[oE]=!0,bi.prototype.removeEventListener=function(n,e,t,r){WO(this,n,e,t,r)},bi.prototype.N=function(){if(bi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ZD(t[r]);delete n.g[e],n.h--}}this.J=null},bi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},bi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var pM=$t.JSON.stringify;function wB(){var n=gM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ZO=new class EB{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bB,n=>n.reset());class bB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DB(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function TB(n){$t.setTimeout(()=>{throw n},0)}let aE,uE=!1,gM=new class CB{constructor(){this.h=this.g=null}add(e,t){const r=ZO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},KO=()=>{const n=$t.Promise.resolve(void 0);aE=()=>{n.then(AB)}};var AB=()=>{for(var n;n=wB();){try{n.h.call(n.g)}catch(t){TB(t)}var e=ZO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uE=!1};function QD(n,e){bi.call(this),this.h=n||1,this.g=e||$t,this.j=is(this.qb,this),this.l=Date.now()}function mM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function yM(n,e,t){if("function"==typeof n)t&&(n=is(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=is(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function YO(n){n.g=yM(()=>{n.g=null,n.i&&(n.i=!1,YO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ci(QD,bi),(rt=QD.prototype).ga=!1,rt.T=null,rt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Li(this,"tick"),this.ga&&(mM(this),this.start()))}},rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.N=function(){QD.$.N.call(this),mM(this),delete this.g};class SB extends ef{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YO(this)}N(){super.N(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cE(n){ef.call(this),this.h=n,this.g={}}Ci(cE,ef);var QO=[];function JO(n,e,t,r){Array.isArray(t)||(t&&(QO[0]=t.toString()),t=QO);for(var i=0;i<t.length;i++){var a=HO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function XO(n){sM(n.g,function(e,t){this.g.hasOwnProperty(t)&&lM(e)},n),n.g={}}function JD(){this.g=!0}function Ky(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function NB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return pM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}cE.prototype.N=function(){cE.$.N.call(this),XO(this)},cE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},JD.prototype.Ea=function(){this.g=!1},JD.prototype.info=function(){};var fg={},e1=null;function XD(){return e1=e1||new bi}function t1(n){ss.call(this,fg.Ta,n)}function lE(n){const e=XD();Li(e,new t1(e))}function n1(n,e){ss.call(this,fg.STAT_EVENT,n),this.stat=e}function xs(n){const e=XD();Li(e,new n1(e,n))}function r1(n,e){ss.call(this,fg.Ua,n),this.size=e}function dE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}fg.Ta="serverreachability",Ci(t1,ss),fg.STAT_EVENT="statevent",Ci(n1,ss),fg.Ua="timingevent",Ci(r1,ss);var eT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _M(){}function o1(){}_M.prototype.h=null;var EM,hE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vM(){ss.call(this,"d")}function IM(){ss.call(this,"c")}function tT(){}function fE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new cE(this),this.P=PB,this.V=new QD(n=XR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new a1}function a1(){this.i=null,this.g="",this.h=!1}Ci(vM,ss),Ci(IM,ss),Ci(tT,_M),tT.prototype.g=function(){return new XMLHttpRequest},tT.prototype.i=function(){return{}},EM=new tT;var PB=45e3,wM={},nT={};function CM(n,e,t){n.L=1,n.v=oT(Kl(e)),n.s=t,n.S=!0,u1(n,null)}function u1(n,e){n.G=Date.now(),pE(n),n.A=Kl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),_1(t.i,"t",r),n.C=0,t=n.l.J,n.h=new a1,n.g=$1(n.l,t?e:null,!n.s),0<n.O&&(n.M=new SB(is(n.Pa,n,n.g),n.O)),JO(n.U,n.g,"readystatechange",n.nb),e=n.I?BO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),lE(),function xB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",p=a.split("&"),_=0;_<p.length;_++){var C=p[_].split("=");if(1<C.length){var T=C[0];C=C[1];var R=T.split("_");c=2<=R.length&&"type"==R[1]?c+(T+"=")+C+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function c1(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function l1(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=kB(n,t),i==nT){4==e&&(n.o=4,xs(14),r=!1),Ky(n.j,n.m,null,"[Incomplete Response]");break}if(i==wM){n.o=4,xs(15),Ky(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ky(n.j,n.m,i,null),bM(n,i)}c1(n)&&i!=nT&&i!=wM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),MM(e),e.M=!0,xs(11))):(Ky(n.j,n.m,t,"[Invalid Chunked Response]"),pg(n),gE(n))}function kB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?nT:(t=Number(e.substring(t,r)),isNaN(t)?wM:(r+=1)+t>e.length?nT:(e=e.slice(r,r+t),n.C=r+t,e))}function pE(n){n.Y=Date.now()+n.P,d1(n,n.P)}function d1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=dE(is(n.lb,n),e)}function rT(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function gE(n){0==n.l.H||n.J||V1(n.l,n)}function pg(n){rT(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,mM(n.V),XO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function bM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||DM(t.i,n)))if(!n.K&&DM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;hT(t),lT(t)}RM(t),xs(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=dE(is(t.ib,t),6e3));if(1>=E1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else mg(t,11)}else if((n.K||t.g==n)&&hT(t),!iE(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const T=C[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const R=C[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const V=C[5];null!=V&&"number"==typeof V&&0<V&&(t.L=r=1.5*V,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const ue=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var a=r.i;a.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(TM(a,a.h),a.h=null))}if(r.F){const Ne=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(r.Da=Ne,Wn(r.I,r.F,Ne))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=j1(r,r.J?r.pa:null,r.Y),c.K){w1(r.i,c);var p=c,_=r.L;_&&p.setTimeout(_),p.B&&(rT(p),pE(p)),r.g=c}else L1(r);0<t.j.length&&dT(t)}else"stop"!=C[0]&&"close"!=C[0]||mg(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?mg(t,7):xM(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}lE()}catch{}}function h1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zD(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LB(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zD(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function OB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zD(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(rt=fE.prototype).setTimeout=function(n){this.P=n},rt.nb=function(n){n=n.target;const e=this.M;e&&3==Ac(n)?e.l():this.Pa(n)},rt.Pa=function(n){try{if(n==this.g)e:{const T=Ac(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||XR||this.g&&(this.h.h||this.g.ja()||R1(this.g)))){this.J||4!=T||7==e||lE(),rT(this);var t=this.g.da();this.ca=t;t:if(c1(this)){var r=R1(this.g);n="";var i=r.length,a=4==Ac(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pg(this),gE(this);var c="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function RB(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iE(p)){var C=p;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,xs(12),pg(this),gE(this);break e}Ky(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bM(this,t)}this.S?(l1(this,T,c),XR&&this.i&&3==T&&(JO(this.U,this.V,"tick",this.mb),this.V.start())):(Ky(this.j,this.m,c,null),bM(this,c)),4==T&&pg(this),this.i&&!this.J&&(4==T?V1(this.l,this):(this.i=!1,pE(this)))}else(function ej(n){const e={};n=(n.g&&2<=Ac(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(iE(n[r]))continue;var t=DB(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function _B(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,xs(12)):(this.o=0,xs(13)),pg(this),gE(this)}}}catch{}},rt.mb=function(){if(this.g){var n=Ac(this.g),e=this.g.ja();this.C<e.length&&(rT(this),l1(this,n,e),this.i&&4!=n&&pE(this))}},rt.cancel=function(){this.J=!0,pg(this)},rt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function MB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(lE(),xs(17)),pg(this),this.o=2,gE(this)):d1(this,this.Y-n)};var f1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gg){this.h=n.h,iT(this,n.j),this.s=n.s,this.g=n.g,sT(this,n.m),this.l=n.l;var e=n.i,t=new _E;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),p1(this,t),this.o=n.o}else n&&(e=String(n).match(f1))?(this.h=!1,iT(this,e[1]||"",!0),this.s=mE(e[2]||""),this.g=mE(e[3]||"",!0),sT(this,e[4]),this.l=mE(e[5]||"",!0),p1(this,e[6]||"",!0),this.o=mE(e[7]||"")):(this.h=!1,this.i=new _E(null,this.h))}function Kl(n){return new gg(n)}function iT(n,e,t){n.j=t?mE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function p1(n,e,t){e instanceof _E?(n.i=e,function HB(n,e){e&&!n.j&&(tf(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(m1(this,r),_1(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=yE(e,jB)),n.i=new _E(e,n.h))}function Wn(n,e,t){n.i.set(e,t)}function oT(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,VB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function VB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yE(e,g1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yE(e,g1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(yE(t,"/"==t.charAt(0)?BB:UB,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yE(t,$B)),n.join("")};var g1=/[#\/\?@]/g,UB=/[#\?:]/g,BB=/[#\?]/g,jB=/[#\?@]/g,$B=/#/g;function _E(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function tf(n){n.g||(n.g=new Map,n.h=0,n.i&&function FB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function m1(n,e){tf(n),e=Yy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function y1(n,e){return tf(n),e=Yy(n,e),n.g.has(e)}function _1(n,e,t){m1(n,e),0<t.length&&(n.i=null,n.g.set(Yy(n,e),QR(t)),n.h+=t.length)}function Yy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function v1(n){this.l=n||zB,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ka&&$t.g.Ka()&&$t.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=_E.prototype).add=function(n,e){tf(this),this.i=null,n=Yy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){tf(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},rt.ta=function(){tf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},rt.Z=function(n){tf(this);let e=[];if("string"==typeof n)y1(this,n)&&(e=e.concat(this.g.get(Yy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},rt.set=function(n,e){return tf(this),this.i=null,y1(this,n=Yy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var zB=10;function I1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function E1(n){return n.h?1:n.g?n.g.size:0}function DM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function TM(n,e){n.g?n.g.add(e):n.h=e}function w1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function C1(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return QR(n.i)}function qB(){this.g=new class{stringify(n){return $t.JSON.stringify(n,void 0)}parse(n){return $t.JSON.parse(n,void 0)}}}function ZB(n,e,t){const r=t||"";try{h1(n,function(i,a){let c=i;rE(i)&&(c=pM(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vE(n){this.l=n.fc||null,this.j=n.ob||!1}function uT(n,e){bi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=AM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}v1.prototype.cancel=function(){if(this.i=C1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ci(vE,_M),vE.prototype.g=function(){return new uT(this.l,this.j)},vE.prototype.i=function(n){return function(){return n}}({}),Ci(uT,bi);var AM=0;function b1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function IE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,EE(n)}function EE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=uT.prototype).open=function(n,e){if(this.readyState!=AM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,EE(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$t).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,IE(this)),this.readyState=AM},rt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,EE(this)),this.g&&(this.readyState=3,EE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;b1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},rt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?IE(this):EE(this),3==this.readyState&&b1(this)}},rt.Za=function(n){this.g&&(this.response=this.responseText=n,IE(this))},rt.Ya=function(n){this.g&&(this.response=n,IE(this))},rt.ka=function(){this.g&&IE(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(uT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var YB=$t.JSON.parse;function Cr(n){bi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=D1,this.L=this.M=!1}Ci(Cr,bi);var D1="",QB=/^https?$/i,JB=["POST","PUT"];function T1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,A1(n),cT(n)}function A1(n){n.F||(n.F=!0,Li(n,"complete"),Li(n,"error"))}function S1(n){if(n.h&&typeof KR<"u"&&(!n.C[1]||4!=Ac(n)||2!=n.da()))if(n.v&&4==Ac(n))yM(n.La,0,n);else if(Li(n,"readystatechange"),4==Ac(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(f1)[1]||null;!i&&$t.self&&$t.self.location&&(i=$t.self.location.protocol.slice(0,-1)),r=!QB.test(i?i.toLowerCase():"")}t=r}if(t)Li(n,"complete"),Li(n,"success");else{n.m=6;try{var a=2<Ac(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",A1(n)}}finally{cT(n)}}}function cT(n,e){if(n.g){x1(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Li(n,"ready");try{t.onreadystatechange=r}catch{}}}function x1(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Ac(n){return n.g?n.g.readyState:0}function R1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case D1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function M1(n){let e="";return sM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function SM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=M1(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function wE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function N1(n){this.Ga=0,this.j=[],this.l=new JD,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wE("baseRetryDelayMs",5e3,n),this.hb=wE("retryDelaySeedMs",1e4,n),this.eb=wE("forwardChannelMaxRetries",2,n),this.xa=wE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new v1(n&&n.concurrentRequestLimit),this.Ja=new qB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xM(n){if(P1(n),3==n.H){var e=n.W++,t=Kl(n.I);if(Wn(t,"SID",n.K),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),CE(n,t),(e=new fE(n,n.l,e)).L=2,e.v=oT(Kl(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon)try{t=$t.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=$1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),pE(e)}B1(n)}function lT(n){n.g&&(MM(n),n.g.cancel(),n.g=null)}function P1(n){lT(n),n.u&&($t.clearTimeout(n.u),n.u=null),hT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function dT(n){if(!I1(n.i)&&!n.m){n.m=!0;var e=n.Na;aE||KO(),uE||(aE(),uE=!0),gM.add(e,n),n.C=0}}function k1(n,e){var t;t=e?e.m:n.W++;const r=Kl(n.I);Wn(r,"SID",n.K),Wn(r,"RID",t),Wn(r,"AID",n.V),CE(n,r),n.o&&n.s&&SM(r,n.o,n.s),t=new fE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=O1(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),TM(n.i,t),CM(t,r,e)}function CE(n,e){n.na&&sM(n.na,function(t,r){Wn(e,r,t)}),n.h&&h1({},function(t,r){Wn(e,r,t)})}function O1(n,e,t){t=Math.min(n.j.length,t);var r=n.h?is(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let C=i[_].g;const T=i[_].map;if(C-=a,0>C)a=Math.max(0,i[_].g-100),p=!1;else try{ZB(T,c,"req"+C+"_")}catch{r&&r(T)}}if(p){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function L1(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;aE||KO(),uE||(aE(),uE=!0),gM.add(e,n),n.A=0}}function RM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=dE(is(n.Ma,n),U1(n,n.A)),n.A++,0))}function MM(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function F1(n){n.g=new fE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Kl(n.wa);Wn(e,"RID","rpc"),Wn(e,"SID",n.K),Wn(e,"AID",n.V),Wn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Wn(e,"TO",n.qa),Wn(e,"TYPE","xmlhttp"),CE(n,e),n.o&&n.s&&SM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=oT(Kl(e)),t.s=null,t.S=!0,u1(t,n)}function hT(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function V1(n,e){var t=null;if(n.g==e){hT(n),MM(n),n.g=null;var r=2}else{if(!DM(n.i,e))return;t=e.F,w1(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Li(r=XD(),new r1(r,t)),dT(n)}else L1(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function tj(n,e){return!(E1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=dE(is(n.Na,n,e),U1(n,n.C)),n.C++,0)))}(n,e)||2==r&&RM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:mg(n,5);break;case 4:mg(n,10);break;case 3:mg(n,6);break;default:mg(n,2)}}function U1(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function mg(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=is(n.pb,n);t||(t=new gg("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||iT(t,"https"),oT(t)),function KB(n,e){const t=new JD;if($t.Image){const r=new Image;r.onload=WD(aT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=WD(aT,t,r,"TestLoadImage: error",!1,e),r.onabort=WD(aT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=WD(aT,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xs(2);n.H=0,n.h&&n.h.za(e),B1(n),P1(n)}function B1(n){if(n.H=0,n.ma=[],n.h){const e=C1(n.i);(0!=e.length||0!=n.j.length)&&(OO(n.ma,e),OO(n.ma,n.j),n.i.i.length=0,QR(n.j),n.j.length=0),n.h.ya()}}function j1(n,e,t){var r=t instanceof gg?Kl(t):new gg(t);if(""!=r.g)e&&(r.g=e+"."+r.g),sT(r,r.m);else{var i=$t.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new gg(null);r&&iT(a,r),e&&(a.g=e),i&&sT(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Wn(r,t,e),Wn(r,"VER",n.ra),CE(n,r),r}function $1(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cr(t&&n.Ha&&!n.va?new vE({ob:!0}):n.va)).Oa(n.J),e}function H1(){}function fT(){if(Zy&&!(10<=Number(pB)))throw Error("Environmental error: no available transport.")}function Vo(n,e){bi.call(this),this.g=new N1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!iE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!iE(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qy(this)}function G1(n){vM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function z1(){IM.call(this),this.status=1}function Qy(n){this.g=n}function Cu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Tn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(rt=Cr.prototype).Oa=function(n){this.M=n},rt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():EM.g(),this.C=function s1(n){return n.h||(n.h=n.i())}(this.u?this.u:EM),this.g.onreadystatechange=is(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void T1(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=$t.FormData&&n instanceof $t.FormData,!(0<=kO(JB,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{x1(this),0<this.B&&((this.L=function XB(n){return Zy&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=is(this.ua,this)):this.A=yM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){T1(this,a)}},rt.ua=function(){typeof KR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Li(this,"complete"),Li(this,"abort"),cT(this))},rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cT(this,!0)),Cr.$.N.call(this)},rt.La=function(){this.s||(this.G||this.v||this.l?S1(this):this.kb())},rt.kb=function(){S1(this)},rt.isActive=function(){return!!this.g},rt.da=function(){try{return 2<Ac(this)?this.g.status:-1}catch{return-1}},rt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),YB(e)}},rt.Ia=function(){return this.m},rt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=N1.prototype).ra=8,rt.H=1,rt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new fE(this,this.l,n);let a=this.s;if(this.U&&(a?(a=BO(a),$O(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=O1(this,i,e),Wn(t=Kl(this.I),"RID",n),Wn(t,"CVER",22),this.F&&Wn(t,"X-HTTP-Session-Id",this.F),CE(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(M1(a)))+"&"+e:this.o&&SM(t,this.o,a)),TM(this.i,i),this.bb&&Wn(t,"TYPE","init"),this.P?(Wn(t,"$req",e),Wn(t,"SID","null"),i.aa=!0,CM(i,t,null)):CM(i,t,e),this.H=2}}else 3==this.H&&(n?k1(this,n):0==this.j.length||I1(this.i)||k1(this))},rt.Ma=function(){if(this.u=null,F1(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=dE(is(this.jb,this),n)}},rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xs(10),lT(this),F1(this))},rt.ib=function(){null!=this.v&&(this.v=null,lT(this),RM(this),xs(19))},rt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),xs(2)):(this.l.info("Failed to ping google.com"),xs(1))},rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(rt=H1.prototype).Ba=function(){},rt.Aa=function(){},rt.za=function(){},rt.ya=function(){},rt.isActive=function(){return!0},rt.Va=function(){},fT.prototype.g=function(n,e){return new Vo(n,e)},Ci(Vo,bi),Vo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;xs(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=j1(n,null,n.Y),dT(n)},Vo.prototype.close=function(){xM(this.g)},Vo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=pM(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&dT(e)},Vo.prototype.N=function(){this.g.h=null,delete this.j,xM(this.g),delete this.g,Vo.$.N.call(this)},Ci(G1,vM),Ci(z1,IM),Ci(Qy,H1),Qy.prototype.Ba=function(){Li(this.g,"a")},Qy.prototype.Aa=function(n){Li(this.g,new G1(n))},Qy.prototype.za=function(n){Li(this.g,new z1)},Qy.prototype.ya=function(){Li(this.g,"b")},Ci(Cu,function nj(){this.blockSize=-1}),Cu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)NM(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){NM(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){NM(this,r),i=0;break}}this.h=i,this.i+=e},Cu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var rj={};function PM(n){return-128<=n&&128>n?function dB(n,e){var t=rj;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Tn([0|e],0>e?-1:0)}):new Tn([0|n],0>n?-1:0)}function Sc(n){if(isNaN(n)||!isFinite(n))return Jy;if(0>n)return Fi(Sc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=kM;return new Tn(e,0)}var kM=4294967296,Jy=PM(0),OM=PM(1),q1=PM(16777216);function Yl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ya(n){return-1==n.h}function Fi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Tn(t,~n.h).add(OM)}function pT(n,e){return n.add(Fi(e))}function gT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function bE(n,e){this.g=n,this.h=e}function mT(n,e){if(Yl(e))throw Error("division by zero");if(Yl(n))return new bE(Jy,Jy);if(ya(n))return e=mT(Fi(n),e),new bE(Fi(e.g),Fi(e.h));if(ya(e))return e=mT(n,Fi(e)),new bE(Fi(e.g),e.h);if(30<n.g.length){if(ya(n)||ya(e))throw Error("slowDivide_ only works with positive integers.");for(var t=OM,r=e;0>=r.X(n);)t=Z1(t),r=Z1(r);var i=Xy(t,1),a=Xy(r,1);for(r=Xy(r,2),t=Xy(t,2);!Yl(r);){var c=a.add(r);0>=c.X(n)&&(i=i.add(t),a=c),r=Xy(r,1),t=Xy(t,1)}return e=pT(n,i.R(e)),new bE(i,e)}for(i=Jy;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Sc(t)).R(e);ya(c)||0<c.X(n);)c=(a=Sc(t-=r)).R(e);Yl(a)&&(a=OM),i=i.add(a),n=pT(n,c)}return new bE(i,n)}function Z1(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Tn(t,n.h)}function Xy(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Tn(i,n.h)}(rt=Tn.prototype).ea=function(){if(ya(this))return-Fi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:kM+r)*e,e*=kM}return n},rt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Yl(this))return"0";if(ya(this))return"-"+Fi(this).toString(n);for(var e=Sc(Math.pow(n,6)),t=this,r="";;){var i=mT(t,e).g,a=((0<(t=pT(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Yl(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},rt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},rt.X=function(n){return ya(n=pT(this,n))?-1:Yl(n)?0:1},rt.abs=function(){return ya(this)?Fi(this):this},rt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(a&=65535)}return new Tn(t,-2147483648&t[t.length-1]?-1:0)},rt.R=function(n){if(Yl(this)||Yl(n))return Jy;if(ya(this))return ya(n)?Fi(this).R(Fi(n)):Fi(Fi(this).R(n));if(ya(n))return Fi(this.R(Fi(n)));if(0>this.X(q1)&&0>n.X(q1))return Sc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),p=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,gT(t,2*r+2*i),t[2*r+2*i+1]+=a*_,gT(t,2*r+2*i+1),t[2*r+2*i+1]+=c*p,gT(t,2*r+2*i+1),t[2*r+2*i+2]+=a*p,gT(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Tn(t,0)},rt.gb=function(n){return mT(this,n).h},rt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Tn(t,this.h&n.h)},rt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Tn(t,this.h|n.h)},rt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Tn(t,this.h^n.h)},fT.prototype.createWebChannel=fT.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,eT.NO_ERROR=0,eT.TIMEOUT=8,eT.HTTP_ERROR=6,i1.COMPLETE="complete",o1.EventType=hE,hE.OPEN="a",hE.CLOSE="b",hE.ERROR="c",hE.MESSAGE="d",bi.prototype.listen=bi.prototype.O,Cr.prototype.listenOnce=Cr.prototype.P,Cr.prototype.getLastError=Cr.prototype.Sa,Cr.prototype.getLastErrorCode=Cr.prototype.Ia,Cr.prototype.getStatus=Cr.prototype.da,Cr.prototype.getResponseJson=Cr.prototype.Wa,Cr.prototype.getResponseText=Cr.prototype.ja,Cr.prototype.send=Cr.prototype.ha,Cr.prototype.setWithCredentials=Cr.prototype.Oa,Cu.prototype.digest=Cu.prototype.l,Cu.prototype.reset=Cu.prototype.reset,Cu.prototype.update=Cu.prototype.j,Tn.prototype.add=Tn.prototype.add,Tn.prototype.multiply=Tn.prototype.R,Tn.prototype.modulo=Tn.prototype.gb,Tn.prototype.compare=Tn.prototype.X,Tn.prototype.toNumber=Tn.prototype.ea,Tn.prototype.toString=Tn.prototype.toString,Tn.prototype.getBits=Tn.prototype.D,Tn.fromNumber=Sc,Tn.fromString=function W1(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Fi(W1(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Sc(Math.pow(e,8)),r=Jy,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+a),e);8>a?(a=Sc(Math.pow(e,a)),r=r.R(a).add(Sc(c))):r=(r=r.R(t)).add(Sc(c))}return r};var ij=wu.createWebChannelTransport=function(){return new fT},sj=wu.getStatEventTarget=function(){return XD()},LM=wu.ErrorCode=eT,oj=wu.EventType=i1,aj=wu.Event=fg,K1=wu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uj=wu.FetchXmlHttpFactory=vE,yT=wu.WebChannel=o1,cj=wu.XhrIo=Cr,lj=wu.Md5=Cu,e_=wu.Integer=Tn;class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let t_="9.23.0";const nf=new vi.Yd("@firebase/firestore");function FM(){return nf.logLevel}function Le(n,...e){if(nf.logLevel<=vi.in.DEBUG){const t=e.map(VM);nf.debug(`Firestore (${t_}): ${n}`,...t)}}function kr(n,...e){if(nf.logLevel<=vi.in.ERROR){const t=e.map(VM);nf.error(`Firestore (${t_}): ${n}`,...t)}}function _a(n,...e){if(nf.logLevel<=vi.in.WARN){const t=e.map(VM);nf.warn(`Firestore (${t_}): ${n}`,...t)}}function VM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${t_}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function wt(n,e){n||lt()}function nt(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class mj{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yj{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new mj(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function vj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class X1{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function n_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ir(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new ir(0,0))}static max(){return new Dt(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class DE{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===DE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof DE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends DE{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const Ij=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends DE{construct(e,t,r){return new br(e,t,r)}static isValidIdentifier(e){return Ij.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(a(),i++)}if(a(),c)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(t)}static emptyPath(){return new br([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(cn.fromString(e))}static fromName(e){return new Xe(cn.fromString(e).popFirst(5))}static empty(){return new Xe(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new cn(e.slice()))}}function nL(n){return new Uo(n.readTime,n.key,-1)}class Uo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Uo(Dt.min(),Xe.empty(),-1)}static max(){return new Uo(Dt.max(),Xe.empty(),-1)}}function BM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const rL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function rf(n){return jM.apply(this,arguments)}function jM(){return jM=(0,P.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==rL)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),jM.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,a=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const a=e.length,c=new Array(a);let p=0;for(let _=0;_<a;_++){const C=_;t(e[C]).next(T=>{c[C]=T,++p,p===a&&r(c)},T=>i(T))}})}static doWhile(e,t){return new oe((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function sf(n){return"IndexedDbTransactionError"===n.name}let Bo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function SE(n){return null==n}function xE(n){return 0===n&&1/n==-1/0}function fL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function af(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Gn{constructor(e,t){this.comparator=e,this.root=t||Vi.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wT(this.root,e,this.comparator,!1)}getReverseIterator(){return new wT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wT(this.root,e,this.comparator,!0)}}class wT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Vi.RED,this.left=i??Vi.EMPTY,this.right=a??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Vi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Vi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Vi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gL(this.data.getIterator())}getIteratorFrom(e){return new gL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class gL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oo{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new oo([])}unionWith(e){let t=new qn(br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return n_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mL("Invalid base64 string: "+i):i}}(e);return new ai(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const Wj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uf(n){if(wt(!!n),"string"==typeof n){let e=0;const t=Wj.exec(n);if(wt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dr(n.seconds),nanos:Dr(n.nanos)}}function Dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ql(n){return"string"==typeof n?ai.fromBase64String(n):ai.fromUint8Array(n)}function CT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bT(n){const e=n.mapValue.fields.__previous_value__;return CT(e)?bT(e):e}function RE(n){const e=uf(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}class qj{constructor(e,t,r,i,a,c,p,_,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=C}}class cf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cf&&e.projectId===this.projectId&&e.database===this.database}}const lf_mapValue={fields:{__type__:{stringValue:"__max__"}}};function df(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?CT(n)?4:IL(n)?9007199254740991:10:lt()}function Rc(n,e){if(n===e)return!0;const t=df(n);if(t!==df(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return RE(n).isEqual(RE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=uf(r.timestampValue),c=uf(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ql(n.bytesValue).isEqual(Ql(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Dr(r.geoPointValue.latitude)===Dr(i.geoPointValue.latitude)&&Dr(r.geoPointValue.longitude)===Dr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Dr(r.integerValue)===Dr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Dr(r.doubleValue),c=Dr(i.doubleValue);return a===c?xE(a)===xE(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return n_(n.arrayValue.values||[],e.arrayValue.values||[],Rc);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(fL(a)!==fL(c))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===c[p]||!Rc(a[p],c[p])))return!1;return!0}(n,e);default:return lt()}var i}function ME(n,e){return void 0!==(n.values||[]).find(t=>Rc(t,e))}function hf(n,e){if(n===e)return 0;const t=df(n),r=df(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Dr(i.integerValue||i.doubleValue),p=Dr(a.integerValue||a.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return yL(n.timestampValue,e.timestampValue);case 4:return yL(RE(n),RE(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Ql(i),p=Ql(a);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),p=a.split("/");for(let _=0;_<c.length&&_<p.length;_++){const C=Bt(c[_],p[_]);if(0!==C)return C}return Bt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Bt(Dr(i.latitude),Dr(a.latitude));return 0!==c?c:Bt(Dr(i.longitude),Dr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],p=a.values||[];for(let _=0;_<c.length&&_<p.length;++_){const C=hf(c[_],p[_]);if(C)return C}return Bt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===lf_mapValue&&a===lf_mapValue)return 0;if(i===lf_mapValue)return 1;if(a===lf_mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=a.fields||{},C=Object.keys(_);p.sort(),C.sort();for(let T=0;T<p.length&&T<C.length;++T){const R=Bt(p[T],C[T]);if(0!==R)return R;const V=hf(c[p[T]],_[C[T]]);if(0!==V)return V}return Bt(p.length,C.length)}(n.mapValue,e.mapValue);default:throw lt()}}function yL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=uf(n),r=uf(e),i=Bt(t.seconds,r.seconds);return 0!==i?i:Bt(t.nanos,r.nanos)}function i_(n){return GM(n)}function GM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=uf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ql(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=GM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of i)c?c=!1:a+=",",a+=`${p}:${GM(r.fields[p])}`;return a+"}"}(n.mapValue):lt();var e}function vg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zM(n){return!!n&&"integerValue"in n}function NE(n){return!!n&&"arrayValue"in n}function _L(n){return!!n&&"nullValue"in n}function vL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function AT(n){return!!n&&"mapValue"in n}function PE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return af(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=PE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=PE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!AT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=PE(t)}setAll(e){let t=br.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=PE(c):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());AT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];AT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){af(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ui(PE(this.value))}}function CL(n){const e=[];return af(n.fields,(t,r)=>{const i=new br([t]);if(AT(r)){const a=CL(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new oo(e)}class Zn{constructor(e,t,r,i,a,c,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Zn(e,0,Dt.min(),Dt.min(),Dt.min(),Ui.empty(),0)}static newFoundDocument(e,t,r,i){return new Zn(e,1,t,Dt.min(),r,i,0)}static newNoDocument(e,t){return new Zn(e,2,t,Dt.min(),Dt.min(),Ui.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,Dt.min(),Dt.min(),Ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ff{constructor(e,t){this.position=e,this.inclusive=t}}function bL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Xe.comparator(Xe.fromName(c.referenceValue),t.key):hf(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function DL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rc(n.position[t],e.position[t]))return!1;return!0}class s_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class TL{}class rn extends TL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Qj(e,t,r):"array-contains"===t?new e$(e,r):"in"===t?new NL(e,r):"not-in"===t?new t$(e,r):"array-contains-any"===t?new n$(e,r):new rn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Jj(e,r):new Xj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hf(t,this.value)):null!==t&&df(this.value)===df(t)&&this.matchesComparison(hf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class An extends TL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new An(e,t)}matches(e){return o_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function o_(n){return"and"===n.op}function qM(n){return function AL(n){for(const e of n.filters)if(e instanceof An)return!1;return!0}(n)&&o_(n)}function ZM(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+i_(n.value);if(qM(n))return n.filters.map(e=>ZM(e)).join(",");{const e=n.filters.map(t=>ZM(t)).join(",");return`${n.op}(${e})`}}function SL(n,e){return n instanceof rn?(t=n,(r=e)instanceof rn&&t.op===r.op&&t.field.isEqual(r.field)&&Rc(t.value,r.value)):n instanceof An?function(t,r){return r instanceof An&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&SL(a,r.filters[c]),!0)}(n,e):void lt();var t,r}function RL(n){return n instanceof rn?`${(e=n).field.canonicalString()} ${e.op} ${i_(e.value)}`:n instanceof An?function(e){return e.op.toString()+" {"+e.getFilters().map(RL).join(" ,")+"}"}(n):"Filter";var e}class Qj extends rn{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jj extends rn{constructor(e,t){super(e,"in",t),this.keys=ML(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xj extends rn{constructor(e,t){super(e,"not-in",t),this.keys=ML(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ML(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class e$ extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return NE(t)&&ME(t.arrayValue,this.value)}}class NL extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ME(this.value.arrayValue,t)}}class t$ extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ME(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ME(this.value.arrayValue,t)}}class n$ extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!NE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ME(this.value.arrayValue,r))}}class r${constructor(e,t=null,r=[],i=[],a=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=p,this.dt=null}}function KM(n,e=null,t=[],r=[],i=null,a=null,c=null){return new r$(n,e,t,r,i,a,c)}function Ig(n){const e=nt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ZM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),SE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>i_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>i_(r)).join(",")),e.dt=t}return e.dt}function kE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DL(n.startAt,e.startAt)&&DL(n.endAt,e.endAt)}function ST(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Jl{constructor(e,t=null,r=[],i=[],a=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=p,this.endAt=_,this.wt=null,this._t=null}}function a_(n){return new Jl(n)}function LL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function YM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function RT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function QM(n){return null!==n.collectionGroup}function Eg(n){const e=nt(n);if(null===e.wt){e.wt=[];const t=RT(e),r=YM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new s_(t)),e.wt.push(new s_(br.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new s_(br.keyField(),a))}}}return e.wt}function Rs(n){const e=nt(n);if(!e._t)if("F"===e.limitType)e._t=KM(e.path,e.collectionGroup,Eg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Eg(e))t.push(new s_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ff(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ff(e.startAt.position,e.startAt.inclusive):null;e._t=KM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function JM(n,e){e.getFirstInequalityField(),RT(n);const t=n.filters.concat([e]);return new Jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function MT(n,e,t){return new Jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function OE(n,e){return kE(Rs(n),Rs(e))&&n.limitType===e.limitType}function FL(n){return`${Ig(Rs(n))}|lt:${n.limitType}`}function XM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>RL(r)).join(", ")}]`),SE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>i_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>i_(r)).join(",")),`Target(${t})`}(Rs(n))}; limitType=${n.limitType})`}function LE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Eg(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const p=bL(i,a,c);return i.inclusive?p<=0:p<0}(t.startAt,Eg(t),r)||t.endAt&&!function(i,a,c){const p=bL(i,a,c);return i.inclusive?p>=0:p>0}(t.endAt,Eg(t),r)));var t,r}function UL(n){return(e,t)=>{let r=!1;for(const i of Eg(n)){const a=i$(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function i$(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,a,c){const p=a.data.field(i),_=c.data.field(i);return null!==p&&null!==_?hf(p,_):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}class Xl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){af(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}const s$=new Gn(Xe.comparator);function ao(){return s$}const BL=new Gn(Xe.comparator);function FE(...n){let e=BL;for(const t of n)e=e.insert(t.key,t);return e}function jL(n){let e=BL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mc(){return VE()}function $L(){return VE()}function VE(){return new Xl(n=>n.toString(),(n,e)=>n.isEqual(e))}const o$=new Gn(Xe.comparator),a$=new qn(Xe.comparator);function Ht(...n){let e=a$;for(const t of n)e=e.add(t);return e}const u$=new qn(Bt);function HL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xE(e)?"-0":e}}function GL(n){return{integerValue:""+n}}function zL(n,e){return function oL(n){return"number"==typeof n&&Number.isInteger(n)&&!xE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?GL(e):HL(n,e)}class NT{constructor(){this._=void 0}}function c$(n,e,t){return n instanceof u_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&CT(i)&&(i=bT(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof wg?qL(n,e):n instanceof Cg?ZL(n,e):function(r,i){const a=WL(r,i),c=KL(a)+KL(r.gt);return zM(a)&&zM(r.gt)?GL(c):HL(r.serializer,c)}(n,e)}function l$(n,e,t){return n instanceof wg?qL(n,e):n instanceof Cg?ZL(n,e):t}function WL(n,e){return n instanceof c_?zM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class u_ extends NT{}class wg extends NT{constructor(e){super(),this.elements=e}}function qL(n,e){const t=YL(e);for(const r of n.elements)t.some(i=>Rc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Cg extends NT{constructor(e){super(),this.elements=e}}function ZL(n,e){let t=YL(e);for(const r of n.elements)t=t.filter(i=>!Rc(i,r));return{arrayValue:{values:t}}}class c_ extends NT{constructor(e,t){super(),this.serializer=e,this.gt=t}}function KL(n){return Dr(n.integerValue||n.doubleValue)}function YL(n){return NE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class h${constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function PT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kT{}function QL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new d_(n.key,sr.none()):new l_(n.key,n.data,sr.none());{const t=n.data,r=Ui.empty();let i=new qn(br.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new ed(n.key,r,new oo(i.toArray()),sr.none())}}function f$(n,e,t){n instanceof l_?function(r,i,a){const c=r.value.clone(),p=eF(r.fieldTransforms,i,a.transformResults);c.setAll(p),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ed?function(r,i,a){if(!PT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=eF(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(XL(r)),p.setAll(c),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function BE(n,e,t,r){return n instanceof l_?function(i,a,c,p){if(!PT(i.precondition,a))return c;const _=i.value.clone(),C=tF(i.fieldTransforms,p,a);return _.setAll(C),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ed?function(i,a,c,p){if(!PT(i.precondition,a))return c;const _=tF(i.fieldTransforms,p,a),C=a.data;return C.setAll(XL(i)),C.setAll(_),a.convertToFoundDocument(a.version,C).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,PT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function p$(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=WL(r.transform,i||null);null!=a&&(null===t&&(t=Ui.empty()),t.set(r.field,a))}return t||null}function JL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&n_(t,r,(i,a)=>function d$(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wg&&r instanceof wg||t instanceof Cg&&r instanceof Cg?n_(t.elements,r.elements,Rc):t instanceof c_&&r instanceof c_?Rc(t.gt,r.gt):t instanceof u_&&r instanceof u_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class l_ extends kT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ed extends kT{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function XL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eF(n,e,t){const r=new Map;wt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,p=e.data.field(a.field);r.set(a.field,l$(c,p,t[i]))}return r}function tF(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,c$(a,c,e))}return r}class d_ extends kT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tN extends kT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&f$(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=BE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=BE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$L();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let p=this.applyToLocalView(c,a.mutatedFields);p=t.has(i.key)?null:p;const _=QL(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&n_(this.mutations,e.mutations,(t,r)=>JL(t,r))&&n_(this.baseMutations,e.baseMutations,(t,r)=>JL(t,r))}}class rN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wt(e.mutations.length===r.length);let i=o$;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new rN(e,t,r,i)}}class iN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class m${constructor(e,t){this.count=e,this.unchangedNames=t}}var Wr,ln;function nF(n){switch(n){default:return lt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function rF(n){if(void 0===n)return kr("GRPC error has no .code"),he.UNKNOWN;switch(n){case Wr.OK:return he.OK;case Wr.CANCELLED:return he.CANCELLED;case Wr.UNKNOWN:return he.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return he.INTERNAL;case Wr.UNAVAILABLE:return he.UNAVAILABLE;case Wr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Wr.NOT_FOUND:return he.NOT_FOUND;case Wr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Wr.ABORTED:return he.ABORTED;case Wr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Wr.DATA_LOSS:return he.DATA_LOSS;default:return lt()}}(ln=Wr||(Wr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class sN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return OT}static getOrCreateInstance(){return null===OT&&(OT=new sN),OT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let OT=null;const y$=new e_([4294967295,4294967295],0);function sF(n){const e=function iF(){return new TextEncoder}().encode(n),t=new lj;return t.update(e),new Uint8Array(t.digest())}function oF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new e_([t,r],0),new e_([i,a],0)]}class oN{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jE(`Invalid padding: ${t}`);if(r<0)throw new jE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new jE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new jE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=e_.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(e_.fromNumber(r)));return 1===i.compare(y$)&&(i=new e_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=sF(e),[r,i]=oF(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new oN(a,i,t);return r.forEach(p=>c.insert(p)),c}insert(e){if(0===this.It)return;const t=sF(e),[r,i]=oF(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class jE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $E{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,HE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $E(Dt.min(),i,new Gn(Bt),ao(),Ht())}}class HE{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new HE(r,t,Ht(),Ht(),Ht())}}class LT{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class aF{constructor(e,t){this.targetId=e,this.Vt=t}}class uF{constructor(e,t,r=ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cF{constructor(){this.St=0,this.Dt=dF(),this.Ct=ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ht(),t=Ht(),r=Ht();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new HE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=dF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _${constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ao(),this.zt=lF(),this.Wt=new Gn(Bt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(ST(c))if(0===i){const p=new Xe(c.path);this.Yt(r,p,Zn.newNoDocument(p,Dt.min()))}else wt(1===i);else{const p=this.ie(r);if(p!==i){const _=this.re(e,p);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=sN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,T,R){var V,z,ue,Ne,Pe,tt;const _t={localCacheCount:T,existenceFilterCount:R.count},vt=R.unchangedNames;return vt&&(_t.bloomFilter={applied:0===C,hashCount:null!==(V=vt?.hashCount)&&void 0!==V?V:0,bitmapLength:null!==(Ne=null===(ue=null===(z=vt?.bits)||void 0===z?void 0:z.bitmap)||void 0===ue?void 0:ue.length)&&void 0!==Ne?Ne:0,padding:null!==(tt=null===(Pe=vt?.bits)||void 0===Pe?void 0:Pe.padding)&&void 0!==tt?tt:0}),_t}(_,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:p=0}=r;let _,C;try{_=Ql(a).toUint8Array()}catch(T){if(T instanceof mL)return _a("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{C=new oN(_,c,p)}catch(T){return _a(T instanceof jE?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===C.It?1:i!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const c=this.Gt.ue(),p=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(p)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const p=this.se(c);if(p){if(a.current&&ST(p.target)){const _=new Xe(p.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,Zn.newNoDocument(_,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=Ht();this.zt.forEach((a,c)=>{let p=!0;c.forEachWhile(_=>{const C=this.se(_);return!C||"TargetPurposeLimboResolution"===C.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const i=new $E(e,t,this.Wt,this.jt,r);return this.jt=ao(),this.zt=lF(),this.Wt=new Gn(Bt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new qn(Bt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lF(){return new Gn(Xe.comparator)}function dF(){return new Gn(Xe.comparator)}const v$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),I$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),E$=(()=>({and:"AND",or:"OR"}))();class w${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function aN(n,e){return n.useProto3Json||SE(e)?e:{value:e}}function h_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C$(n,e){return h_(n,e.toTimestamp())}function Or(n){return wt(!!n),Dt.fromTimestamp(function(e){const t=uf(e);return new ir(t.seconds,t.nanos)}(n))}function uN(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fF(n){const e=cn.fromString(n);return wt(wF(e)),e}function GE(n,e){return uN(n.databaseId,e.path)}function Nc(n,e){const t=fF(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(gF(t))}function cN(n,e){return uN(n.databaseId,e)}function zE(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gF(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mF(n,e,t){return{name:GE(n,e),fields:t.value.mapValue.fields}}function _F(n,e){return{documents:[cN(n,e.path)]}}function dN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=cN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return EF(An.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(C=>{return{field:pf((T=C).field),direction:S$(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=aN(n,e.limit);var p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function vF(n){let e=function pF(n){const e=fF(n);return 4===e.length?cn.emptyPath():gF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const R=IF(T);return R instanceof An&&qM(R)?R.getFilters():[R]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new s_(f_((R=T).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let p=null;t.limit&&(p=function(T){let R;return R="object"==typeof T?T.value:T,SE(R)?null:R}(t.limit));let _=null;var T;t.startAt&&(_=new ff((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new ff(T.values||[],!T.before)}(t.endAt)),function OL(n,e,t,r,i,a,c,p){return new Jl(n,e,t,r,i,a,c,p)}(e,i,c,a,p,"F",_,C)}function IF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=f_(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=f_(e.unaryFilter.field);return rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=f_(e.unaryFilter.field);return rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=f_(e.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(n):void 0!==n.fieldFilter?rn.create(f_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return An.create(e.compositeFilter.filters.map(t=>IF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(n):lt();var e}function S$(n){return v$[n]}function x$(n){return I$[n]}function R$(n){return E$[n]}function pf(n){return{fieldPath:n.canonicalString()}}function f_(n){return br.fromServerFormat(n.fieldPath)}function EF(n){return n instanceof rn?function(e){if("=="===e.op){if(vL(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NAN"}};if(_L(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vL(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NOT_NAN"}};if(_L(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(e.field),op:x$(e.op),value:e.value}}}(n):n instanceof An?function(e){const t=e.getFilters().map(r=>EF(r));return 1===t.length?t[0]:{compositeFilter:{op:R$(e.op),filters:t}}}(n):lt()}function M$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class td{constructor(e,t,r,i,a=Dt.min(),c=Dt.min(),p=ai.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CF{constructor(e){this.fe=e}}function hN(n){const e=vF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?MT(e,e.limit,"L"):e}class Ag{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Dr(e.integerValue));else if("doubleValue"in e){const r=Dr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),xE(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ql(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?IL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):lt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Xe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ag.Ve=new Ag;class B${constructor(){this.rn=new _N}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Uo.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class _N{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qn(cn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn(cn.comparator)).toArray()}}class as{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(41943040,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class xg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xg(0)}static Mn(){return new xg(-1)}}class Z${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&BE(r.mutation,i,oo.empty(),ir.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const i=Mc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=FE();return a.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Mc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let a=ao();const c=VE(),p=VE();return t.forEach((_,C)=>{const T=r.get(C.key);i.has(C.key)&&(void 0===T||T.mutation instanceof ed)?a=a.insert(C.key,C):void 0!==T?(c.set(C.key,T.mutation.getFieldMask()),BE(T.mutation,C,T.mutation.getFieldMask(),ir.now())):c.set(C.key,oo.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((C,T)=>c.set(C,T)),t.forEach((C,T)=>{var R;return p.set(C,new Z$(T,null!==(R=c.get(C))&&void 0!==R?R:null))}),p))}recalculateAndSaveOverlays(e,t){const r=VE();let i=new Gn((c,p)=>c-p),a=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let T=r.get(_)||oo.empty();T=p.applyToLocalView(C,T),r.set(_,T);const R=(i.get(p.batchId)||Ht()).add(_);i=i.insert(p.batchId,R)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),C=_.key,T=_.value,R=$L();T.forEach(V=>{if(!a.has(V)){const z=QL(t.get(V),r.get(V));null!==z&&R.set(V,z),a=a.add(V)}}),c.push(this.documentOverlayCache.saveOverlays(e,C,R))}return oe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):QM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):oe.resolve(Mc());let p=-1,_=a;return c.next(C=>oe.forEach(C,(T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),a.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next(V=>{_=_.insert(T,V)}))).next(()=>this.populateOverlays(e,C,a)).next(()=>this.computeViews(e,_,C,Ht())).next(T=>({batchId:p,changes:jL(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(r=>{let i=FE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=FE();return this.indexManager.getCollectionParents(e,i).next(c=>oe.forEach(c,p=>{const _=(C=t,T=p.child(i),new Jl(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(C=>{C.forEach((T,R)=>{a=a.insert(T,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((p,_)=>{const C=_.getKey();null===a.get(C)&&(a=a.insert(C,Zn.newInvalidDocument(C)))});let c=FE();return a.forEach((p,_)=>{const C=i.get(p);void 0!==C&&BE(C.mutation,_,oo.empty(),ir.now()),LE(t,_)&&(c=c.insert(p,_))}),c})}}class K${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Or(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:hN(r.bundledQuery),readTime:Or(r.readTime)}),oe.resolve();var r}}class Y${constructor(){this.overlays=new Gn(Xe.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mc();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Mc(),a=t.length+1,c=new Xe(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Gn((C,T)=>C-T);const c=this.overlays.getIterator();for(;c.hasNext();){const C=c.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=a.get(C.largestBatchId);null===T&&(T=Mc(),a=a.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const p=Mc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,T)=>p.set(C,T)),!(p.size()>=i)););return oe.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new iN(t,r));let a=this.ls.get(t);void 0===a&&(a=Ht(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class vN{constructor(){this.fs=new qn(Ai.ds),this.ws=new qn(Ai._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ai(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ai(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Xe(new cn([])),r=new Ai(t,e),i=new Ai(t,e+1),a=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Xe(new cn([])),r=new Ai(t,e),i=new Ai(t,e+1);let a=Ht();return this.ws.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Ai(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ai{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Xe.comparator(e.key,t.key)||Bt(e.As,t.As)}static _s(e,t){return Bt(e.As,t.As)||Xe.comparator(e.key,t.key)}}class Q${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new qn(Ai.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const c=new nN(a,t,r,i);this.mutationQueue.push(c);for(const p of i)this.Rs=this.Rs.add(new Ai(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ai(t,0),i=new Ai(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],c=>{const p=this.Ps(c.As);a.push(p)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(Bt);return t.forEach(i=>{const a=new Ai(i,0),c=new Ai(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],p=>{r=r.add(p.As)})}),oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const c=new Ai(new Xe(a),0);let p=new qn(Bt);return this.Rs.forEachWhile(_=>{const C=_.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(p=p.add(_.As)),!0)},c),oe.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){wt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return oe.forEach(t.mutations,i=>{const a=new Ai(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ai(t,0),i=this.Rs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class J${constructor(e){this.Ds=e,this.docs=new Gn(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let r=ao();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Zn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ao();const c=t.path,p=new Xe(c.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:C,value:{document:T}}=_.getNext();if(!c.isPrefixOf(C.path))break;C.path.length>c.length+1||BM(nL(T),r)<=0||(i.has(T.key)||LE(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){lt()}Cs(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new X$(this)}getSize(e){return oe.resolve(this.size)}}class X$ extends class zF{constructor(){this.changes=new Xl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class eH{constructor(e){this.persistence=e,this.xs=new Xl(t=>Ig(t),kE),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vN,this.targetCount=0,this.Ms=xg.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new xg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class IN{constructor(e,t){this.$s={},this.overlays={},this.Os=new Bo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eH(this),this.indexManager=new B$,this.remoteDocumentCache=new J$(r=>this.referenceDelegate.Ls(r)),this.serializer=new CF(t),this.qs=new K$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Q$(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new tH(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class tH extends class iL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class zT{constructor(e){this.persistence=e,this.Qs=new vN,this.js=null}static zs(e){return new zT(e)}get Ws(){if(this.js)return this.js;throw lt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,r=>{const i=Xe.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class bN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Ht(),i=Ht();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bN(e,t.fromCache,r,i)}}class JF{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(LL(t))return oe.resolve(null);let r=Rs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=MT(t,null,"F"),r=Rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Ht(...a);return this.Ui.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const C=this.ji(t,p);return this.zi(t,C,c,_.readTime)?this.Ki(e,MT(t,null,"F")):this.Wi(e,C,t,_)}))})))}Gi(e,t,r,i){return LL(t)||i.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,i)?this.Qi(e,t):(FM()<=vi.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XM(t)),this.Wi(e,c,t,function tL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new ir(t+1,0):new ir(t,r));return new Uo(i,Xe.empty(),e)}(i,-1)))})}ji(e,t){let r=new qn(UL(e));return t.forEach((i,a)=>{LE(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return FM()<=vi.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",XM(t)),this.Ui.getDocumentsMatchingQuery(e,t,Uo.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class rH{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Gn(Bt),this.Yi=new Xl(a=>Ig(a),kE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function eV(n,e){return DN.apply(this,arguments)}function DN(){return DN=(0,P.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],p=[];let _=Ht();for(const C of i){c.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}for(const C of a){p.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(C=>({er:C,removedBatchIds:c,addedBatchIds:p}))})})}),DN.apply(this,arguments)}function iH(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,C){const T=_.batch,R=T.keys();let V=oe.resolve();return R.forEach(z=>{V=V.next(()=>C.getEntry(p,z)).next(ue=>{const Ne=_.docVersions.get(z);wt(null!==Ne),ue.version.compareTo(Ne)<0&&(T.applyToRemoteDocument(ue,_),ue.isValidDocument()&&(ue.setReadTime(_.commitVersion),C.addEntry(ue)))})}),V.next(()=>c.mutationQueue.removeMutationBatch(p,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Ht();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tV(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sH(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((T,R)=>{const V=i.get(R);if(!V)return;p.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,R)));let z=V.withSequenceNumber(a.currentSequenceNumber);var ue,Ne,Pe;null!==e.targetMismatches.get(R)?z=z.withResumeToken(ai.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),i=i.insert(R,z),Ne=z,Pe=T,(0===(ue=V).resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(a,z))});let _=ao(),C=Ht();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),p.push(function nV(n,e,t){let r=Ht(),i=Ht();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=ao();return t.forEach((p,_)=>{const C=a.get(p);_.isFoundDocument()!==C.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Le("LocalStore","Ignoring outdated watch update for ",p,". Current version:",C.version," Watch version:",_.version)}),{nr:c,sr:i}})}(a,c,e.documentUpdates).next(T=>{_=T.nr,C=T.sr})),!r.isEqual(Dt.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(R=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(T)}return oe.waitFor(p).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,C)).next(()=>_)}).then(a=>(t.Ji=i,a))}function oH(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m_(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new td(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function y_(n,e,t){return TN.apply(this,arguments)}function TN(){return TN=(0,P.Z)(function*(n,e,t){const r=nt(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!sf(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),TN.apply(this,arguments)}function ZT(n,e,t){const r=nt(n);let i=Dt.min(),a=Ht();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,C){const T=nt(p),R=T.Yi.get(C);return void 0!==R?oe.resolve(T.Ji.get(R)):T.Bs.getTargetData(_,C)}(r,c,Rs(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{a=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Dt.min(),t?a:Ht())).next(p=>(function sV(n,e,t){let r=n.Xi.get(e)||Dt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function VL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),p),{documents:p,ir:a})))}class MN{constructor(){this.activeTargetIds=function eN(){return u$}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uV{constructor(){this.Hr=new MN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new MN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cH{Yr(e){}shutdown(){}}class cV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let QT=null;function PN(){return null===QT?QT=268435456+Math.round(2147483648*Math.random()):QT++,"0x"+QT.toString(16)}const lH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dH{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const us="WebChannelConnection";class hH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const c=PN(),p=this.To(e,t);Le("RestConnection",`Sending RPC '${e}' ${c}:`,p,r);const _={};return this.Eo(_,i,a),this.Ao(e,p,_,r).then(C=>(Le("RestConnection",`Received RPC '${e}' ${c}: `,C),C),C=>{throw _a("RestConnection",`RPC '${e}' ${c} failed with error: `,C,"url: ",p,"request:",r),C})}vo(e,t,r,i,a,c){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+t_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${lH[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=PN();return new Promise((c,p)=>{const _=new cj;_.setWithCredentials(!0),_.listenOnce(oj.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case LM.NO_ERROR:const T=_.getResponseJson();Le(us,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),c(T);break;case LM.TIMEOUT:Le(us,`RPC '${e}' ${a} timed out`),p(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case LM.HTTP_ERROR:const R=_.getStatus();if(Le(us,`RPC '${e}' ${a} failed with status:`,R,"response text:",_.getResponseText()),R>0){let V=_.getResponseJson();Array.isArray(V)&&(V=V[0]);const z=V?.error;if(z&&z.status&&z.message){const ue=function(Ne){const Pe=Ne.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(Pe)>=0?Pe:he.UNKNOWN}(z.status);p(new Re(ue,z.message))}else p(new Re(he.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Re(he.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Le(us,`RPC '${e}' ${a} completed.`)}});const C=JSON.stringify(i);Le(us,`RPC '${e}' ${a} sending request:`,i),_.send(t,"POST",C,r,15)})}Ro(e,t,r){const i=PN(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ij(),p=sj(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(_.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(_.xmlHttpFactory=new uj({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=a.join("");Le(us,`Creating RPC '${e}' stream ${i}: ${T}`,_);const R=c.createWebChannel(T,_);let V=!1,z=!1;const ue=new dH({ro:Pe=>{z?Le(us,`Not sending because RPC '${e}' stream ${i} is closed:`,Pe):(V||(Le(us,`Opening RPC '${e}' stream ${i} transport.`),R.open(),V=!0),Le(us,`RPC '${e}' stream ${i} sending:`,Pe),R.send(Pe))},oo:()=>R.close()}),Ne=(Pe,tt,_t)=>{Pe.listen(tt,vt=>{try{_t(vt)}catch(kt){setTimeout(()=>{throw kt},0)}})};return Ne(R,yT.EventType.OPEN,()=>{z||Le(us,`RPC '${e}' stream ${i} transport opened.`)}),Ne(R,yT.EventType.CLOSE,()=>{z||(z=!0,Le(us,`RPC '${e}' stream ${i} transport closed`),ue.wo())}),Ne(R,yT.EventType.ERROR,Pe=>{z||(z=!0,_a(us,`RPC '${e}' stream ${i} transport errored:`,Pe),ue.wo(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),Ne(R,yT.EventType.MESSAGE,Pe=>{var tt;if(!z){const _t=Pe.data[0];wt(!!_t);const vt=_t,kt=vt.error||(null===(tt=vt[0])||void 0===tt?void 0:tt.error);if(kt){Le(us,`RPC '${e}' stream ${i} received error:`,kt);const Gt=kt.status;let Qt=function(sd){const R_=Wr[sd];if(void 0!==R_)return rF(R_)}(Gt),ui=kt.message;void 0===Qt&&(Qt=he.INTERNAL,ui="Unknown error status: "+Gt+" with message "+kt.message),z=!0,ue.wo(new Re(Qt,ui)),R.close()}else Le(us,`RPC '${e}' stream ${i} received:`,_t),ue._o(_t)}}),Ne(p,aj.STAT_EVENT,Pe=>{Pe.stat===K1.PROXY?Le(us,`RPC '${e}' stream ${i} detected buffering proxy`):Pe.stat===K1.NOPROXY&&Le(us,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ue.fo()},0),ue}}function JT(){return typeof document<"u"?document:null}function tw(n){return new w$(n,!0)}class kN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class dV{constructor(e,t,r,i,a,c,p,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new kN(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,P.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,P.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,P.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Re(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,P.Z)(function*(){e.state=0,e.start()}))}tu(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fH extends dV{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function D$(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:lt(),i=e.targetChange.targetIds||[],a=function(_,C){return _.useProto3Json?(wt(void 0===C||"string"==typeof C),ai.fromBase64String(C||"")):(wt(void 0===C||C instanceof Uint8Array),ai.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const C=void 0===_.code?he.UNKNOWN:rF(_.code);return new Re(C,_.message||"")}(c);t=new uF(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Nc(n,r.document.name),a=Or(r.document.updateTime),c=r.document.createTime?Or(r.document.createTime):Dt.min(),p=new Ui({mapValue:{fields:r.document.fields}}),_=Zn.newFoundDocument(i,a,c,p);t=new LT(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Nc(n,r.document),a=r.readTime?Or(r.readTime):Dt.min(),c=Zn.newNoDocument(i,a);t=new LT([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Nc(n,r.document);t=new LT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return lt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new m$(i,a);t=new aF(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Dt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?Or(a.readTime):Dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=zE(this.serializer),t.addTarget=function(i,a){let c;const p=a.target;if(c=ST(p)?{documents:_F(i,p)}:{query:dN(i,p)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=hF(i,a.resumeToken);const _=aN(i,a.expectedCount);null!==_&&(c.expectedCount=_)}else if(a.snapshotVersion.compareTo(Dt.min())>0){c.readTime=h_(i,a.snapshotVersion.toTimestamp());const _=aN(i,a.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function A$(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=zE(this.serializer),t.removeTarget=e,this.Wo(t)}}class pH extends dV{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function T$(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,i){let a=Or(r.updateTime?r.updateTime:i);return a.isEqual(Dt.min())&&(a=Or(i)),new h$(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.cu(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function WE(n,e){let t;if(e instanceof l_)t={update:mF(n,e.key,e.value)};else if(e instanceof d_)t={delete:GE(n,e.key)};else if(e instanceof ed)t={update:mF(n,e.key,e.data),updateMask:M$(e.fieldMask)};else{if(!(e instanceof tN))return lt();t={verify:GE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof u_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof c_)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:C$(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:lt()),t;var i}(this.serializer,r))};this.Wo(t)}}class gH extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(he.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(he.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class yH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(kr(t),this.mu=!1):Le("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _H{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(p=>{r.enqueueAndForget((0,P.Z)(function*(){var _;_f(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,P.Z)(function*(C){const T=nt(C);T.vu.add(4),yield __(T),T.bu.set("Unknown"),T.vu.delete(4),yield nw(T)}),function(C){return _.apply(this,arguments)})(c))}))}),this.bu=new yH(r,i)}}function nw(n){return LN.apply(this,arguments)}function LN(){return LN=(0,P.Z)(function*(n){if(_f(n))for(const e of n.Ru)yield e(!0)}),LN.apply(this,arguments)}function __(n){return FN.apply(this,arguments)}function FN(){return FN=(0,P.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),FN.apply(this,arguments)}function XT(n,e){const t=nt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),BN(t)?UN(t):I_(t).Ko()&&VN(t,e))}function rw(n,e){const t=nt(n),r=I_(t);t.Au.delete(e),r.Ko()&&hV(t,e),0===t.Au.size&&(r.Ko()?r.jo():_f(t)&&t.bu.set("Unknown"))}function VN(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}I_(n).su(e)}function hV(n,e){n.Vu.qt(e),I_(n).iu(e)}function UN(n){n.Vu=new _$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),I_(n).start(),n.bu.gu()}function BN(n){return _f(n)&&!I_(n).Uo()&&n.Au.size>0}function _f(n){return 0===nt(n).vu.size}function fV(n){n.Vu=void 0}function vH(n){return jN.apply(this,arguments)}function jN(){return jN=(0,P.Z)(function*(n){n.Au.forEach((e,t)=>{VN(n,e)})}),jN.apply(this,arguments)}function IH(n,e){return $N.apply(this,arguments)}function $N(){return $N=(0,P.Z)(function*(n,e){fV(n),BN(n)?(n.bu.Iu(e),UN(n)):n.bu.set("Unknown")}),$N.apply(this,arguments)}function EH(n,e,t){return HN.apply(this,arguments)}function HN(){return HN=(0,P.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof uF&&2===e.state&&e.cause)try{yield(r=(0,P.Z)(function*(i,a){const c=a.cause;for(const p of a.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eA(n,r)}else if(e instanceof LT?n.Vu.Ht(e):e instanceof aF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const r=yield tV(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Vu.ce(a);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const C=i.Au.get(_);C&&i.Au.set(_,C.withResumeToken(p.resumeToken,a))}}),c.targetMismatches.forEach((p,_)=>{const C=i.Au.get(p);if(!C)return;i.Au.set(p,C.withResumeToken(ai.EMPTY_BYTE_STRING,C.snapshotVersion)),hV(i,p);const T=new td(C.target,p,_,C.sequenceNumber);VN(i,T)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield eA(n,r)}var r}),HN.apply(this,arguments)}function eA(n,e,t){return GN.apply(this,arguments)}function GN(){return GN=(0,P.Z)(function*(n,e,t){if(!sf(e))throw e;n.vu.add(1),yield __(n),n.bu.set("Offline"),t||(t=()=>tV(n.localStore)),n.asyncQueue.enqueueRetryable((0,P.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield nw(n)}))}),GN.apply(this,arguments)}function pV(n,e){return e().catch(t=>eA(n,t,e))}function v_(n){return zN.apply(this,arguments)}function zN(){return zN=(0,P.Z)(function*(n){const e=nt(n),t=vf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;wH(e);)try{const i=yield oH(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,CH(e,i)}catch(i){yield eA(e,i)}gV(e)&&mV(e)}),zN.apply(this,arguments)}function wH(n){return _f(n)&&n.Eu.length<10}function CH(n,e){n.Eu.push(e);const t=vf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function gV(n){return _f(n)&&!vf(n).Uo()&&n.Eu.length>0}function mV(n){vf(n).start()}function bH(n){return WN.apply(this,arguments)}function WN(){return WN=(0,P.Z)(function*(n){vf(n).hu()}),WN.apply(this,arguments)}function DH(n){return qN.apply(this,arguments)}function qN(){return qN=(0,P.Z)(function*(n){const e=vf(n);for(const t of n.Eu)e.uu(t.mutations)}),qN.apply(this,arguments)}function TH(n,e,t){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,P.Z)(function*(n,e,t){const r=n.Eu.shift(),i=rN.from(r,e,t);yield pV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield v_(n)}),ZN.apply(this,arguments)}function AH(n,e){return KN.apply(this,arguments)}function KN(){return KN=(0,P.Z)(function*(n,e){var t;e&&vf(n).ou&&(yield(t=(0,P.Z)(function*(r,i){if(nF(a=i.code)&&a!==he.ABORTED){const c=r.Eu.shift();vf(r).Qo(),yield pV(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield v_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),gV(n)&&mV(n)}),KN.apply(this,arguments)}function yV(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,P.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=_f(t);t.vu.add(3),yield __(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield nw(t)}),YN.apply(this,arguments)}function JN(){return JN=(0,P.Z)(function*(n,e){const t=nt(n);e?(t.vu.delete(2),yield nw(t)):e||(t.vu.add(2),yield __(t),t.bu.set("Unknown"))}),JN.apply(this,arguments)}function I_(n){return n.Su||(n.Su=function(e,t,r){const i=nt(e);return i.fu(),new fH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:vH.bind(null,n),ao:IH.bind(null,n),nu:EH.bind(null,n)}),n.Ru.push(function(){var e=(0,P.Z)(function*(t){t?(n.Su.Qo(),BN(n)?UN(n):n.bu.set("Unknown")):(yield n.Su.stop(),fV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function vf(n){return n.Du||(n.Du=function(e,t,r){const i=nt(e);return i.fu(),new pH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:bH.bind(null,n),ao:AH.bind(null,n),au:DH.bind(null,n),cu:TH.bind(null,n)}),n.Ru.push(function(){var e=(0,P.Z)(function*(t){t?(n.Du.Qo(),yield v_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class XN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,p=new XN(e,t,c,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(n,e){if(kr("AsyncQueue",`${e}: ${n}`),sf(n))return new Re(he.UNAVAILABLE,`${e}: ${n}`);throw n}class w_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=FE(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new w_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof w_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new w_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _V{constructor(){this.Cu=new Gn(Xe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):lt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class C_{constructor(e,t,r,i,a,c,p,_,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new C_(e,t,w_.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&OE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class SH{constructor(){this.Nu=void 0,this.listeners=[]}}class xH{constructor(){this.queries=new Xl(e=>FL(e),OE),this.onlineState="Unknown",this.ku=new Set}}function eP(n,e){return tP.apply(this,arguments)}function tP(){return tP=(0,P.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new SH),i)try{a.Nu=yield t.onListen(r)}catch(c){const p=E_(c,`Initialization of query '${XM(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&iP(t)}),tP.apply(this,arguments)}function nP(n,e){return rP.apply(this,arguments)}function rP(){return rP=(0,P.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),rP.apply(this,arguments)}function RH(n,e){const t=nt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.$u(i)&&(r=!0);c.Nu=i}}r&&iP(t)}function MH(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function iP(n){n.ku.forEach(e=>{e.next()})}class sP{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new C_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=C_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class EV{constructor(e){this.key=e}}class wV{constructor(e){this.key=e}}class CV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ht(),this.mutatedKeys=Ht(),this.tc=UL(e),this.ec=new w_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new _V,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,R)=>{const V=i.get(T),z=LE(this.query,R)?R:null,ue=!!V&&this.mutatedKeys.has(V.key),Ne=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Pe=!1;V&&z?V.data.isEqual(z.data)?ue!==Ne&&(r.track({type:3,doc:z}),Pe=!0):this.rc(V,z)||(r.track({type:2,doc:z}),Pe=!0,(_&&this.tc(z,_)>0||C&&this.tc(z,C)<0)&&(p=!0)):!V&&z?(r.track({type:0,doc:z}),Pe=!0):V&&!z&&(r.track({type:1,doc:V}),Pe=!0,(_||C)&&(p=!0)),Pe&&(z?(c=c.add(z),a=Ne?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:c,ic:r,zi:p,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((C,T)=>function(R,V){const z=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return z(R)-z(V)}(C.type,T.type)||this.tc(C.doc,T.doc)),this.oc(r);const c=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,_=p!==this.Xu;return this.Xu=p,0!==a.length||_?{snapshot:new C_(this.query,e.ec,i,a,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _V,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ht(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new wV(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new EV(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Ht();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return C_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OH{constructor(e){this.key=e,this.fc=!1}}class LH{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Xl(p=>FL(p),OE),this._c=new Map,this.mc=new Set,this.gc=new Gn(Xe.comparator),this.yc=new Map,this.Ic=new vN,this.Tc={},this.Ec=new Map,this.Ac=xg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function FH(n,e){return oP.apply(this,arguments)}function oP(){return oP=(0,P.Z)(function*(n,e){const t=xP(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const c=yield m_(t.localStore,Rs(e)),p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield aP(t,e,r,"current"===p,c.resumeToken),t.isPrimaryClient&&XT(t.remoteStore,c)}return i}),oP.apply(this,arguments)}function aP(n,e,t,r,i){return uP.apply(this,arguments)}function uP(){return uP=(0,P.Z)(function*(n,e,t,r,i){n.Rc=(R,V,z)=>{return(ue=(0,P.Z)(function*(Ne,Pe,tt,_t){let vt=Pe.view.sc(tt);vt.zi&&(vt=yield ZT(Ne.localStore,Pe.query,!1).then(({documents:Qt})=>Pe.view.sc(Qt,vt)));const kt=_t&&_t.targetChanges.get(Pe.targetId),Gt=Pe.view.applyChanges(vt,Ne.isPrimaryClient,kt);return _P(Ne,Pe.targetId,Gt.cc),Gt.snapshot}),function(Ne,Pe,tt,_t){return ue.apply(this,arguments)})(n,R,V,z);var ue};const a=yield ZT(n.localStore,e,!0),c=new CV(e,a.ir),p=c.sc(a.documents),_=HE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),C=c.applyChanges(p,n.isPrimaryClient,_);_P(n,t,C.cc);const T=new kH(e,t,c);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),uP.apply(this,arguments)}function VH(n,e){return cP.apply(this,arguments)}function cP(){return cP=(0,P.Z)(function*(n,e){const t=nt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!OE(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield y_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rw(t.remoteStore,r.targetId),b_(t,r.targetId)}).catch(rf))):(b_(t,r.targetId),yield y_(t.localStore,r.targetId,!0))}),cP.apply(this,arguments)}function lP(){return lP=(0,P.Z)(function*(n,e,t){const r=RP(n);try{const i=yield function(a,c){const p=nt(a),_=ir.now(),C=c.reduce((V,z)=>V.add(z.key),Ht());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let z=ao(),ue=Ht();return p.Zi.getEntries(V,C).next(Ne=>{z=Ne,z.forEach((Pe,tt)=>{tt.isValidDocument()||(ue=ue.add(Pe))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,z)).next(Ne=>{T=Ne;const Pe=[];for(const tt of c){const _t=p$(tt,T.get(tt.key).overlayedDocument);null!=_t&&Pe.push(new ed(tt.key,_t,CL(_t.value.mapValue),sr.exists(!0)))}return p.mutationQueue.addMutationBatch(V,_,Pe,c)}).next(Ne=>{R=Ne;const Pe=Ne.applyToLocalDocumentSet(T,ue);return p.documentOverlayCache.saveOverlays(V,Ne.batchId,Pe)})}).then(()=>({batchId:R.batchId,changes:jL(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,p){let _=a.Tc[a.currentUser.toKey()];_||(_=new Gn(Bt)),_=_.insert(c,p),a.Tc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield nd(r,i.changes),yield v_(r.remoteStore)}catch(i){const a=E_(i,"Failed to persist write");t.reject(a)}}),lP.apply(this,arguments)}function bV(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,P.Z)(function*(n,e){const t=nt(n);try{const r=yield sH(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.yc.get(a);c&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?wt(c.fc):i.removedDocuments.size>0&&(wt(c.fc),c.fc=!1))}),yield nd(t,r,e)}catch(r){yield rf(r)}}),dP.apply(this,arguments)}function DV(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,c)=>{const p=c.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(a,c){const p=nt(a);p.onlineState=c;let _=!1;p.queries.forEach((C,T)=>{for(const R of T.listeners)R.Mu(c)&&(_=!0)}),_&&iP(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BH(n,e,t){return hP.apply(this,arguments)}function hP(){return hP=(0,P.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let c=new Gn(Xe.comparator);c=c.insert(a,Zn.newNoDocument(a,Dt.min()));const p=Ht().add(a),_=new $E(Dt.min(),new Map,new Gn(Bt),c,p);yield bV(r,_),r.gc=r.gc.remove(a),r.yc.delete(e),vP(r)}else yield y_(r.localStore,e,!1).then(()=>b_(r,e,t)).catch(rf)}),hP.apply(this,arguments)}function jH(n,e){return fP.apply(this,arguments)}function fP(){return fP=(0,P.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const i=yield iH(t.localStore,e);yP(t,r,null),mP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield nd(t,i)}catch(i){yield rf(i)}}),fP.apply(this,arguments)}function $H(n,e,t){return pP.apply(this,arguments)}function pP(){return pP=(0,P.Z)(function*(n,e,t){const r=nt(n);try{const i=yield function(a,c){const p=nt(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return p.mutationQueue.lookupMutationBatch(_,c).next(T=>(wt(null!==T),C=T.keys(),p.mutationQueue.removeMutationBatch(_,T))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,C,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>p.localDocuments.getDocuments(_,C))})}(r.localStore,e);yP(r,e,t),mP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield nd(r,i)}catch(i){yield rf(i)}}),pP.apply(this,arguments)}function mP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function yP(n,e,t){const r=nt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function b_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||TV(n,r)})}function TV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(rw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),vP(n))}function _P(n,e,t){for(const r of t)r instanceof EV?(n.Ic.addReference(r.key,e),GH(n,r)):r instanceof wV?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||TV(n,r.key)):lt()}function GH(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.mc.add(r),vP(n))}function vP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Xe(cn.fromString(e)),r=n.Ac.next();n.yc.set(r,new OH(t)),n.gc=n.gc.insert(t,r),XT(n.remoteStore,new td(Rs(a_(t.path)),r,"TargetPurposeLimboResolution",Bo.ct))}}function nd(n,e,t){return IP.apply(this,arguments)}function IP(){return IP=(0,P.Z)(function*(n,e,t){const r=nt(n),i=[],a=[],c=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,_)=>{c.push(r.Rc(_,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){i.push(C);const T=bN.Li(_.targetId,C);a.push(T)}}))}),yield Promise.all(c),r.dc.nu(i),yield(p=(0,P.Z)(function*(_,C){const T=nt(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>oe.forEach(C,V=>oe.forEach(V.Fi,z=>T.persistence.referenceDelegate.addReference(R,V.targetId,z)).next(()=>oe.forEach(V.Bi,z=>T.persistence.referenceDelegate.removeReference(R,V.targetId,z)))))}catch(R){if(!sf(R))throw R;Le("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const V=R.targetId;if(!R.fromCache){const z=T.Ji.get(V),Ne=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);T.Ji=T.Ji.insert(V,Ne)}}}),function(_,C){return p.apply(this,arguments)})(r.localStore,a))}),IP.apply(this,arguments)}function zH(n,e){return EP.apply(this,arguments)}function EP(){return EP=(0,P.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield eV(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(p=>{p.reject(new Re(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nd(t,r.er)}var i}),EP.apply(this,arguments)}function WH(n,e){const t=nt(n),r=t.yc.get(e);if(r&&r.fc)return Ht().add(r.key);{let i=Ht();const a=t._c.get(e);if(!a)return i;for(const c of a){const p=t.wc.get(c);i=i.unionWith(p.view.nc)}return i}}function xP(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BH.bind(null,e),e.dc.nu=RH.bind(null,e.eventManager),e.dc.Pc=MH.bind(null,e.eventManager),e}function RP(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$H.bind(null,e),e}class iw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,P.Z)(function*(){t.serializer=tw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function XF(n,e,t,r){return new rH(n,e,t,r)}(this.persistence,new JF,e.initialUser,this.serializer)}createPersistence(e){return new IN(zT.zs,this.serializer)}createSharedClientState(e){return new uV}terminate(){var e=this;return(0,P.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class D_{initialize(e,t){var r=this;return(0,P.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>DV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zH.bind(null,r.syncEngine),yield function QN(n,e){return JN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xH}createDatastore(e){const t=tw(e.databaseInfo.databaseId),r=new hH(e.databaseInfo);return new gH(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>DV(this.syncEngine,p,0),c=cV.D()?new cV:new cH,new _H(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,p,_,C){const T=new LH(r,i,a,c,p,_);return C&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,P.Z)(function*(t){const r=nt(t);Le("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield __(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class tA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sG{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Di.UNAUTHENTICATED,this.clientId=X1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,P.Z)(function*(p){Le("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,P.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,P.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=E_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function nA(n,e){return NP.apply(this,arguments)}function NP(){return NP=(0,P.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,P.Z)(function*(a){r.isEqual(a)||(yield eV(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),NP.apply(this,arguments)}function PP(n,e){return kP.apply(this,arguments)}function kP(){return kP=(0,P.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield OP(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>yV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>yV(e.remoteStore,a)),n._onlineComponents=e}),kP.apply(this,arguments)}function MV(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function OP(n){return LP.apply(this,arguments)}function LP(){return LP=(0,P.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!MV(t))throw t;_a("Error using user provided cache. Falling back to memory cache: "+t),yield nA(n,new iw)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield nA(n,new iw);return n._offlineComponents}),LP.apply(this,arguments)}function rA(n){return FP.apply(this,arguments)}function FP(){return FP=(0,P.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield PP(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield PP(n,new D_))),n._onlineComponents}),FP.apply(this,arguments)}function iA(n){return OP(n).then(e=>e.localStore)}function T_(n){return UP.apply(this,arguments)}function UP(){return UP=(0,P.Z)(function*(n){const e=yield rA(n),t=e.eventManager;return t.onListen=FH.bind(null,e.syncEngine),t.onUnlisten=VH.bind(null,e.syncEngine),t}),UP.apply(this,arguments)}function OV(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,P.Z)(function*(){return function(i,a,c,p,_){const C=new tA({next:R=>{a.enqueueAndForget(()=>nP(i,T));const V=R.docs.has(c);!V&&R.fromCache?_.reject(new Re(he.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&p&&"server"===p.source?_.reject(new Re(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),T=new sP(a_(c.path),C,{includeMetadataChanges:!0,Ku:!0});return eP(i,T)}(yield T_(n),n.asyncQueue,e,t,r)})),r.promise}function LV(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,P.Z)(function*(){return function(i,a,c,p,_){const C=new tA({next:R=>{a.enqueueAndForget(()=>nP(i,T)),R.fromCache&&"server"===p.source?_.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),T=new sP(c,C,{includeMetadataChanges:!0,Ku:!0});return eP(i,T)}(yield T_(n),n.asyncQueue,e,t,r)})),r.promise}function FV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const VV=new Map;function BP(n,e,t){if(!t)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BV(n){if(!Xe.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jV(n){if(Xe.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sA(n);throw new Re(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $V(n,e){if(e<=0)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class HV{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function UV(n,e,t,r){if(!0===e&&!0===r)throw new Re(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=FV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fj;switch(t.type){case"firstParty":return new yj(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VV.get(e);t&&(Le("ComponentProvider","Removing Datastore"),VV.delete(e),t.terminate())}(this),Promise.resolve()}}class Kn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class Bi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class Pc extends Bi{constructor(e,t,r){super(e,t,a_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Xe(e))}withConverter(e){return new Pc(this.firestore,e,this._path)}}function oA(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=X1.A()),BP("doc","path",e),n instanceof sw){const r=cn.fromString(e,...t);return BV(r),new Kn(n,null,new Xe(r))}{if(!(n instanceof Kn||n instanceof Pc))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return BV(r),new Kn(n.firestore,n instanceof Pc?n.converter:null,new Xe(r))}}function WV(n,e){return n=(0,_e.m9)(n),e=(0,_e.m9)(e),(n instanceof Kn||n instanceof Pc)&&(e instanceof Kn||e instanceof Pc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jP(n,e){return n=(0,_e.m9)(n),e=(0,_e.m9)(e),n instanceof Bi&&e instanceof Bi&&n.firestore===e.firestore&&OE(n._query,e._query)&&n.converter===e.converter}class gG{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new kN(this,"async_queue_retry"),this.Xc=()=>{const t=JT();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=JT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=JT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new oi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,P.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!sf(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,kr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=XN.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&lt()}verifyOperationInProgress(){}sa(){var e=this;return(0,P.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function $P(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Yn extends sw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new gG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qV(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||qV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qV(n){var e,t,r;const i=n._freezeSettings(),a=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qj(n._databaseId,p,n._persistenceKey,(C=i).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,FV(C.experimentalLongPollingOptions),C.useFetchStreams));var p,C;n._firestoreClient=new sG(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kc(ai.fromBase64String(e))}catch(t){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kc(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mg{constructor(e){this._methodName=e}}class aA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const AG=/^__.*__$/;class SG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ed(e,this.data,this.fieldMask,t,this.fieldTransforms):new l_(e,this.data,t,this.fieldTransforms)}}class YV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ed(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class uA{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(QV(this.ca)&&AG.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class xG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tw(e)}ya(e,t,r,i=!1){return new uA({ca:e,methodName:t,ga:r,path:br.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ng(n){const e=n._freezeSettings(),t=tw(n._databaseId);return new xG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cA(n,e,t,r,i,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,i);WP("Data must be an object, but it was:",c,r);const p=e2(r,c);let _,C;if(a.merge)_=new oo(c.fieldMask),C=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const R of a.mergeFields){const V=uw(e,R,t);if(!c.contains(V))throw new Re(he.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);n2(T,V)||T.push(V)}_=new oo(T),C=c.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,C=c.fieldTransforms;return new SG(new Ui(p),_,C)}class aw extends Mg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aw}}function XV(n,e,t,r=!1){return Pg(t,n.ya(r?4:3,e))}function Pg(n,e){if(t2(n=(0,_e.m9)(n)))return WP("Unsupported field value:",e,n),e2(n,e);if(n instanceof Mg)return function(t,r){if(!QV(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let p=Pg(c,r.wa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ir.fromDate(t);return{timestampValue:h_(r.serializer,i)}}if(t instanceof ir){const i=new ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:h_(r.serializer,i)}}if(t instanceof aA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kc)return{bytesValue:hF(r.serializer,t._byteString)};if(t instanceof Kn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${sA(t)}`)}(n,e)}function e2(n,e){const t={};return pL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):af(n,(r,i)=>{const a=Pg(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function t2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof aA||n instanceof kc||n instanceof Kn||n instanceof Mg)}function WP(n,e,t){if(!t2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=sA(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function uw(n,e,t){if((e=(0,_e.m9)(e))instanceof rd)return e._internalPath;if("string"==typeof e)return lA(n,e);throw dA("Field path arguments must be of type string or ",n,!1,void 0,t)}const PG=new RegExp("[~\\*/\\[\\]]");function lA(n,e,t){if(e.search(PG)>=0)throw dA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rd(...e.split("."))._internalPath}catch{throw dA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dA(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Re(he.INVALID_ARGUMENT,p+n+_)}function n2(n,e){return n.some(t=>t.isEqual(e))}class cw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kG extends cw{data(){return super.data()}}function hA(n,e){return"string"==typeof e?lA(n,e):e instanceof rd?e._internalPath:e._delegate._internalPath}function r2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qP{}class lw extends qP{}function If(n,e,...t){let r=[];e instanceof qP&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof A_).length,c=i.filter(p=>p instanceof dw).length;if(a>1||a>0&&c>0)throw new Re(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class dw extends lw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new dw(e,t,r)}_apply(e){const t=this._parse(e);return u2(e._query,t),new Bi(e.firestore,e.converter,JM(e._query,t))}_parse(e){const t=Ng(e.firestore);return function(i,a,c,p,_,C,T){let R;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){a2(T,C);const V=[];for(const z of T)V.push(o2(p,i,z));R={arrayValue:{values:V}}}else R=o2(p,i,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||a2(T,C),R=XV(c,"where",T,"in"===C||"not-in"===C);return rn.create(_,C,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class A_ extends qP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new A_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:An.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const p of c)u2(a,p),a=JM(a,p)}(e._query,t),new Bi(e.firestore,e.converter,JM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZP extends lw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZP(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new s_(i,a);return function(p,_){if(null===YM(p)){const C=RT(p);null!==C&&c2(0,C,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Jl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class fA extends lw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new fA(e,t,r)}_apply(e){return new Bi(e.firestore,e.converter,MT(e._query,this._limit,this._limitType))}}class pA extends lw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new pA(e,t,r)}_apply(e){const t=s2(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,(i=t,new Jl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class gA extends lw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gA(e,t,r)}_apply(e){const t=s2(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,(i=t,new Jl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function s2(n,e,t,r){if(t[0]=(0,_e.m9)(t[0]),t[0]instanceof cw)return function(i,a,c,p,_){if(!p)throw new Re(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const C=[];for(const T of Eg(i))if(T.field.isKeyField())C.push(vg(a,p.key));else{const R=p.data.field(T.field);if(CT(R))throw new Re(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const V=T.field.canonicalString();throw new Re(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}C.push(R)}return new ff(C,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ng(n.firestore);return function(a,c,p,_,C,T){const R=a.explicitOrderBy;if(C.length>R.length)throw new Re(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let z=0;z<C.length;z++){const ue=C[z];if(R[z].field.isKeyField()){if("string"!=typeof ue)throw new Re(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ue}`);if(!QM(a)&&-1!==ue.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ue}' contains a slash.`);const Ne=a.path.child(cn.fromString(ue));if(!Xe.isDocumentKey(Ne))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Pe=new Xe(Ne);V.push(vg(c,Pe))}else{const Ne=XV(p,_,ue);V.push(Ne)}}return new ff(V,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function o2(n,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Re(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QM(e)&&-1!==t.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!Xe.isDocumentKey(r))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vg(n,new Xe(r))}if(t instanceof Kn)return vg(n,t._key);throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sA(t)}.`)}function a2(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u2(n,e){if(e.isInequality()){const r=RT(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=YM(n);null!==a&&c2(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function c2(n,e,t){if(!t.isEqual(e))throw new Re(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class KP{convertValue(e,t="none"){switch(df(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return af(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new aA(Dr(e.latitude),Dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(RE(e));default:return null}}convertTimestamp(e){const t=uf(e);return new ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);wt(wF(r));const i=new cf(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(t)||kr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function mA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends cw{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hA("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class hw extends id{data(e={}){return super.data(e)}}class Ef{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new kg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hw(this._firestore,this._userDataWriter,r.key,r,new kg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new hw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new kg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new hw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new kg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,C=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),C=a.indexOf(c.doc.key)),{type:zG(c.type),doc:p,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function d2(n,e){return n instanceof id&&e instanceof id?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ef&&e instanceof Ef&&n._firestore===e._firestore&&jP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class wf extends KP{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,t)}}function h2(n,e,t){n=sn(n,Kn);const r=sn(n.firestore,Yn),i=mA(n.converter,e,t);return S_(r,[cA(Ng(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,sr.none())])}function f2(n,e,t,...r){n=sn(n,Kn);const i=sn(n.firestore,Yn),a=Ng(i);let c;return c="string"==typeof(e=(0,_e.m9)(e))||e instanceof rd?function zP(n,e,t,r,i,a){const c=n.ya(1,e,t),p=[uw(e,r,t)],_=[i];if(a.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)p.push(uw(e,a[V])),_.push(a[V+1]);const C=[],T=Ui.empty();for(let V=p.length-1;V>=0;--V)if(!n2(C,p[V])){const z=p[V];let ue=_[V];ue=(0,_e.m9)(ue);const Ne=c.da(z);if(ue instanceof aw)C.push(z);else{const Pe=Pg(ue,Ne);null!=Pe&&(C.push(z),T.set(z,Pe))}}const R=new oo(C);return new YV(T,R,c.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function GP(n,e,t,r){const i=n.ya(1,e,t);WP("Data must be an object, but it was:",i,r);const a=[],c=Ui.empty();af(r,(_,C)=>{const T=lA(e,_,t);C=(0,_e.m9)(C);const R=i.da(T);if(C instanceof aw)a.push(T);else{const V=Pg(C,R);null!=V&&(a.push(T),c.set(T,V))}});const p=new oo(a);return new YV(c,p,i.fieldTransforms)}(a,"updateDoc",n._key,e),S_(i,[c.toMutation(n._key,sr.exists(!0))])}function p2(n,...e){var t,r,i;n=(0,_e.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||$P(e[c])||(a=e[c],c++);const p={includeMetadataChanges:a.includeMetadataChanges};if($P(e[c])){const R=e[c];e[c]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[c+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[c+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let _,C,T;if(n instanceof Kn)C=sn(n.firestore,Yn),T=a_(n._key.path),_={next:R=>{e[c]&&e[c](YP(C,n,R))},error:e[c+1],complete:e[c+2]};else{const R=sn(n,Bi);C=sn(R.firestore,Yn),T=R._query;const V=new wf(C);_={next:z=>{e[c]&&e[c](new Ef(C,V,R,z))},error:e[c+1],complete:e[c+2]},r2(n._query)}return function(R,V,z,ue){const Ne=new tA(ue),Pe=new sP(V,Ne,z);return R.asyncQueue.enqueueAndForget((0,P.Z)(function*(){return eP(yield T_(R),Pe)})),()=>{Ne.Dc(),R.asyncQueue.enqueueAndForget((0,P.Z)(function*(){return nP(yield T_(R),Pe)}))}}(Lr(C),T,p,_)}function S_(n,e){return function(t,r){const i=new oi;return t.asyncQueue.enqueueAndForget((0,P.Z)(function*(){return function UH(n,e,t){return lP.apply(this,arguments)}(yield function VP(n){return rA(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Lr(n),e)}function YP(n,e,t){const r=t.docs.get(e._key),i=new wf(n);return new id(n,i,e._key,r,new kg(t.hasPendingWrites,t.fromCache),e.converter)}function y2(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function _2(){if(!function zj(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fw{constructor(e){this._delegate=e}static fromBase64String(e){return _2(),new fw(kc.fromBase64String(e))}static fromUint8Array(e){return y2(),new fw(kc.fromUint8Array(e))}toBase64(){return _2(),this._delegate.toBase64()}toUint8Array(){return y2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JP(n){return function v4(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class yA extends KP{constructor(e){super(),this.firestore=e}convertBytes(e){return new fw(new kc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class Og{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new hw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Og.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Og(e,new yA(e),t),i.set(t,a)),a}}Og.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yA(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new Kn(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new va(t,new Kn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new x_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new x_(this.firestore,function zV(n,e,...t){if(n=(0,_e.m9)(n),BP("collection","path",e),n instanceof sw){const r=cn.fromString(e,...t);return jV(r),new Pc(n,null,r)}{if(!(n instanceof Kn||n instanceof Pc))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return jV(r),new Pc(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_e.m9)(e))instanceof Kn&&WV(this._delegate,e)}set(e,t){t=function QP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?h2(this._delegate,e,t):h2(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?f2(this._delegate,e):f2(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function JG(n){return S_(sn(n.firestore,Yn),[new d_(n._key,sr.none())])}(this._delegate)}onSnapshot(...e){const t=w2(e),r=C2(e,i=>new pw(this.firestore,new id(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return p2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function qG(n){n=sn(n,Kn);const e=sn(n.firestore,Yn),t=Lr(e),r=new wf(e);return function uG(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,P.Z)(function*(){return(r=(0,P.Z)(function*(i,a,c){try{const p=yield function(_,C){const T=nt(_);return T.persistence.runTransaction("read document","readonly",R=>T.localDocuments.getDocument(R,C))}(i,a);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Re(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=E_(p,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield iA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new id(e,r,n._key,i,new kg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ZG(n){n=sn(n,Kn);const e=sn(n.firestore,Yn);return OV(Lr(e),n._key,{source:"server"}).then(t=>YP(e,n,t))}(this._delegate):function WG(n){n=sn(n,Kn);const e=sn(n.firestore,Yn);return OV(Lr(e),n._key).then(t=>YP(e,n,t))}(this._delegate),t.then(r=>new pw(this.firestore,new id(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function w2(n){for(const e of n)if("object"==typeof e&&!JP(e))return e;return{}}function C2(n,e){var t,r;let i;return i=JP(n[0])?n[0]:JP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return d2(this._delegate,e._delegate)}}class gw extends pw{data(e){const t=this._delegate.data(e);return function hj(n,e){n||lt()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yA(e)}where(e,t,r){try{return new Ns(this.firestore,If(this._delegate,function OG(n,e,t){const r=e,i=hA("where",n);return dw._create(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,If(this._delegate,function LG(n,e="asc"){const t=e,r=hA("orderBy",n);return ZP._create(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,If(this._delegate,function FG(n){return $V("limit",n),fA._create("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,If(this._delegate,function VG(n){return $V("limitToLast",n),fA._create("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,If(this._delegate,function UG(...n){return pA._create("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,If(this._delegate,function BG(...n){return pA._create("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,If(this._delegate,function jG(...n){return gA._create("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,If(this._delegate,function $G(...n){return gA._create("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return jP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function YG(n){n=sn(n,Bi);const e=sn(n.firestore,Yn),t=Lr(e),r=new wf(e);return function cG(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,P.Z)(function*(){return(r=(0,P.Z)(function*(i,a,c){try{const p=yield ZT(i,a,!0),_=new CV(a,p.ir),C=_.sc(p.documents),T=_.applyChanges(C,!1);c.resolve(T.snapshot)}catch(p){const _=E_(p,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield iA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ef(e,r,n,i))}(this._delegate):"server"===e?.source?function QG(n){n=sn(n,Bi);const e=sn(n.firestore,Yn),t=Lr(e),r=new wf(e);return LV(t,n._query,{source:"server"}).then(i=>new Ef(e,r,n,i))}(this._delegate):function KG(n){n=sn(n,Bi);const e=sn(n.firestore,Yn),t=Lr(e),r=new wf(e);return r2(n._query),LV(t,n._query).then(i=>new Ef(e,r,n,i))}(this._delegate),t.then(r=>new XP(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=w2(e),r=C2(e,i=>new XP(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return p2(this._delegate,t,r)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}class w4{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new w4(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new gw(this._firestore,r))})}isEqual(e){return d2(this._delegate,e._delegate)}}class x_ extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?oA(this._delegate):oA(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function XG(n,e){const t=sn(n.firestore,Yn),r=oA(n),i=mA(n.converter,e);return S_(t,[cA(Ng(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return WV(this._delegate,e._delegate)}withConverter(e){return new x_(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}function b2(n,e){return function T4(n,e=eB.z){return new $r.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function tk(n,e){return b2(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function _A(n,e){return tk(n,e).pipe(vr(void 0),ZR(),(0,Tt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(T=>T.doc.ref.isEqual(c.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),a}))}function D2(n,e,t){return _A(n,t).pipe(ph((r,i)=>function S4(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function x4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function tB(n,e=ee.y){return n=n??nB,(0,Gr.e)((t,r)=>{let i,a=!0;t.subscribe((0,tr.x)(r,c=>{const p=e(c);(a||!n(i,p))&&(a=!1,i=p,r.next(c))}))})}(),(0,Tt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function nk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function T2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class A2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=_A(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(vr(void 0),ZR(),Xi(([r,i])=>i.length>0||!r),(0,Tt.U)(([r,i])=>i),wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ph((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=T2(e);return D2(this.query,t,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return tk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wi.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(wi.iC)}add(e){return this.ref.add(e)}doc(e){return new S2(this.ref.doc(e),this.afs)}}class S2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=M2(r,t);return new A2(i,a,this.afs)}snapshotChanges(){return function A4(n,e){return b2(n,e).pipe(vr(void 0),ZR(),(0,Tt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(wi.iC)}}class R4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_A(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Xi(t=>t.length>0),wi.iC):_A(this.query,this.afs.schedulers.outsideAngular).pipe(wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ph((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=T2(e);return D2(this.query,t,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return tk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),wi.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(wi.iC)}}const x2=new g.OlP("angularfire2.enableFirestorePersistence"),R2=new g.OlP("angularfire2.firestore.persistenceSettings"),M4=new g.OlP("angularfire2.firestore.settings"),N4=new g.OlP("angularfire2.firestore.use-emulator");function M2(n,e=(t=>t)){return{query:e(n),ref:n}}let P4=(()=>{class n{constructor(t,r,i,a,c,p,_,C,T,R,V,z,ue,Ne,Pe,tt,_t){this.schedulers=_;const vt=(0,Eu.on)(t,p,r),kt=T;R&&PO(vt,p,V,ue,Ne,Pe,z,tt),[this.firestore,this.persistenceEnabled$]=(0,Eu.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const Gt=p.runOutsideAngular(()=>vt.firestore());if(a&&Gt.settings(a),kt&&Gt.useEmulator(...kt),i&&!Ru(c)){const Qt=()=>{try{return(0,gn.D)(Gt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(ui){return typeof console<"u"&&console.warn(ui),f(!1)}};return[Gt,p.runOutsideAngular(Qt)]}return[Gt,f(!1)]},[a,kt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=M2(i,r),p=this.schedulers.ngZone.run(()=>a);return new A2(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new R4(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new S2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Eu.Dh),g.LFG(Eu.xv,8),g.LFG(x2,8),g.LFG(M4,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(wi.HU),g.LFG(R2,8),g.LFG(N4,8),g.LFG(qR,8),g.LFG(AO,8),g.LFG(SO,8),g.LFG(xO,8),g.LFG(RO,8),g.LFG(MO,8),g.LFG(NO,8),g.LFG(zR,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),k4=(()=>{class n{constructor(){TO.Z.registerVersion("angularfire",wi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:x2,useValue:!0},{provide:R2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[P4]}),n})();const N2_firebase={apiKey:"AIzaSyBr2mInO0qitTv4uP_r8QQIw7MFbz5LCo8",authDomain:"the-clean-cc8b0.firebaseapp.com",projectId:"the-clean-cc8b0",storageBucket:"the-clean-cc8b0.appspot.com",messagingSenderId:"450154779519",appId:"1:450154779519:web:1acd1f9c3f43e68cc5804a",measurementId:"G-09ZJX5R7M2"};let O4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[Q2]}),n.\u0275inj=g.cJS({providers:[z0,Zl],imports:[Pp,kd,K2,ip,Tl,X2,ql,tU,Eu.hO.initializeApp(N2_firebase),XU,k4]}),n})();(0,g.G48)(),_o().bootstrapModule(O4).catch(n=>console.error(n))},9751:(yt,Ae,L)=>{L.d(Ae,{y:()=>ve});var g=L(2961),te=L(727),k=L(8822),ie=L(9635),ae=L(2416),fe=L(576),de=L(2806);let ve=(()=>{class Y{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const De=new Y;return De.source=this,De.operator=Se,De}subscribe(Se,De,it){const Ce=function G(Y){return Y&&Y instanceof g.Lv||function j(Y){return Y&&(0,fe.m)(Y.next)&&(0,fe.m)(Y.error)&&(0,fe.m)(Y.complete)}(Y)&&(0,te.Nn)(Y)}(Se)?Se:new g.Hp(Se,De,it);return(0,de.x)(()=>{const{operator:pe,source:dt}=this;Ce.add(pe?pe.call(Ce,dt):dt?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Se){try{return this._subscribe(Se)}catch(De){Se.error(De)}}forEach(Se,De){return new(De=ye(De))((it,Ce)=>{const pe=new g.Hp({next:dt=>{try{Se(dt)}catch(mt){Ce(mt),pe.unsubscribe()}},error:Ce,complete:it});this.subscribe(pe)})}_subscribe(Se){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Se)}[k.L](){return this}pipe(...Se){return(0,ie.U)(Se)(this)}toPromise(Se){return new(Se=ye(Se))((De,it)=>{let Ce;this.subscribe(pe=>Ce=pe,pe=>it(pe),()=>De(Ce))})}}return Y.create=ze=>new Y(ze),Y})();function ye(Y){var ze;return null!==(ze=Y??ae.v.Promise)&&void 0!==ze?ze:Promise}},7579:(yt,Ae,L)=>{L.d(Ae,{x:()=>de});var g=L(9751),te=L(727);const ie=(0,L(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=L(8737),fe=L(2806);let de=(()=>{class ye extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Y=new ve(this,this);return Y.operator=G,Y}_throwIfClosed(){if(this.closed)throw new ie}next(G){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(G)}})}error(G){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Y}=this;for(;Y.length;)Y.shift().error(G)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Y,isStopped:ze,observers:Se}=this;return Y||ze?te.Lc:(this.currentObservers=null,Se.push(G),new te.w0(()=>{this.currentObservers=null,(0,ae.P)(Se,G)}))}_checkFinalizedStatuses(G){const{hasError:Y,thrownError:ze,isStopped:Se}=this;Y?G.error(ze):Se&&G.complete()}asObservable(){const G=new g.y;return G.source=this,G}}return ye.create=(j,G)=>new ve(j,G),ye})();class ve extends de{constructor(j,G){super(),this.destination=j,this.source=G}next(j){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Y||Y.call(G,j)}error(j){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Y||Y.call(G,j)}complete(){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===G||G.call(j)}_subscribe(j){var G,Y;return null!==(Y=null===(G=this.source)||void 0===G?void 0:G.subscribe(j))&&void 0!==Y?Y:te.Lc}}},2961:(yt,Ae,L)=>{L.d(Ae,{Hp:()=>it,Lv:()=>Y});var g=L(576),te=L(727),k=L(2416),ie=L(7849);function ae(){}const fe=ye("C",void 0,void 0);function ye(Ue,be,Ie){return{kind:Ue,value:be,error:Ie}}var j=L(3410),G=L(2806);class Y extends te.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,te.Nn)(be)&&be.add(this)):this.destination=mt}static create(be,Ie,Ge){return new it(be,Ie,Ge)}next(be){this.isStopped?dt(function ve(Ue){return ye("N",Ue,void 0)}(be),this):this._next(be)}error(be){this.isStopped?dt(function de(Ue){return ye("E",void 0,Ue)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?dt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Se(Ue,be){return ze.call(Ue,be)}class De{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(be)}catch(Ge){Ce(Ge)}}error(be){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(be)}catch(Ge){Ce(Ge)}else Ce(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Ie){Ce(Ie)}}}class it extends Y{constructor(be,Ie,Ge){let je;if(super(),(0,g.m)(be)||!be)je={next:be??void 0,error:Ie??void 0,complete:Ge??void 0};else{let ge;this&&k.v.useDeprecatedNextContext?(ge=Object.create(be),ge.unsubscribe=()=>this.unsubscribe(),je={next:be.next&&Se(be.next,ge),error:be.error&&Se(be.error,ge),complete:be.complete&&Se(be.complete,ge)}):je=be}this.destination=new De(je)}}function Ce(Ue){k.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ue):(0,ie.h)(Ue)}function dt(Ue,be){const{onStoppedNotification:Ie}=k.v;Ie&&j.z.setTimeout(()=>Ie(Ue,be))}const mt={closed:!0,next:ae,error:function pe(Ue){throw Ue},complete:ae}},727:(yt,Ae,L)=>{L.d(Ae,{Lc:()=>fe,w0:()=>ae,Nn:()=>de});var g=L(576);const k=(0,L(3888).d)(ye=>function(G){ye(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Y,ze)=>`${ze+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ie=L(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Se of G)Se.remove(this);else G.remove(this);const{initialTeardown:Y}=this;if((0,g.m)(Y))try{Y()}catch(Se){j=Se instanceof k?Se.errors:[Se]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Se of ze)try{ve(Se)}catch(De){j=j??[],De instanceof k?j=[...j,...De.errors]:j.push(De)}}if(j)throw new k(j)}}add(j){var G;if(j&&j!==this)if(this.closed)ve(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(j)}}_hasParent(j){const{_parentage:G}=this;return G===j||Array.isArray(G)&&G.includes(j)}_addParent(j){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(j),G):G?[G,j]:j}_removeParent(j){const{_parentage:G}=this;G===j?this._parentage=null:Array.isArray(G)&&(0,ie.P)(G,j)}remove(j){const{_finalizers:G}=this;G&&(0,ie.P)(G,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const ye=new ae;return ye.closed=!0,ye})();const fe=ae.EMPTY;function de(ye){return ye instanceof ae||ye&&"closed"in ye&&(0,g.m)(ye.remove)&&(0,g.m)(ye.add)&&(0,g.m)(ye.unsubscribe)}function ve(ye){(0,g.m)(ye)?ye():ye.unsubscribe()}},2416:(yt,Ae,L)=>{L.d(Ae,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Ae,L)=>{L.d(Ae,{E:()=>te});const te=new(L(9751).y)(ae=>ae.complete())},8996:(yt,Ae,L)=>{L.d(Ae,{D:()=>be});var g=L(8421),te=L(5363),k=L(9468),fe=L(9751),ve=L(2202),ye=L(576),j=L(9672);function Y(Ie,Ge){if(!Ie)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,j.f)(je,Ge,()=>{const ge=Ie[Symbol.asyncIterator]();(0,j.f)(je,Ge,()=>{ge.next().then(W=>{W.done?je.complete():je.next(W.value)})},0,!0)})})}var ze=L(3670),Se=L(8239),De=L(1144),it=L(6495),Ce=L(2206),pe=L(4532),dt=L(3260);function be(Ie,Ge){return Ge?function Ue(Ie,Ge){if(null!=Ie){if((0,ze.c)(Ie))return function ie(Ie,Ge){return(0,g.Xf)(Ie).pipe((0,k.R)(Ge),(0,te.Q)(Ge))}(Ie,Ge);if((0,De.z)(Ie))return function de(Ie,Ge){return new fe.y(je=>{let ge=0;return Ge.schedule(function(){ge===Ie.length?je.complete():(je.next(Ie[ge++]),je.closed||this.schedule())})})}(Ie,Ge);if((0,Se.t)(Ie))return function ae(Ie,Ge){return(0,g.Xf)(Ie).pipe((0,k.R)(Ge),(0,te.Q)(Ge))}(Ie,Ge);if((0,Ce.D)(Ie))return Y(Ie,Ge);if((0,it.T)(Ie))return function G(Ie,Ge){return new fe.y(je=>{let ge;return(0,j.f)(je,Ge,()=>{ge=Ie[ve.h](),(0,j.f)(je,Ge,()=>{let W,K;try{({value:W,done:K}=ge.next())}catch(J){return void je.error(J)}K?je.complete():je.next(W)},0,!0)}),()=>(0,ye.m)(ge?.return)&&ge.return()})}(Ie,Ge);if((0,dt.L)(Ie))return function mt(Ie,Ge){return Y((0,dt.Q)(Ie),Ge)}(Ie,Ge)}throw(0,pe.z)(Ie)}(Ie,Ge):(0,g.Xf)(Ie)}},8421:(yt,Ae,L)=>{L.d(Ae,{Xf:()=>ze});var g=L(655),te=L(1144),k=L(8239),ie=L(9751),ae=L(3670),fe=L(2206),de=L(4532),ve=L(6495),ye=L(3260),j=L(576),G=L(7849),Y=L(8822);function ze(Ue){if(Ue instanceof ie.y)return Ue;if(null!=Ue){if((0,ae.c)(Ue))return function Se(Ue){return new ie.y(be=>{const Ie=Ue[Y.L]();if((0,j.m)(Ie.subscribe))return Ie.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,te.z)(Ue))return function De(Ue){return new ie.y(be=>{for(let Ie=0;Ie<Ue.length&&!be.closed;Ie++)be.next(Ue[Ie]);be.complete()})}(Ue);if((0,k.t)(Ue))return function it(Ue){return new ie.y(be=>{Ue.then(Ie=>{be.closed||(be.next(Ie),be.complete())},Ie=>be.error(Ie)).then(null,G.h)})}(Ue);if((0,fe.D)(Ue))return pe(Ue);if((0,ve.T)(Ue))return function Ce(Ue){return new ie.y(be=>{for(const Ie of Ue)if(be.next(Ie),be.closed)return;be.complete()})}(Ue);if((0,ye.L)(Ue))return function dt(Ue){return pe((0,ye.Q)(Ue))}(Ue)}throw(0,de.z)(Ue)}function pe(Ue){return new ie.y(be=>{(function mt(Ue,be){var Ie,Ge,je,ge;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,g.KL)(Ue);!(Ge=yield Ie.next()).done;)if(be.next(Ge.value),be.closed)return}catch(W){je={error:W}}finally{try{Ge&&!Ge.done&&(ge=Ie.return)&&(yield ge.call(Ie))}finally{if(je)throw je.error}}be.complete()})})(Ue,be).catch(Ie=>be.error(Ie))})}},6451:(yt,Ae,L)=>{L.d(Ae,{T:()=>fe});var g=L(8189),te=L(8421),k=L(515),ie=L(7669),ae=L(8996);function fe(...de){const ve=(0,ie.yG)(de),ye=(0,ie._6)(de,1/0),j=de;return j.length?1===j.length?(0,te.Xf)(j[0]):(0,g.J)(ye)((0,ae.D)(j,ve)):k.E}},5403:(yt,Ae,L)=>{L.d(Ae,{x:()=>te});var g=L(2961);function te(ie,ae,fe,de,ve){return new k(ie,ae,fe,de,ve)}class k extends g.Lv{constructor(ae,fe,de,ve,ye,j){super(ae),this.onFinalize=ye,this.shouldUnsubscribe=j,this._next=fe?function(G){try{fe(G)}catch(Y){ae.error(Y)}}:super._next,this._error=ve?function(G){try{ve(G)}catch(Y){ae.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(G){ae.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(yt,Ae,L)=>{L.d(Ae,{U:()=>k});var g=L(4482),te=L(5403);function k(ie,ae){return(0,g.e)((fe,de)=>{let ve=0;fe.subscribe((0,te.x)(de,ye=>{de.next(ie.call(ae,ye,ve++))}))})}},8189:(yt,Ae,L)=>{L.d(Ae,{J:()=>k});var g=L(5577),te=L(4671);function k(ie=1/0){return(0,g.z)(te.y,ie)}},5577:(yt,Ae,L)=>{L.d(Ae,{z:()=>ve});var g=L(4004),te=L(8421),k=L(4482),ie=L(9672),ae=L(5403),de=L(576);function ve(ye,j,G=1/0){return(0,de.m)(j)?ve((Y,ze)=>(0,g.U)((Se,De)=>j(Y,Se,ze,De))((0,te.Xf)(ye(Y,ze))),G):("number"==typeof j&&(G=j),(0,k.e)((Y,ze)=>function fe(ye,j,G,Y,ze,Se,De,it){const Ce=[];let pe=0,dt=0,mt=!1;const Ue=()=>{mt&&!Ce.length&&!pe&&j.complete()},be=Ge=>pe<Y?Ie(Ge):Ce.push(Ge),Ie=Ge=>{Se&&j.next(Ge),pe++;let je=!1;(0,te.Xf)(G(Ge,dt++)).subscribe((0,ae.x)(j,ge=>{ze?.(ge),Se?be(ge):j.next(ge)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;Ce.length&&pe<Y;){const ge=Ce.shift();De?(0,ie.f)(j,De,()=>Ie(ge)):Ie(ge)}Ue()}catch(ge){j.error(ge)}}))};return ye.subscribe((0,ae.x)(j,be,()=>{mt=!0,Ue()})),()=>{it?.()}}(Y,ze,ye,G)))}},5363:(yt,Ae,L)=>{L.d(Ae,{Q:()=>ie});var g=L(9672),te=L(4482),k=L(5403);function ie(ae,fe=0){return(0,te.e)((de,ve)=>{de.subscribe((0,k.x)(ve,ye=>(0,g.f)(ve,ae,()=>ve.next(ye),fe),()=>(0,g.f)(ve,ae,()=>ve.complete(),fe),ye=>(0,g.f)(ve,ae,()=>ve.error(ye),fe)))})}},3099:(yt,Ae,L)=>{L.d(Ae,{B:()=>ae});var g=L(8421),te=L(7579),k=L(2961),ie=L(4482);function ae(de={}){const{connector:ve=(()=>new te.x),resetOnError:ye=!0,resetOnComplete:j=!0,resetOnRefCountZero:G=!0}=de;return Y=>{let ze,Se,De,it=0,Ce=!1,pe=!1;const dt=()=>{Se?.unsubscribe(),Se=void 0},mt=()=>{dt(),ze=De=void 0,Ce=pe=!1},Ue=()=>{const be=ze;mt(),be?.unsubscribe()};return(0,ie.e)((be,Ie)=>{it++,!pe&&!Ce&&dt();const Ge=De=De??ve();Ie.add(()=>{it--,0===it&&!pe&&!Ce&&(Se=fe(Ue,G))}),Ge.subscribe(Ie),!ze&&it>0&&(ze=new k.Hp({next:je=>Ge.next(je),error:je=>{pe=!0,dt(),Se=fe(mt,ye,je),Ge.error(je)},complete:()=>{Ce=!0,dt(),Se=fe(mt,j),Ge.complete()}}),(0,g.Xf)(be).subscribe(ze))})(Y)}}function fe(de,ve,...ye){if(!0===ve)return void de();if(!1===ve)return;const j=new k.Hp({next:()=>{j.unsubscribe(),de()}});return ve(...ye).subscribe(j)}},9468:(yt,Ae,L)=>{L.d(Ae,{R:()=>te});var g=L(4482);function te(k,ie=0){return(0,g.e)((ae,fe)=>{fe.add(k.schedule(()=>ae.subscribe(fe),ie))})}},8505:(yt,Ae,L)=>{L.d(Ae,{b:()=>ae});var g=L(576),te=L(4482),k=L(5403),ie=L(4671);function ae(fe,de,ve){const ye=(0,g.m)(fe)||de||ve?{next:fe,error:de,complete:ve}:fe;return ye?(0,te.e)((j,G)=>{var Y;null===(Y=ye.subscribe)||void 0===Y||Y.call(ye);let ze=!0;j.subscribe((0,k.x)(G,Se=>{var De;null===(De=ye.next)||void 0===De||De.call(ye,Se),G.next(Se)},()=>{var Se;ze=!1,null===(Se=ye.complete)||void 0===Se||Se.call(ye),G.complete()},Se=>{var De;ze=!1,null===(De=ye.error)||void 0===De||De.call(ye,Se),G.error(Se)},()=>{var Se,De;ze&&(null===(Se=ye.unsubscribe)||void 0===Se||Se.call(ye)),null===(De=ye.finalize)||void 0===De||De.call(ye)}))}):ie.y}},4408:(yt,Ae,L)=>{L.d(Ae,{o:()=>ae});var g=L(727);class te extends g.w0{constructor(de,ve){super()}schedule(de,ve=0){return this}}const k={setInterval(fe,de,...ve){const{delegate:ye}=k;return ye?.setInterval?ye.setInterval(fe,de,...ve):setInterval(fe,de,...ve)},clearInterval(fe){const{delegate:de}=k;return(de?.clearInterval||clearInterval)(fe)},delegate:void 0};var ie=L(8737);class ae extends te{constructor(de,ve){super(de,ve),this.scheduler=de,this.work=ve,this.pending=!1}schedule(de,ve=0){if(this.closed)return this;this.state=de;const ye=this.id,j=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(j,ye,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(j,this.id,ve),this}requestAsyncId(de,ve,ye=0){return k.setInterval(de.flush.bind(de,this),ye)}recycleAsyncId(de,ve,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return ve;k.clearInterval(ve)}execute(de,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(de,ve);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ve){let j,ye=!1;try{this.work(de)}catch(G){ye=!0,j=G||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:de,scheduler:ve}=this,{actions:ye}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ye,this),null!=de&&(this.id=this.recycleAsyncId(ve,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Ae,L)=>{L.d(Ae,{v:()=>k});var g=L(6063);class te{constructor(ae,fe=te.now){this.schedulerActionCtor=ae,this.now=fe}schedule(ae,fe=0,de){return new this.schedulerActionCtor(this,ae).schedule(de,fe)}}te.now=g.l.now;class k extends te{constructor(ae,fe=te.now){super(ae,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:fe}=this;if(this._active)return void fe.push(ae);let de;this._active=!0;do{if(de=ae.execute(ae.state,ae.delay))break}while(ae=fe.shift());if(this._active=!1,de){for(;ae=fe.shift();)ae.unsubscribe();throw de}}}},4986:(yt,Ae,L)=>{L.d(Ae,{z:()=>k});var g=L(4408);const k=new(L(7565).v)(g.o)},6063:(yt,Ae,L)=>{L.d(Ae,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(yt,Ae,L)=>{L.d(Ae,{z:()=>g});const g={setTimeout(te,k,...ie){const{delegate:ae}=g;return ae?.setTimeout?ae.setTimeout(te,k,...ie):setTimeout(te,k,...ie)},clearTimeout(te){const{delegate:k}=g;return(k?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(yt,Ae,L)=>{L.d(Ae,{h:()=>te});const te=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Ae,L)=>{L.d(Ae,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,Ae,L)=>{L.d(Ae,{_6:()=>fe,jO:()=>ie,yG:()=>ae});var g=L(576);function k(de){return de[de.length-1]}function ie(de){return(0,g.m)(k(de))?de.pop():void 0}function ae(de){return function te(de){return de&&(0,g.m)(de.schedule)}(k(de))?de.pop():void 0}function fe(de,ve){return"number"==typeof k(de)?de.pop():ve}},8737:(yt,Ae,L)=>{function g(te,k){if(te){const ie=te.indexOf(k);0<=ie&&te.splice(ie,1)}}L.d(Ae,{P:()=>g})},3888:(yt,Ae,L)=>{function g(te){const ie=te(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}L.d(Ae,{d:()=>g})},2806:(yt,Ae,L)=>{L.d(Ae,{O:()=>ie,x:()=>k});var g=L(2416);let te=null;function k(ae){if(g.v.useDeprecatedSynchronousErrorHandling){const fe=!te;if(fe&&(te={errorThrown:!1,error:null}),ae(),fe){const{errorThrown:de,error:ve}=te;if(te=null,de)throw ve}}else ae()}function ie(ae){g.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ae)}},9672:(yt,Ae,L)=>{function g(te,k,ie,ae=0,fe=!1){const de=k.schedule(function(){ie(),fe?te.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(te.add(de),!fe)return de}L.d(Ae,{f:()=>g})},4671:(yt,Ae,L)=>{function g(te){return te}L.d(Ae,{y:()=>g})},1144:(yt,Ae,L)=>{L.d(Ae,{z:()=>g});const g=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(yt,Ae,L)=>{L.d(Ae,{D:()=>te});var g=L(576);function te(k){return Symbol.asyncIterator&&(0,g.m)(k?.[Symbol.asyncIterator])}},576:(yt,Ae,L)=>{function g(te){return"function"==typeof te}L.d(Ae,{m:()=>g})},3670:(yt,Ae,L)=>{L.d(Ae,{c:()=>k});var g=L(8822),te=L(576);function k(ie){return(0,te.m)(ie[g.L])}},6495:(yt,Ae,L)=>{L.d(Ae,{T:()=>k});var g=L(2202),te=L(576);function k(ie){return(0,te.m)(ie?.[g.h])}},8239:(yt,Ae,L)=>{L.d(Ae,{t:()=>te});var g=L(576);function te(k){return(0,g.m)(k?.then)}},3260:(yt,Ae,L)=>{L.d(Ae,{L:()=>ie,Q:()=>k});var g=L(655),te=L(576);function k(ae){return(0,g.FC)(this,arguments,function*(){const de=ae.getReader();try{for(;;){const{value:ve,done:ye}=yield(0,g.qq)(de.read());if(ye)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ve)}}finally{de.releaseLock()}})}function ie(ae){return(0,te.m)(ae?.getReader)}},4482:(yt,Ae,L)=>{L.d(Ae,{A:()=>te,e:()=>k});var g=L(576);function te(ie){return(0,g.m)(ie?.lift)}function k(ie){return ae=>{if(te(ae))return ae.lift(function(fe){try{return ie(fe,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,Ae,L)=>{L.d(Ae,{U:()=>k,z:()=>te});var g=L(4671);function te(...ie){return k(ie)}function k(ie){return 0===ie.length?g.y:1===ie.length?ie[0]:function(fe){return ie.reduce((de,ve)=>ve(de),fe)}}},7849:(yt,Ae,L)=>{L.d(Ae,{h:()=>k});var g=L(2416),te=L(3410);function k(ie){te.z.setTimeout(()=>{const{onUnhandledError:ae}=g.v;if(!ae)throw ie;ae(ie)})}},4532:(yt,Ae,L)=>{function g(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ae,{z:()=>g})},655:(yt,Ae,L)=>{function ie(K,J){var ce={};for(var se in K)Object.prototype.hasOwnProperty.call(K,se)&&J.indexOf(se)<0&&(ce[se]=K[se]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(se=Object.getOwnPropertySymbols(K);Fe<se.length;Fe++)J.indexOf(se[Fe])<0&&Object.prototype.propertyIsEnumerable.call(K,se[Fe])&&(ce[se[Fe]]=K[se[Fe]])}return ce}function ve(K,J,ce,se){return new(ce||(ce=Promise))(function(Be,pt){function Lt(Yt){try{Je(se.next(Yt))}catch(Un){pt(Un)}}function Ot(Yt){try{Je(se.throw(Yt))}catch(Un){pt(Un)}}function Je(Yt){Yt.done?Be(Yt.value):function Fe(Be){return Be instanceof ce?Be:new ce(function(pt){pt(Be)})}(Yt.value).then(Lt,Ot)}Je((se=se.apply(K,J||[])).next())})}function Ce(K){return this instanceof Ce?(this.v=K,this):new Ce(K)}function pe(K,J,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,se=ce.apply(K,J||[]),Be=[];return Fe={},pt("next"),pt("throw"),pt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function pt(Ct){se[Ct]&&(Fe[Ct]=function(It){return new Promise(function(on,dn){Be.push([Ct,It,on,dn])>1||Lt(Ct,It)})})}function Lt(Ct,It){try{!function Ot(Ct){Ct.value instanceof Ce?Promise.resolve(Ct.value.v).then(Je,Yt):Un(Be[0][2],Ct)}(se[Ct](It))}catch(on){Un(Be[0][3],on)}}function Je(Ct){Lt("next",Ct)}function Yt(Ct){Lt("throw",Ct)}function Un(Ct,It){Ct(It),Be.shift(),Be.length&&Lt(Be[0][0],Be[0][1])}}function mt(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,J=K[Symbol.asyncIterator];return J?J.call(K):(K=function Y(K){var J="function"==typeof Symbol&&Symbol.iterator,ce=J&&K[J],se=0;if(ce)return ce.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&se>=K.length&&(K=void 0),{value:K&&K[se++],done:!K}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ce={},se("next"),se("throw"),se("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function se(Be){ce[Be]=K[Be]&&function(pt){return new Promise(function(Lt,Ot){!function Fe(Be,pt,Lt,Ot){Promise.resolve(Ot).then(function(Je){Be({value:Je,done:Lt})},pt)}(Lt,Ot,(pt=K[Be](pt)).done,pt.value)})}}}L.d(Ae,{FC:()=>pe,KL:()=>mt,_T:()=>ie,mG:()=>ve,qq:()=>Ce})},4650:(yt,Ae,L)=>{L.d(Ae,{$8M:()=>Xo,$Z:()=>YA,AFp:()=>Wb,ALo:()=>qh,AaK:()=>ve,AsE:()=>zp,CHM:()=>$c,CRH:()=>Qh,CZH:()=>Py,CqO:()=>jn,D6c:()=>xD,EJc:()=>Qb,EpF:()=>Wv,F4k:()=>bC,FYo:()=>tp,FiY:()=>Ks,G48:()=>B0,GfV:()=>Dl,Gpc:()=>G,JOm:()=>su,KtG:()=>Hc,LFG:()=>Nn,LSH:()=>Qg,Lbi:()=>Kx,Lck:()=>mx,MAs:()=>Fm,MMx:()=>gb,NdJ:()=>$n,OlP:()=>mn,PXZ:()=>rR,Q6J:()=>$e,QGY:()=>qv,QP$:()=>Nt,Qsj:()=>H_,R0b:()=>so,RDi:()=>Gg,Rgc:()=>rg,SBq:()=>Ji,Sil:()=>M0,Suo:()=>Ty,TTD:()=>li,TgZ:()=>mc,Udp:()=>MC,X6Q:()=>_D,XFs:()=>st,Xpm:()=>H,Xts:()=>Kf,Y36:()=>_p,YKP:()=>fb,YNc:()=>Gv,Yjl:()=>Q,Yz7:()=>It,Z0I:()=>Fr,ZZ4:()=>q0,_Bn:()=>gx,_UZ:()=>Vm,_Vd:()=>bl,_c5:()=>yR,_uU:()=>oI,aQg:()=>Z0,c2e:()=>Yx,cJS:()=>dn,cg1:()=>Fl,dDg:()=>tR,dqk:()=>an,eFA:()=>ug,ekj:()=>yc,eoX:()=>sD,f3M:()=>bo,g9A:()=>qb,h0i:()=>Jp,hGG:()=>_R,hij:()=>Ym,iGM:()=>Dy,ifc:()=>ht,ip1:()=>zb,jDz:()=>Ic,kL8:()=>oy,lG2:()=>U,lcZ:()=>Ey,lqb:()=>xo,lri:()=>iD,n5z:()=>tn,oAB:()=>gt,oxw:()=>Zv,q4F:()=>rp,qLn:()=>et,qOj:()=>Pp,qZA:()=>Rh,rWj:()=>Ly,sBO:()=>j0,sIi:()=>vi,s_b:()=>wy,soG:()=>ky,tb:()=>Zb,tp0:()=>Do,uIk:()=>fa,vHH:()=>De,vpe:()=>yu,wAp:()=>Mt,xp6:()=>Uw,z2F:()=>Vy,zSh:()=>El,zs3:()=>ki});var g=L(7579),te=L(727),k=L(9751),ie=L(6451),ae=L(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=fe({__forward_ref__:fe});function G(s){return s.__forward_ref__=G,s.toString=function(){return ve(this())},s}function Y(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===G}class De extends Error{constructor(o,u){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,o){throw new De(-201,!1)}function Ot(s,o){null==s&&function Je(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function It(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function or(s){return Vr(s,Ur)||Vr(s,co)}function Fr(s){return null!==or(s)}function Vr(s,o){return s.hasOwnProperty(o)?s[o]:null}function ci(s){return s&&(s.hasOwnProperty(qr)||s.hasOwnProperty(Ps))?s[qr]:null}const Ur=fe({\u0275prov:fe}),qr=fe({\u0275inj:fe}),co=fe({ngInjectableDef:fe}),Ps=fe({ngInjectorDef:fe});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Sn;function dr(s){const o=Sn;return Sn=s,o}function ks(s,o,u){const l=or(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&st.Optional?null:void 0!==o?o:void be(ve(s))}function un(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),ht=(()=>{return(s=ht||(ht={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ht;var s})();const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kn={},Et=[],$i=fe({\u0275cmp:fe}),Jt=fe({\u0275dir:fe}),Os=fe({\u0275pipe:fe}),Xt=fe({\u0275mod:fe}),xn=fe({\u0275fac:fe}),Qn=fe({__NG_ELEMENT_ID__:fe});let Ee=0;function H(s){return un(()=>{const u=!0===s.standalone,l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Et,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ht.Emulated,id:"c"+Ee++,styles:s.styles||Et,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return d.inputs=B(s.inputs,l),d.outputs=B(s.outputs),v&&v.forEach(w=>w(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(qe).filter(Ze):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ke).filter(Ze):null,d})}function qe(s){return le(s)||re(s)}function Ze(s){return null!==s}function gt(s){return un(()=>({type:s.type,bootstrap:s.bootstrap||Et,declarations:s.declarations||Et,imports:s.imports||Et,exports:s.exports||Et,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function B(s,o){if(null==s)return kn;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),u[d]=l,o&&(o[d]=m)}return u}const U=H;function Q(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function le(s){return s[$i]||null}function re(s){return s[Jt]||null}function Ke(s){return s[Os]||null}function Nt(s){const o=le(s)||re(s)||Ke(s);return null!==o&&o.standalone}function Ft(s,o){const u=s[Xt]||null;if(!u&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return u}function Xn(s){return Array.isArray(s)&&"object"==typeof s[1]}function jr(s){return Array.isArray(s)&&!0===s[1]}function fo(s){return 0!=(8&s.flags)}function wa(s){return 2==(2&s.flags)}function zi(s){return 1==(1&s.flags)}function Si(s){return null!==s.template}function $o(s){return 0!=(256&s[2])}function hs(s,o){return s.hasOwnProperty(xn)?s[xn]:null}class Sf{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function li(){return md}function md(s){return s.type.prototype.ngOnChanges&&(s.setInput=Bc),ba}function ba(){const s=xf(this),o=s?.current;if(o){const u=s.previous;if(u===kn)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Bc(s,o,u,l){const d=xf(s)||function Da(s,o){return s[Su]=o}(s,{previous:kn,current:null}),m=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[u],b=v[w];m[w]=new Sf(b&&b.currentValue,o,v===kn),s[l]=o}li.ngInherit=!0;const Su="__ngSimpleChanges__";function xf(s){return s[Su]||null}function On(s){for(;Array.isArray(s);)s=s[0];return s}function di(s,o){return On(o[s])}function Yr(s,o){return On(o[s.index])}function Ta(s,o){return s.data[o]}function Ho(s,o){return s[o]}function Zt(s,o){const u=o[s];return Xn(u)?u:u[0]}function Mf(s){return 4==(4&s[2])}function ps(s){return 64==(64&s[2])}function Qr(s,o){return null==o?null:s[o]}function Aa(s){s[18]=0}function hr(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const Pt={lFrame:Wc(null),bindingsEnabled:!0};function Sa(){return Pt.bindingsEnabled}function xe(){return Pt.lFrame.lView}function jt(){return Pt.lFrame.tView}function $c(s){return Pt.lFrame.contextLView=s,s[8]}function Hc(s){return Pt.lFrame.contextLView=null,s}function Rn(){let s=Pu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Pu(){return Pt.lFrame.currentTNode}function Jr(s,o){const u=Pt.lFrame;u.currentTNode=s,u.isParent=o}function Ra(){return Pt.lFrame.isParent}function gs(){return Pt.lFrame.bindingIndex++}function hi(s){const o=Pt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Bg(s,o){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Cd(o)}function Cd(s){Pt.lFrame.currentDirectiveIndex=s}function kf(){return Pt.lFrame.currentQueryIndex}function Mi(s){Pt.lFrame.currentQueryIndex=s}function Lu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Na(s,o,u){if(u&st.SkipSelf){let d=o,m=s;for(;!(d=d.parent,null!==d||u&st.Host||(d=Lu(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;o=d,s=m}const l=Pt.lFrame=Pa();return l.currentTNode=o,l.lView=s,!0}function zc(s){const o=Pa(),u=s[1];Pt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Pa(){const s=Pt.lFrame,o=null===s?null:s.child;return null===o?Wc(s):o}function Wc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ka(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const bd=ka;function go(){const s=ka();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Kt(){return Pt.lFrame.selectedIndex}function Wi(s){Pt.lFrame.selectedIndex=s}function In(){const s=Pt.lFrame;return Ta(s.tView,s.selectedIndex)}function ys(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:N}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(u,N)}}function Zo(s,o,u){js(s,o,3,u)}function qi(s,o,u,l){(3&s[2])===u&&js(s,o,u,l)}function Vu(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function js(s,o,u,l){const m=l??-1,v=o.length-1;let w=0;for(let b=void 0!==l?65535&s[18]:0;b<v;b++)if("number"==typeof o[b+1]){if(w=o[b],null!=l&&w>=l)break}else o[b]<0&&(s[18]+=65536),(w<m||-1==m)&&(Uu(s,u,o,b),s[18]=(4294901760&s[18])+b+2),b++}function Uu(s,o,u,l){const d=u[l]<0,m=u[l+1],w=s[d?-u[l]:u[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class mo{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function Yo(s,o,u){let l=0;for(;l<u.length;){const d=u[l];if("number"==typeof d){if(0!==d)break;l++;const m=u[l++],v=u[l++],w=u[l++];s.setAttribute(o,v,w,m)}else{const m=d,v=u[++l];Sd(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),l++}}return l}function Lf(s){return 3===s||4===s||6===s}function Sd(s){return 64===s.charCodeAt(0)}function Qo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||xd(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function xd(s,o,u,l,d){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===u){if(null===l)return void(null!==d&&(s[m+1]=d));if(l===s[m+1])return void(s[m+2]=d)}m++,null!==l&&m++,null!==d&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,u),null!==l&&s.splice(m++,0,l),null!==d&&s.splice(m++,0,d)}function Yc(s){return-1!==s}function La(s){return 32767&s}function yo(s,o){let u=function Rd(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let Md=!0;function $s(s){const o=Md;return Md=s,o}let ju=0;const _s={};function Va(s,o){const u=Gs(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Qc(l.data,s),Qc(o,null),Qc(l.blueprint,null));const d=_o(s,o),m=s.injectorIndex;if(Yc(d)){const v=La(d),w=yo(d,o),b=w[1].data;for(let S=0;S<8;S++)o[m+S]=w[v+S]|b[v+S]}return o[m+8]=d,m}function Qc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Gs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function _o(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){if(l=Gu(d),null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function Jo(s,o,u){!function Pd(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(Qn)&&(l=u[Qn]),null==l&&(l=u[Qn]=ju++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function $u(s,o,u){if(u&st.Optional)return s;be()}function kd(s,o,u,l){if(u&st.Optional&&void 0===l&&(l=null),0==(u&(st.Self|st.Host))){const d=s[9],m=dr(void 0);try{return d?d.get(o,l,u&st.Optional):ks(o,l,u&st.Optional)}finally{dr(m)}}return $u(l,0,u)}function Od(s,o,u,l=st.Default,d){if(null!==s){if(1024&o[2]){const v=function el(s,o,u,l,d){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const w=Hu(m,v,u,l|st.Self,_s);if(w!==_s)return w;let b=m.parent;if(!b){const S=v[21];if(S){const N=S.get(u,_s,l);if(N!==_s)return N}b=Gu(v),v=v[15]}m=b}return d}(s,o,u,l,_s);if(v!==_s)return v}const m=Hu(s,o,u,l,_s);if(m!==_s)return m}return kd(o,u,l,d)}function Hu(s,o,u,l,d){const m=function vo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Qn)?s[Qn]:void 0;return"number"==typeof o?o>=0?255&o:Vf:o}(u);if("function"==typeof m){if(!Na(o,s,l))return l&st.Host?$u(d,0,l):kd(o,u,l,d);try{const v=m(l);if(null!=v||l&st.Optional)return v;be()}finally{bd()}}else if("number"==typeof m){let v=null,w=Gs(s,o),b=-1,S=l&st.Host?o[16][6]:null;for((-1===w||l&st.SkipSelf)&&(b=-1===w?_o(s,o):o[w+8],-1!==b&&Jc(l,!1)?(v=o[1],w=La(b),o=yo(b,o)):w=-1);-1!==w;){const N=o[1];if(Ff(m,w,N.data)){const F=M_(w,o,u,v,l,S);if(F!==_s)return F}b=o[w+8],-1!==b&&Jc(l,o[1].data[w+8]===S)&&Ff(m,w,o)?(v=N,w=La(b),o=yo(b,o)):w=-1}}return d}function M_(s,o,u,l,d,m){const v=o[1],w=v.data[s+8],N=vs(w,v,u,null==l?wa(w)&&Md:l!=v&&0!=(3&w.type),d&st.Host&&m===w);return null!==N?Ba(o,v,N,w):_s}function vs(s,o,u,l,d){const m=s.providerIndexes,v=o.data,w=1048575&m,b=s.directiveStart,N=m>>20,q=d?w+N:s.directiveEnd;for(let ne=l?w:w+N;ne<q;ne++){const Te=v[ne];if(ne<b&&u===Te||ne>=b&&Te.type===u)return ne}if(d){const ne=v[b];if(ne&&Si(ne)&&ne.type===u)return b}return null}function Ba(s,o,u,l){let d=s[u];const m=o.data;if(function Oa(s){return s instanceof mo}(d)){const v=d;v.resolving&&function dt(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${u}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(m[u]));const w=$s(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?dr(v.injectImpl):null;Na(s,l,st.Default);try{d=s[u]=v.factory(void 0,m,s,l),o.firstCreatePass&&u>=l.directiveStart&&function qo(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:m}=o.type.prototype;if(l){const v=md(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],o)}finally{null!==b&&dr(b),$s(w),v.resolving=!1,bd()}}return d}function Ff(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Jc(s,o){return!(s&st.Self||s&st.Host&&o)}class zs{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,l){return Od(this._tNode,this._lView,o,l,u)}}function Vf(){return new zs(Rn(),xe())}function tn(s){return un(()=>{const o=s.prototype.constructor,u=o[xn]||Xc(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const m=d[xn]||Xc(d);if(m&&m!==u)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Xc(s){return ze(s)?()=>{const o=Xc(Y(s));return o&&o()}:hs(s)}function Gu(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Xo(s){return function Ua(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const m=u[d];if(Lf(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(m===o)return u[d+1];d+=2}}}return null}(Rn(),s)}const Mn="__parameters__";function Eo(s,o,u){return un(()=>{const l=function ja(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...m){if(this instanceof d)return l.apply(this,m),this;const v=new d(...m);return w.annotation=v,w;function w(b,S,N){const F=b.hasOwnProperty(Mn)?b[Mn]:Object.defineProperty(b,Mn,{value:[]})[Mn];for(;F.length<=N;)F.push(null);return(F[N]=F[N]||[]).push(v),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class mn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=It({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function er(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),er(l,o)):o!==s&&o.push(l)}return o}function Zi(s,o){s.forEach(u=>Array.isArray(u)?Zi(u,o):o(u))}function Ha(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Wu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Hr(s,o,u){let l=Co(s,o);return l>=0?s[1|l]=u:(l=~l,function Tt(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Ga(s,o){const u=Co(s,o);if(u>=0)return s[1|u]}function Co(s,o){return function Pi(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const m=l+(d-l>>1),v=s[m<<u];if(o===v)return m<<u;v>o?d=m:l=m+1}return~(d<<u)}(s,o,1)}const yn={},pr="__NG_DI_FLAG__",xr="ngTempTokenPath",sl=/\n/gm,na="__source";let qs;function gr(s){const o=qs;return qs=s,o}function Zu(s,o=st.Default){if(void 0===qs)throw new De(-203,!1);return null===qs?ks(s,void 0,o):qs.get(s,o&st.Optional?null:void 0,o)}function Nn(s,o=st.Default){return(function Zr(){return Sn}()||Zu)(Y(s),o)}function bo(s,o=st.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Nn(s,o)}function al(s){const o=[];for(let u=0;u<s.length;u++){const l=Y(s[u]);if(Array.isArray(l)){if(0===l.length)throw new De(900,!1);let d,m=st.Default;for(let v=0;v<l.length;v++){const w=l[v],b=Ku(w);"number"==typeof b?-1===b?d=w.token:m|=b:d=w}o.push(Nn(d,m))}else o.push(Nn(l))}return o}function Zs(s,o){return s[pr]=o,s.prototype[pr]=o,s}function Ku(s){return s[pr]}const Ks=Zs(Eo("Optional"),8),Do=Zs(Eo("SkipSelf"),4);let tc;function Gg(s){tc=s}class hl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function D(s){return s instanceof hl?s.changingThisBreaksApplicationSecurity:s}const Ln=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Qg(s){const o=function ic(){const s=xe();return s&&s[12]}();return o?o.sanitize(Fn.URL,s)||"":function x(s,o){const u=function O(s){return s instanceof hl&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}(s,"URL")?D(s):function gi(s){return(s=String(s)).match(Ln)?s:"unsafe:"+s}(Ce(s))}const Kf=new mn("ENVIRONMENT_INITIALIZER"),Xg=new mn("INJECTOR",-1),yl=new mn("INJECTOR_DEF_TYPES");class em{get(o,u=yn){if(u===yn){const l=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw l.name="NullInjectorError",l}return u}}function tm(...s){return{\u0275providers:nh(0,s)}}function nh(s,...o){const u=[],l=new Set;let d;return Zi(o,m=>{const v=m;vl(v,u,[],l)&&(d||(d=[]),d.push(v))}),void 0!==d&&_l(d,u),u}function _l(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];Zi(d,m=>{o.push(m)})}}function vl(s,o,u,l){if(!(s=Y(s)))return!1;let d=null,m=ci(s);const v=!m&&le(s);if(m||v){if(v&&!v.standalone)return!1;d=s}else{const b=s.ngModule;if(m=ci(b),!m)return!1;d=b}const w=l.has(d);if(v){if(w)return!1;if(l.add(d),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of b)vl(S,o,u,l)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let S;l.add(d);try{Zi(m.imports,N=>{vl(N,o,u,l)&&(S||(S=[]),S.push(N))})}finally{}void 0!==S&&_l(S,o)}if(!w){const S=hs(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:Et},{provide:yl,useValue:d,multi:!0},{provide:Kf,useValue:()=>Nn(d),multi:!0})}const b=m.providers;null==b||w||Zi(b,N=>{o.push(N)})}}return d!==s&&void 0!==s.providers}const Il=fe({provide:String,useValue:fe});function Yf(s){return null!==s&&"object"==typeof s&&Il in s}function Xs(s){return"function"==typeof s}const El=new mn("Set Injector scope."),wl={},U_={};let aa;function ih(){return void 0===aa&&(aa=new em),aa}class xo{}class rm extends xo{constructor(o,u,l,d){super(),this.parent=u,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uh(o,v=>this.processProvider(v)),this.records.set(Xg,ua(void 0,this)),d.has("environment")&&this.records.set(xo,ua(void 0,this));const m=this.records.get(El);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(yl.multi,Et,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=gr(this),l=dr(void 0);try{return o()}finally{gr(u),dr(l)}}get(o,u=yn,l=st.Default){this.assertNotDestroyed();const d=gr(this),m=dr(void 0);try{if(!(l&st.SkipSelf)){let w=this.records.get(o);if(void 0===w){const b=function $_(s){return"function"==typeof s||"object"==typeof s&&s instanceof mn}(o)&&or(o);w=b&&this.injectableDefInScope(b)?ua(Cl(o),wl):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&st.Self?ih():this.parent).get(o,u=l&st.Optional&&u===yn?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[xr]=v[xr]||[]).unshift(ve(o)),d)throw v;return function Yu(s,o,u,l){const d=s[xr];throw o[na]&&d.unshift(o[na]),s.message=function Qu(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=ve(o);if(Array.isArray(o))d=o.map(ve).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):ve(w)))}d=`{${m.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(sl,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[xr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{dr(m),gr(d)}}resolveInjectorInitializers(){const o=gr(this),u=dr(void 0);try{const l=this.get(Kf.multi,Et,st.Self);for(const d of l)d()}finally{gr(o),dr(u)}}toString(){const o=[],u=this.records;for(const l of u.keys())o.push(ve(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let u=Xs(o=Y(o))?o:Y(o&&o.provide);const l=function j_(s){return Yf(s)?ua(void 0,s.useValue):ua(sh(s),wl)}(o);if(Xs(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=ua(void 0,wl,!0),d.factory=()=>al(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,l)}hydrate(o,u){return u.value===wl&&(u.value=U_,u.value=u.factory()),"object"==typeof u.value&&u.value&&function oh(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Y(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Cl(s){const o=or(s),u=null!==o?o.factory:hs(s);if(null!==u)return u;if(s instanceof mn)throw new De(204,!1);if(s instanceof Function)return function B_(s){const o=s.length;if(o>0)throw function Ki(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?"),new De(204,!1);const u=function wn(s){const o=s&&(s[Ur]||s[co]);if(o){const u=function uo(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new De(204,!1)}function sh(s,o,u){let l;if(Xs(s)){const d=Y(s);return hs(d)||Cl(d)}if(Yf(s))l=()=>Y(s.useValue);else if(function nm(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...al(s.deps||[]));else if(function rh(s){return!(!s||!s.useExisting)}(s))l=()=>Nn(Y(s.useExisting));else{const d=Y(s&&(s.useClass||s.provide));if(!function im(s){return!!s.deps}(s))return hs(d)||Cl(d);l=()=>new d(...al(s.deps))}return l}function ua(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function ah(s){return!!s.\u0275providers}function uh(s,o){for(const u of s)Array.isArray(u)?uh(u,o):ah(u)?uh(u.\u0275providers,o):o(u)}class sc{}class Xf{resolveComponentFactory(o){throw function Qf(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let bl=(()=>{class s{}return s.NULL=new Xf,s})();function ch(){return eu(Rn(),xe())}function eu(s,o){return new Ji(Yr(s,o))}let Ji=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=ch,s})();function ep(s){return s instanceof Ji?s.nativeElement:s}class tp{}let H_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function np(){const s=xe(),u=Zt(Rn().index,s);return(Xn(u)?u:s)[11]}(),s})(),mi=(()=>{class s{}return s.\u0275prov=It({token:s,providedIn:"root",factory:()=>null}),s})();class Dl{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const rp=new Dl("14.2.1"),om={};function He(s){return s.ngOriginalError}class et{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&He(o);for(;u&&He(u);)u=He(u);return u||null}}const Ds=new Map;let ap=0;const fh="__ngContext__";function ri(s,o){Xn(o)?(s[fh]=o[20],function Al(s){Ds.set(s[20],s)}(o)):s[fh]=o}function up(s){const o=s[fh];return"number"==typeof o?function hh(s){return Ds.get(s)||null}(o):o||null}function Ro(s){const o=up(s);return o?Xn(o)?o:o.lView:null}function es(s){return s instanceof Function?s():s}var su=(()=>((su=su||{})[su.Important=1]="Important",su[su.DashCase=2]="DashCase",su))();function la(s,o){return undefined(s,o)}function mh(s){const o=s[3];return jr(o)?o[3]:o}function am(s){return J_(s[13])}function Q_(s){return J_(s[4])}function J_(s){for(;null!==s&&!jr(s);)s=s[4];return s}function ou(s,o,u,l,d){if(null!=l){let m,v=!1;jr(l)?m=l:Xn(l)&&(v=!0,l=l[0]);const w=On(l);0===s&&null!==u?null==d?Sw(o,u,w):xl(o,u,w,d||null,!0):1===s&&null!==u?xl(o,u,w,d||null,!0):2===s?function Pw(s,o,u){const l=hm(s,o);l&&function dm(s,o,u,l){s.removeChild(o,u,l)}(s,l,o,u)}(o,w,v):3===s&&o.destroyNode(w),null!=m&&function kw(s,o,u,l,d){const m=u[7];m!==On(u)&&ou(o,s,l,m,d);for(let w=10;w<u.length;w++){const b=u[w];uu(b[1],b,s,o,l,m)}}(o,s,m,u,d)}}function X_(s,o,u){return s.createElement(o,u)}function yh(s,o){const u=s[9],l=u.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,hr(d,-1)),u.splice(l,1)}function cm(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const d=l[17];null!==d&&d!==s&&yh(d,l),o>0&&(s[u-1][4]=l[4]);const m=Wu(s,10+o);!function Sl(s,o){uu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=m[19];null!==v&&v.detachView(m[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function dp(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&uu(s,o,u,3,null,null),function ev(s){let o=s[13];if(!o)return tv(s[1],s);for(;o;){let u=null;if(Xn(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)Xn(o)&&tv(o[1],o),o=o[3];null===o&&(o=s),Xn(o)&&tv(o[1],o),u=o&&o[4]}o=u}}(o)}}function tv(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function lm(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof mo)){const m=u[l+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=d[m[v]],b=m[v+1];try{b.call(w)}finally{}}else try{m.call(d)}finally{}}}}(s,o),function nv(s,o){const u=s.cleanup,l=o[7];let d=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],w="function"==typeof v?v(o):On(o[v]),b=l[d=u[m+2]],S=u[m+3];"boolean"==typeof S?w.removeEventListener(u[m],b,S):S>=0?l[d=S]():l[d=-S].unsubscribe(),m+=2}else{const v=l[d=u[m+1]];u[m].call(v)}if(null!==l){for(let m=d+1;m<l.length;m++)(0,l[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&jr(o[3])){u!==o[3]&&yh(u,o);const l=o[19];null!==l&&l.detachView(s)}!function _r(s){Ds.delete(s[20])}(o)}}function rv(s,o,u){return function iv(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===ht.None||d===ht.Emulated)return null}return Yr(l,u)}(s,o.parent,u)}function xl(s,o,u,l,d){s.insertBefore(o,u,l,d)}function Sw(s,o,u){s.appendChild(o,u)}function xw(s,o,u,l,d){null!==l?xl(s,o,u,l,d):Sw(s,o,u)}function hm(s,o){return s.parentNode(o)}let fm=function Mw(s,o,u){return 40&s.type?Yr(s,u):null};function da(s,o,u,l){const d=rv(s,l,o),m=o[11],w=function Rw(s,o,u){return fm(s,o,u)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)xw(m,d,u[b],w,!1);else xw(m,d,u,w,!1)}function vh(s,o){if(null!==o){const u=o.type;if(3&u)return Yr(o,s);if(4&u)return sv(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return vh(s,l);{const d=s[o.index];return jr(d)?sv(-1,d):On(d)}}if(32&u)return la(o,s)()||On(s[o.index]);{const l=LA(s,o);return null!==l?Array.isArray(l)?l[0]:vh(mh(s[16]),l):vh(s,o.next)}}return null}function LA(s,o){return null!==o?s[16][6].projection[o.projection]:null}function sv(s,o){const u=10+s+1;if(u<o.length){const l=o[u],d=l[1].firstChild;if(null!==d)return vh(l,d)}return o[7]}function ov(s,o,u,l,d,m,v){for(;null!=u;){const w=l[u.index],b=u.type;if(v&&0===o&&(w&&ri(On(w),l),u.flags|=4),64!=(64&u.flags))if(8&b)ov(s,o,u.child,l,d,m,!1),ou(o,s,d,w,m);else if(32&b){const S=la(u,l);let N;for(;N=S();)ou(o,s,d,N,m);ou(o,s,d,w,m)}else 16&b?Rl(s,o,l,u,d,m):ou(o,s,d,w,m);u=v?u.projectionNext:u.next}}function uu(s,o,u,l,d,m){ov(u,l,s.firstChild,o,d,m,!1)}function Rl(s,o,u,l,d,m){const v=u[16],b=v[6].projection[l.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)ou(o,s,d,b[S],m);else ov(s,o,b,v[3],d,m,!0)}function av(s,o,u){s.setAttribute(o,"style",u)}function cc(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function Lw(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const m=o.length;if(d+m===l||s.charCodeAt(d+m)<=32)return d}u=d+1}}const uv="ng-template";function FA(s,o,u){let l=0;for(;l<s.length;){let d=s[l++];if(u&&"class"===d){if(d=s[l],-1!==Lw(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function pm(s){return 4===s.type&&s.value!==uv}function fp(s,o,u){return o===(4!==s.type||u?s.value:uv)}function VA(s,o,u){let l=4;const d=s.attrs||[],m=function cu(s){for(let o=0;o<s.length;o++)if(Lf(s[o]))return o;return s.length}(d);let v=!1;for(let w=0;w<o.length;w++){const b=o[w];if("number"!=typeof b){if(!v)if(4&l){if(l=2|1&l,""!==b&&!fp(s,b,u)||""===b&&1===o.length){if(Ts(l))return!1;v=!0}}else{const S=8&l?b:o[++w];if(8&l&&null!==s.attrs){if(!FA(s.attrs,S,u)){if(Ts(l))return!1;v=!0}continue}const F=UA(8&l?"class":b,d,pm(s),u);if(-1===F){if(Ts(l))return!1;v=!0;continue}if(""!==S){let q;q=F>m?"":d[F+1].toLowerCase();const ne=8&l?q:null;if(ne&&-1!==Lw(ne,S,0)||2&l&&S!==q){if(Ts(l))return!1;v=!0}}}}else{if(!v&&!Ts(l)&&!Ts(b))return!1;if(v&&Ts(b))continue;v=!1,l=b|1&l}}return Ts(l)||v}function Ts(s){return 0==(1&s)}function UA(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let m=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=m?1:2}return-1}return function lv(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function cv(s,o,u=!1){for(let l=0;l<o.length;l++)if(VA(s,o[l],u))return!0;return!1}function pp(s,o){return s?":not("+o.trim()+")":o}function Vw(s){let o=s[0],u=1,l=2,d="",m=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&l){const w=s[++u];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Ts(v)&&(o+=pp(m,d),d=""),l=v,m=m||!Ts(l);u++}return""!==d&&(o+=pp(m,d)),o}const Ut={};function Uw(s){Bw(jt(),xe(),Kt()+s,!1)}function Bw(s,o,u,l){if(!l)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Zo(o,m,u)}else{const m=s.preOrderHooks;null!==m&&qi(o,m,0,u)}Wi(u)}function gm(s,o=null,u=null,l){const d=mm(s,o,u,l);return d.resolveInjectorInitializers(),d}function mm(s,o=null,u=null,l,d=new Set){const m=[u||Et,tm(s)];return l=l||("object"==typeof s?void 0:ve(s)),new rm(m,o||ih(),l||null,d)}let ki=(()=>{class s{static create(u,l){if(Array.isArray(u))return gm({name:""},l,u,"");{const d=u.name??"";return gm({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=yn,s.NULL=new em,s.\u0275prov=It({token:s,providedIn:"any",factory:()=>Nn(Xg)}),s.__NG_ELEMENT_ID__=-1,s})();function _p(s,o=st.Default){const u=xe();return null===u?Nn(s,o):Od(Rn(),u,Y(s),o)}function YA(){throw new Error("invalid")}function wh(s,o){return s<<17|o<<2}function Mo(s){return s>>17&32767}function vp(s){return 2|s}function Ir(s){return(131068&s)>>2}function Em(s,o){return-131069&s|o<<2}function gv(s){return 1|s}function bv(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],m=u[l+1];if(-1!==m){const v=s.data[m];Mi(d),v.contentQueries(2,o[m],m)}}}function Dp(s,o,u,l,d,m,v,w,b,S,N){const F=o.blueprint.slice();return F[0]=d,F[2]=76|l,(null!==N||s&&1024&s[2])&&(F[2]|=1024),Aa(F),F[3]=F[15]=s,F[8]=u,F[10]=v||s&&s[10],F[11]=w||s&&s[11],F[12]=b||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=m,F[20]=function Gr(){return ap++}(),F[21]=N,F[16]=2==o.type?s[16]:F,F}function ha(s,o,u,l,d){let m=s.data[o];if(null===m)m=function Am(s,o,u,l,d){const m=Pu(),v=Ra(),b=s.data[o]=function aS(s,o,u,l,d,m){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=b),null!==m&&(v?null==m.child&&null!==b.parent&&(m.child=b):null===m.next&&(m.next=b)),b}(s,o,u,l,d),function wd(){return Pt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=l,m.attrs=d;const v=function zo(){const s=Pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Jr(m,!0),m}function Dh(s,o,u,l){if(0===u)return-1;const d=o.length;for(let m=0;m<u;m++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Sm(s,o,u){zc(o);try{const l=s.viewQuery;null!==l&&Mm(1,l,u);const d=s.template;null!==d&&oC(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&bv(s,o),s.staticViewQueries&&Mm(2,s.viewQuery,u);const m=s.components;null!==m&&function Tm(s,o){for(let u=0;u<o.length;u++)_S(s,o[u])}(o,m)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,go()}}function Tp(s,o,u,l){const d=o[2];if(128!=(128&d)){zc(o);try{Aa(o),function Xr(s){return Pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&oC(s,o,u,2,l);const v=3==(3&d);if(v){const S=s.preOrderCheckHooks;null!==S&&Zo(o,S,null)}else{const S=s.preOrderHooks;null!==S&&qi(o,S,0,null),Vu(o,0)}if(function mS(s){for(let o=am(s);null!==o;o=Q_(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const d=u[l],m=d[3];0==(512&d[2])&&hr(m,1),d[2]|=512}}}(o),function gS(s){for(let o=am(s);null!==o;o=Q_(o))for(let u=10;u<o.length;u++){const l=o[u],d=l[1];ps(l)&&Tp(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&bv(s,o),v){const S=s.contentCheckHooks;null!==S&&Zo(o,S)}else{const S=s.contentHooks;null!==S&&qi(o,S,1),Vu(o,1)}!function sC(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)Wi(~d);else{const m=d,v=u[++l],w=u[++l];Bg(v,m),w(2,o[m])}}}finally{Wi(-1)}}(s,o);const w=s.components;null!==w&&function Dm(s,o){for(let u=0;u<o.length;u++)yS(s,o[u])}(o,w);const b=s.viewQuery;if(null!==b&&Mm(2,b,l),v){const S=s.viewCheckHooks;null!==S&&Zo(o,S)}else{const S=s.viewHooks;null!==S&&qi(o,S,2),Vu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,hr(o[3],-1))}finally{go()}}}function iS(s,o,u,l){const d=o[10],v=Mf(o);try{!v&&d.begin&&d.begin(),v&&Sm(s,o,l),Tp(s,o,u,l)}finally{!v&&d.end&&d.end()}}function oC(s,o,u,l,d){const m=Kt(),v=2&l;try{Wi(-1),v&&o.length>22&&Bw(s,o,22,!1),u(l,d)}finally{Wi(m)}}function Dv(s,o,u){!Sa()||(function lC(s,o,u,l){const d=u.directiveStart,m=u.directiveEnd;s.firstCreatePass||Va(u,o),ri(l,o);const v=u.initialInputs;for(let w=d;w<m;w++){const b=s.data[w],S=Si(b);S&&xm(o,u,b);const N=Ba(o,s,w,u);ri(N,o),null!==v&&Ov(0,w-d,N,b,0,v),S&&(Zt(u.index,o)[8]=N)}}(s,o,u,Yr(u,o)),128==(128&u.flags)&&function Pv(s,o,u){const l=u.directiveStart,d=u.directiveEnd,m=u.index,v=function Ou(){return Pt.lFrame.currentDirectiveIndex}();try{Wi(m);for(let w=l;w<d;w++){const b=s.data[w],S=o[w];Cd(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&kv(b,S)}}finally{Wi(-1),Cd(v)}}(s,o,u))}function Tv(s,o,u=Yr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let m=0;m<l.length;m+=2){const v=l[m+1],w=-1===v?u(o,s):s[v];s[d++]=w}}}function aC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Av(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Av(s,o,u,l,d,m,v,w,b,S){const N=22+l,F=N+d,q=function sS(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:Ut);return u}(N,F),ne="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:u,queries:null,viewQuery:w,declTNode:o,data:q.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:ne,incompleteFirstPass:!1}}function Sv(s,o,u,l){const d=vS(o);null===u?d.push(l):(d.push(u),s.firstCreatePass&&mC(s).push(l,d.length-1))}function xv(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,d):u[l]=[o,d]}return u}function Rv(s,o){const l=o.directiveEnd,d=s.data,m=o.attrs,v=[];let w=null,b=null;for(let S=o.directiveStart;S<l;S++){const N=d[S],F=N.inputs,q=null===m||pm(o)?null:pS(F,m);v.push(q),w=xv(F,S,w),b=xv(N.outputs,S,b)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=b}function Mv(s,o){const u=Zt(o,s);16&u[2]||(u[2]|=32)}function Nv(s,o,u,l){let d=!1;if(Sa()){const m=function dC(s,o,u){const l=s.directiveRegistry;let d=null;if(l)for(let m=0;m<l.length;m++){const v=l[m];cv(u,v.selectors,!1)&&(d||(d=[]),Jo(Va(u,o),s,v.type),Si(v)?(dS(s,u),d.unshift(v)):d.push(v))}return d}(s,o,u),v=null===l?null:{"":-1};if(null!==m){d=!0,hC(u,s.data.length,m.length);for(let N=0;N<m.length;N++){const F=m[N];F.providersResolver&&F.providersResolver(F)}let w=!1,b=!1,S=Dh(s,o,m.length,null);for(let N=0;N<m.length;N++){const F=m[N];u.mergedAttrs=Qo(u.mergedAttrs,F.hostAttrs),fC(s,u,o,S,F),fS(S,F,v),null!==F.contentQueries&&(u.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(u.flags|=128);const q=F.type.prototype;!w&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!b&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),S++}Rv(s,u)}v&&function hS(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const m=u[o[d+1]];if(null==m)throw new De(-301,!1);l.push(o[d],m)}}}(u,l,v)}return u.mergedAttrs=Qo(u.mergedAttrs,u.attrs),d}function cC(s,o,u,l,d,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const b=~o.index;(function lS(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(w)!=b&&w.push(b),w.push(l,d,v)}}function kv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function dS(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function fS(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;Si(o)&&(u[""]=s)}}function hC(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function fC(s,o,u,l,d){s.data[l]=d;const m=d.factory||(d.factory=hs(d.type)),v=new mo(m,Si(d),_p);s.blueprint[l]=v,u[l]=v,cC(s,o,0,l,Dh(s,u,d.hostVars,Ut),d)}function xm(s,o,u){const l=Yr(o,s),d=aC(u),m=s[10],v=nr(s,Dp(s,d,null,u.onPush?32:16,l,o,m,m.createRenderer(l,u),null,null,null));s[o.index]=v}function No(s,o,u,l,d,m){const v=Yr(s,o);!function Sp(s,o,u,l,d,m,v){if(null==m)s.removeAttribute(o,d,u);else{const w=null==v?Ce(m):v(m,l||"",d);s.setAttribute(o,d,w,u)}}(o[11],v,m,s.value,u,l,d)}function Ov(s,o,u,l,d,m){const v=m[o];if(null!==v){const w=l.setInput;for(let b=0;b<v.length;){const S=v[b++],N=v[b++],F=v[b++];null!==w?l.setInput(u,F,S,N):u[N]=F}}}function pS(s,o){let u=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return u}function xp(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function yS(s,o){const u=Zt(o,s);if(ps(u)){const l=u[1];48&u[2]?Tp(l,u,l.template,u[8]):u[5]>0&&Lv(u)}}function Lv(s){for(let l=am(s);null!==l;l=Q_(l))for(let d=10;d<l.length;d++){const m=l[d];if(ps(m))if(512&m[2]){const v=m[1];Tp(v,m,v.template,m[8])}else m[5]>0&&Lv(m)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=Zt(u[l],s);ps(d)&&d[5]>0&&Lv(d)}}function _S(s,o){const u=Zt(o,s),l=u[1];(function pC(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),Sm(l,u,u[8])}function nr(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Fv(s){for(;s;){s[2]|=32;const o=mh(s);if($o(s)&&!o)return s;s=o}return null}function Mm(s,o,u){Mi(0),o(s,u)}function vS(s){return s[7]||(s[7]=[])}function mC(s){return s.cleanup||(s.cleanup=[])}function Vv(s,o){const u=s[9],l=u?u.get(et,null):null;l&&l.handleError(o)}function Th(s,o,u,l,d){for(let m=0;m<u.length;){const v=u[m++],w=u[m++],b=o[v],S=s.data[v];null!==S.setInput?S.setInput(b,d,l,w):b[w]=d}}function pc(s,o,u){const l=di(o,s);!function Wt(s,o,u){s.setValue(o,u)}(s[11],l,u)}function Mp(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?m=w:1==m?d=ye(d,w):2==m&&(l=ye(l,w+": "+o[++v]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}function du(s,o,u,l,d=!1){for(;null!==u;){const m=o[u.index];if(null!==m&&l.push(On(m)),jr(m))for(let w=10;w<m.length;w++){const b=m[w],S=b[1].firstChild;null!==S&&du(b[1],b,S,l)}const v=u.type;if(8&v)du(s,o,u.child,l);else if(32&v){const w=la(u,o);let b;for(;b=w();)l.push(b)}else if(16&v){const w=LA(o,u);if(Array.isArray(w))l.push(...w);else{const b=mh(o[16]);du(b[1],b,w,l,!0)}}u=d?u.projectionNext:u.next}return l}class Pl{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return du(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(jr(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(cm(o,l),Wu(u,l))}this._attachedToViewContainer=!1}dp(this._lView[1],this._lView)}onDestroy(o){Sv(this._lView[1],this._lView,null,o)}markForCheck(){Fv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Rp(s,o,u){const l=o[10];l.begin&&l.begin();try{Tp(s,o,s.template,u)}catch(d){throw Vv(o,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Aw(s,o){uu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class Dk extends Pl{constructor(o){super(o),this._view=o}detectChanges(){!function Rm(s){!function gC(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],l=Ro(u);if(null!==l){const d=l[1];iS(d,l,d.template,u)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Pm extends bl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=le(o);return new Np(u,this.ngModule)}}function Uv(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class IS{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,l){const d=this.injector.get(o,om,l);return d!==om||u===om?d:this.parentInjector.get(o,u,l)}}class Np extends sc{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function BA(s){return s.map(Vw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Uv(this.componentDef.inputs)}get outputs(){return Uv(this.componentDef.outputs)}create(o,u,l,d){let m=(d=d||this.ngModule)instanceof xo?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new IS(o,m):o,w=v.get(tp,null);if(null===w)throw new De(407,!1);const b=v.get(mi,null),S=w.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",F=l?function oS(s,o,u){return s.selectRootElement(o,u===ht.ShadowDom)}(S,l,this.componentDef.encapsulation):X_(w.createRenderer(null,this.componentDef),N,function Bv(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),q=this.componentDef.onPush?288:272,ne={components:[]},Te=Av(0,null,null,1,0,null,null,null,null,null),Oe=Dp(null,Te,ne,q,null,null,w,S,b,v,null);let Qe,ct;zc(Oe);try{const xt=function km(s,o,u,l,d,m){const v=u[1];u[22]=s;const b=ha(v,22,2,"#host",null),S=b.mergedAttrs=o.hostAttrs;null!==S&&(Mp(b,S,!0),null!==s&&(Yo(d,s,S),null!==b.classes&&cc(d,s,b.classes),null!==b.styles&&av(d,s,b.styles)));const N=l.createRenderer(s,o),F=Dp(u,aC(o),null,o.onPush?32:16,u[22],b,l,N,m||null,null,null);return v.firstCreatePass&&(Jo(Va(b,u),v,o.type),dS(v,b),hC(b,u.length,1)),nr(u,F),u[22]=F}(F,this.componentDef,Oe,w,S);if(F)if(l)Yo(S,F,["ng-version",rp.full]);else{const{attrs:ke,classes:At}=function jA(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let m=s[l];if("string"==typeof m)2===d?""!==m&&o.push(m,s[++l]):8===d&&u.push(m);else{if(!Ts(d))break;d=m}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);ke&&Yo(S,F,ke),At&&At.length>0&&cc(S,F,At.join(" "))}if(ct=Ta(Te,22),void 0!==u){const ke=ct.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const nn=u[At];ke.push(null!=nn?Array.from(nn):null)}}Qe=function Tk(s,o,u,l,d){const m=u[1],v=function cS(s,o,u){const l=Rn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),fC(s,l,o,Dh(s,o,1,null),u),Rv(s,l));const d=Ba(o,s,l.directiveStart,l);ri(d,o);const m=Yr(l,o);return m&&ri(m,o),d}(m,u,o);if(l.components.push(v),s[8]=v,null!==d)for(const b of d)b(v,o);if(o.contentQueries){const b=Rn();o.contentQueries(1,v,b.directiveStart)}const w=Rn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Wi(w.index),cC(u[1],w,0,w.directiveStart,w.directiveEnd,o),kv(o,v)),v}(xt,this.componentDef,Oe,ne,[bS]),Sm(Te,Oe,null)}finally{go()}return new CS(this.componentType,Qe,eu(ct,Oe),Oe,ct)}}class CS extends class lr{}{constructor(o,u,l,d,m){super(),this.location=l,this._rootLView=d,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Dk(d),this.componentType=o}setInput(o,u){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const m=this._rootLView;Th(m[1],m,d,o,u),Mv(m,this._tNode.index)}}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function bS(){const s=Rn();ys(xe()[1],s)}function Pp(s){let o=function _C(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(Si(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);d=o.\u0275dir}if(d){if(u){l.push(d);const v=s;v.inputs=jv(s.inputs),v.declaredInputs=jv(s.declaredInputs),v.outputs=jv(s.outputs);const w=d.hostBindings;w&&SS(s,w);const b=d.viewQuery,S=d.contentQueries;if(b&&TS(s,b),S&&AS(s,S),de(s.inputs,d.inputs),de(s.declaredInputs,d.declaredInputs),de(s.outputs,d.outputs),Si(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===Pp&&(u=!1)}}o=Object.getPrototypeOf(o)}!function DS(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Qo(d.hostAttrs,u=Qo(u,d.hostAttrs))}}(l)}function jv(s){return s===kn?{}:s===Et?[]:s}function TS(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function AS(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,m)=>{o(l,d,m),u(l,d,m)}:o}function SS(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}let _e=null;function ns(){if(!_e){const s=an.Symbol;if(s&&s.iterator)_e=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(_e=l)}}}return _e}function vi(s){return!!Om(s)&&(Array.isArray(s)||!(s instanceof Map)&&ns()in s)}function Om(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ii(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function fa(s,o,u,l){const d=xe();return ii(d,gs(),o)&&(jt(),No(In(),d,s,o,u,l)),fa}function P(s,o,u,l,d,m){const w=function kl(s,o,u,l){const d=ii(s,o,u);return ii(s,o+1,l)||d}(s,function Sr(){return Pt.lFrame.bindingIndex}(),u,d);return hi(2),w?o+Ce(u)+l+Ce(d)+m:Ut}function Gv(s,o,u,l,d,m,v,w){const b=xe(),S=jt(),N=s+22,F=S.firstCreatePass?function si(s,o,u,l,d,m,v,w,b){const S=o.consts,N=ha(o,s,4,v||null,Qr(S,w));Nv(o,u,N,Qr(S,b)),ys(o,N);const F=N.tViews=Av(2,N,l,d,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),F.queries=o.queries.embeddedTView(N)),N}(N,S,b,o,u,l,d,m,v):S.data[N];Jr(F,!1);const q=b[11].createComment("");da(S,b,q,F),ri(q,b),nr(b,b[N]=xp(q,b,q,F)),zi(F)&&Dv(S,b,F),null!=v&&Tv(b,F,w)}function Fm(s){return Ho(function Id(){return Pt.lFrame.contextLView}(),22+s)}function $e(s,o,u){const l=xe();return ii(l,gs(),o)&&function ts(s,o,u,l,d,m,v,w){const b=Yr(o,u);let N,S=o.inputs;!w&&null!=S&&(N=S[l])?(Th(s,u,N,l,d),wa(o)&&Mv(u,o.index)):3&o.type&&(l=function uC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,m.setProperty(b,l,d))}(jt(),In(),l,s,o,l[11],u,!1),$e}function to(s,o,u,l,d){const v=d?"class":"style";Th(s,u,o.inputs[v],v,l)}function mc(s,o,u,l){const d=xe(),m=jt(),v=22+s,w=d[11],b=d[v]=X_(w,o,function Bs(){return Pt.lFrame.currentNamespace}()),S=m.firstCreatePass?function Oo(s,o,u,l,d,m,v){const w=o.consts,S=ha(o,s,2,d,Qr(w,m));return Nv(o,u,S,Qr(w,v)),null!==S.attrs&&Mp(S,S.attrs,!1),null!==S.mergedAttrs&&Mp(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,m,d,0,o,u,l):m.data[v];Jr(S,!0);const N=S.mergedAttrs;null!==N&&Yo(w,b,N);const F=S.classes;null!==F&&cc(w,b,F);const q=S.styles;return null!==q&&av(w,b,q),64!=(64&S.flags)&&da(m,d,b,S),0===function Go(){return Pt.lFrame.elementDepthCount}()&&ri(b,d),function _d(){Pt.lFrame.elementDepthCount++}(),zi(S)&&(Dv(m,d,S),function Ap(s,o,u){if(fo(o)){const d=o.directiveEnd;for(let m=o.directiveStart;m<d;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}(m,S,d)),null!==l&&Tv(d,S),mc}function Rh(){let s=Rn();Ra()?function Gc(){Pt.lFrame.isParent=!1}():(s=s.parent,Jr(s,!1));const o=s;!function vd(){Pt.lFrame.elementDepthCount--}();const u=jt();return u.firstCreatePass&&(ys(u,s),fo(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ko(s){return 0!=(16&s.flags)}(o)&&to(u,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Td(s){return 0!=(32&s.flags)}(o)&&to(u,o,xe(),o.stylesWithoutHost,!1),Rh}function Vm(s,o,u,l){return mc(s,o,u,l),Rh(),Vm}function Wv(){return xe()}function qv(s){return!!s&&"function"==typeof s.then}function bC(s){return!!s&&"function"==typeof s.subscribe}const jn=bC;function $n(s,o,u,l){const d=xe(),m=jt(),v=Rn();return function jm(s,o,u,l,d,m,v,w){const b=zi(l),N=s.firstCreatePass&&mC(s),F=o[8],q=vS(o);let ne=!0;if(3&l.type||w){const Qe=Yr(l,o),ct=w?w(Qe):Qe,xt=q.length,ke=w?nn=>w(On(nn[l.index])):l.index;let At=null;if(!w&&b&&(At=function DC(s,o,u,l){const d=s.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const v=d[m];if(v===u&&d[m+1]===l){const w=o[7],b=d[m+2];return w.length>b?w[b]:null}"string"==typeof v&&(m+=2)}return null}(s,o,d,l.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=m,At.__ngLastListenerFn__=m,ne=!1;else{m=$m(l,o,F,m,!1);const nn=u.listen(ct,d,m);q.push(m,nn),N&&N.push(d,ke,xt,xt+1)}}else m=$m(l,o,F,m,!1);const Te=l.outputs;let Oe;if(ne&&null!==Te&&(Oe=Te[d])){const Qe=Oe.length;if(Qe)for(let ct=0;ct<Qe;ct+=2){const Vn=o[Oe[ct]][Oe[ct+1]].subscribe(m),ql=q.length;q.push(m,Vn),N&&N.push(d,l.index,ql,-(ql+1))}}}(m,d,d[11],v,s,o,0,l),$n}function ga(s,o,u,l){try{return!1!==u(l)}catch(d){return Vv(s,d),!1}}function $m(s,o,u,l,d){return function m(v){if(v===Function)return l;Fv(2&s.flags?Zt(s.index,o):o);let b=ga(o,0,l,v),S=m.__ngNextListenerFn__;for(;S;)b=ga(o,0,S,v)&&b,S=S.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function Zv(s=1){return function ms(s){return(Pt.lFrame.contextLView=function Of(s,o){for(;s>0;)o=o[15],s--;return o}(s,Pt.lFrame.contextLView))[8]}(s)}function Zm(s,o,u,l,d){const m=s[u+1],v=null===o;let w=l?Mo(m):Ir(m),b=!1;for(;0!==w&&(!1===b||v);){const N=s[w+1];US(s[w],o)&&(b=!0,s[w+1]=l?gv(N):vp(N)),w=l?Mo(N):Ir(N)}b&&(s[u+1]=l?vp(m):gv(m))}function US(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Co(s,o)>=0}function MC(s,o,u){return As(s,o,u,!1),MC}function yc(s,o){return As(s,o,null,!0),yc}function As(s,o,u,l){const d=xe(),m=jt(),v=hi(2);m.firstUpdatePass&&function kh(s,o,u,l){const d=s.data;if(null===d[u+1]){const m=d[Kt()],v=function nI(s,o){return o>=s.expandoStartIndex}(s,u);(function sI(s,o){return 0!=(s.flags&(o?16:32))})(m,l)&&null===o&&!v&&(o=!1),o=function PC(s,o,u,l){const d=function Ma(s){const o=Pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=Hp(u=rI(null,s,o,u,l),o.attrs,l),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(u=rI(d,s,o,u,l),null===m){let b=function kC(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==Ir(l))return s[Mo(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=rI(null,s,o,b[1],l),b=Hp(b,o.attrs,l),function Oh(s,o,u,l){s[Mo(u?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else m=function BS(s,o,u){let l;const d=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<d;m++)l=Hp(l,s[m].hostAttrs,u);return Hp(l,o.attrs,u)}(s,o,l)}return void 0!==m&&(l?o.residualClasses=m:o.residualStyles=m),u}(d,m,o,l),function VS(s,o,u,l,d,m){let v=m?o.classBindings:o.styleBindings,w=Mo(v),b=Ir(v);s[l]=u;let N,S=!1;if(Array.isArray(u)){const F=u;N=F[1],(null===N||Co(F,N)>0)&&(S=!0)}else N=u;if(d)if(0!==b){const q=Mo(s[w+1]);s[l+1]=wh(q,w),0!==q&&(s[q+1]=Em(s[q+1],l)),s[w+1]=function JA(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=wh(w,0),0!==w&&(s[w+1]=Em(s[w+1],l)),w=l;else s[l+1]=wh(b,0),0===w?w=l:s[b+1]=Em(s[b+1],l),b=l;S&&(s[l+1]=vp(s[l+1])),Zm(s,N,l,!0),Zm(s,N,l,!1),function hu(s,o,u,l,d){const m=d?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Co(m,o)>=0&&(u[l+1]=gv(u[l+1]))}(o,N,s,l,m),v=wh(w,b),m?o.classBindings=v:o.styleBindings=v}(d,m,o,u,v,l)}}(m,s,v,l),o!==Ut&&ii(d,v,o)&&function VC(s,o,u,l,d,m,v,w){if(!(3&o.type))return;const b=s.data,S=b[w+1];Gp(function Ch(s){return 1==(1&s)}(S)?Km(b,o,u,d,Ir(S),v):void 0)||(Gp(m)||function tC(s){return 2==(2&s)}(S)&&(m=Km(b,null,u,d,w,v)),function Ow(s,o,u,l,d){if(o)d?s.addClass(u,l):s.removeClass(u,l);else{let m=-1===l.indexOf("-")?void 0:su.DashCase;null==d?s.removeStyle(u,l,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=su.Important),s.setStyle(u,l,d,m))}}(l,v,di(Kt(),u),d,m))}(m,m.data[Kt()],d,d[11],s,d[v+1]=function iI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(D(s)))),s}(o,u),l,v)}function rI(s,o,u,l,d){let m=null;const v=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<v&&(m=o[w],l=Hp(l,m.hostAttrs,d),m!==s);)w++;return null!==s&&(u.directiveStylingLast=w),l}function Hp(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hr(s,v,!!u||o[++m]))}return void 0===s?null:s}function Km(s,o,u,l,d,m){const v=null===o;let w;for(;d>0;){const b=s[d],S=Array.isArray(b),N=S?b[1]:b,F=null===N;let q=u[d+1];q===Ut&&(q=F?Et:void 0);let ne=F?Ga(q,l):N===l?q:void 0;if(S&&!Gp(ne)&&(ne=Ga(b,l)),Gp(ne)&&(w=ne,v))return w;const Te=s[d+1];d=v?Mo(Te):Ir(Te)}if(null!==o){let b=m?o.residualClasses:o.residualStyles;null!=b&&(w=Ga(b,l))}return w}function Gp(s){return void 0!==s}function oI(s,o=""){const u=xe(),l=jt(),d=s+22,m=l.firstCreatePass?ha(l,d,1,o,null):l.data[d],v=u[d]=function au(s,o){return s.createText(o)}(u[11],o);da(l,u,v,m),Jr(m,!1)}function Ym(s,o,u){const l=xe(),d=function Sh(s,o,u,l){return ii(s,gs(),u)?o+Ce(u)+l:Ut}(l,s,o,u);return d!==Ut&&pc(l,Kt(),d),Ym}function zp(s,o,u,l,d){const m=xe(),v=P(m,s,o,u,l,d);return v!==Ut&&pc(m,Kt(),v),zp}const gu=void 0;var fI=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZS(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Fh={};function Fl(s){const o=function pI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=QC(o);if(u)return u;const l=o.split("-")[0];if(u=QC(l),u)return u;if("en"===l)return fI;throw new De(701,!1)}function oy(s){return Fl(s)[Mt.PluralCase]}function QC(s){return s in Fh||(Fh[s]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[s]),Fh[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Vh="en-US";let JC=Vh;function $I(s,o,u,l,d){if(s=Y(s),Array.isArray(s))for(let m=0;m<s.length;m++)$I(s[m],o,u,l,d);else{const m=jt(),v=xe();let w=Xs(s)?s:Y(s.provide),b=sh(s);const S=Rn(),N=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(Xs(s)||!s.multi){const ne=new mo(b,d,_p),Te=GI(w,o,d?N:N+q,F);-1===Te?(Jo(Va(S,v),m,w),vc(m,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),u.push(ne),v.push(ne)):(u[Te]=ne,v[Te]=ne)}else{const ne=GI(w,o,N+q,F),Te=GI(w,o,N,N+q),Oe=ne>=0&&u[ne],Qe=Te>=0&&u[Te];if(d&&!Qe||!d&&!Oe){Jo(Va(S,v),m,w);const ct=function px(s,o,u,l,d){const m=new mo(s,u,_p);return m.multi=[],m.index=o,m.componentProviders=0,HI(m,d,l&&!u),m}(d?fx:hx,u.length,d,l,b);!d&&Qe&&(u[Te].providerFactory=ct),vc(m,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),u.push(ct),v.push(ct)}else vc(m,s,ne>-1?ne:Te,HI(u[d?Te:ne],b,!d&&l));!d&&l&&Qe&&u[Te].componentProviders++}}}function vc(s,o,u,l){const d=Xs(o),m=function V_(s){return!!s.useClass}(o);if(d||m){const b=(m?Y(o.useClass):o).prototype.ngOnDestroy;if(b){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=S.indexOf(u);-1===N?S.push(u,[l,b]):S[N+1].push(l,b)}else S.push(u,b)}}}function HI(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function GI(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function hx(s,o,u,l){return zI(this.multi,[])}function fx(s,o,u,l){const d=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Ba(u,u[1],this.providerFactory.index,l);m=w.slice(0,v),zI(d,m);for(let b=v;b<w.length;b++)m.push(w[b])}else m=[],zI(d,m);return m}function zI(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function gx(s,o=[]){return u=>{u.providersResolver=(l,d)=>function jI(s,o,u){const l=jt();if(l.firstCreatePass){const d=Si(s);$I(u,l.data,l.blueprint,d,!0),$I(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Jp{}class fb{}function mx(s,o){return new yx(s,o??null)}class yx extends Jp{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pm(this);const l=Ft(o);this._bootstrapComponents=es(l.bootstrap),this._r3Injector=mm(o,u,[{provide:Jp,useValue:this},{provide:bl,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class pb extends fb{constructor(o){super(),this.moduleType=o}create(o){return new yx(this.moduleType,o)}}class Sk extends Jp{constructor(o,u,l){super(),this.componentFactoryResolver=new Pm(this),this.instance=null;const d=new rm([...o,{provide:Jp,useValue:this},{provide:bl,useValue:this.componentFactoryResolver}],u||ih(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function gb(s,o,u=null){return new Sk(s,o,u).injector}let WI=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const l=nh(0,u.type),d=l.length>0?gb([l],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=It({token:s,providedIn:"environment",factory:()=>new s(Nn(xo))}),s})();function Ic(s){s.getStandaloneInjector=o=>o.get(WI).getOrCreateStandaloneInjector(s)}function Ib(s,o,u,l,d,m){const v=o+u;return ii(s,v,d)?function Po(s,o,u){return s[o]=u}(s,v+1,m?l.call(m,d):l(d)):function tg(s,o){const u=s[o];return u===Ut?void 0:u}(s,v+1)}function qh(s,o){const u=jt();let l;const d=s+22;u.firstCreatePass?(l=function Iy(s,o){if(o)for(let u=o.length-1;u>=0;u--){const l=o[u];if(s===l.name)return l}}(o,u.pipeRegistry),u.data[d]=l,l.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,l.onDestroy)):l=u.data[d];const m=l.factory||(l.factory=hs(l.type)),v=dr(_p);try{const w=$s(!1),b=m();return $s(w),function xh(s,o,u,l){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=l}(u,xe(),d,b),b}finally{dr(v)}}function Ey(s,o,u){const l=s+22,d=xe(),m=Ho(d,l);return function Zh(s,o){return s[1].data[o].pure}(d,l)?Ib(d,function Bn(){const s=Pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,m.transform,u,m):m.transform(u)}function r0(s){return o=>{setTimeout(s,void 0,o)}}const yu=class xx extends g.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){let d=o,m=u||(()=>null),v=l;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),m=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(m=r0(m),d&&(d=r0(d)),v&&(v=r0(v)));const w=super.subscribe({next:d,error:m,complete:v});return o instanceof te.w0&&o.add(w),w}};function Kh(){return this._results[ns()]()}class s0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ns(),l=s0.prototype;l[u]||(l[u]=Kh)}get changes(){return this._changes||(this._changes=new yu)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=er(o);(this._changesDetected=!function $f(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],m=o[l];if(u&&(d=u(d),m=u(m)),m!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Nx,s})();const Rx=rg,Mx=class extends Rx{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o,u){const l=this._declarationTContainer.tViews,d=Dp(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,u||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(l)),Sm(l,d,o),new Pl(d)}};function Nx(){return jl(Rn(),xe())}function jl(s,o){return 4&s.type?new Mx(o,s,eu(s,o)):null}let wy=(()=>{class s{}return s.__NG_ELEMENT_ID__=Px,s})();function Px(){return bb(Rn(),xe())}const kx=wy,Cy=class extends kx{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return eu(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){const o=_o(this._hostTNode,this._hostLView);if(Yc(o)){const u=yo(o,this._hostLView),l=La(o);return new zs(u[1].data[l+8],u)}return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Cb(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){let d,m;"number"==typeof l?d=l:null!=l&&(d=l.index,m=l.injector);const v=o.createEmbeddedView(u||{},m);return this.insert(v,d),v}createComponent(o,u,l,d,m){const v=o&&!function $r(s){return"function"==typeof s}(o);let w;if(v)w=u;else{const F=u||{};w=F.index,l=F.injector,d=F.projectableNodes,m=F.environmentInjector||F.ngModuleRef}const b=v?o:new Np(le(o)),S=l||this.parentInjector;if(!m&&null==b.ngModule){const q=(v?S:this.parentInjector).get(xo,null);q&&(m=q)}const N=b.create(S,d,void 0,m);return this.insert(N.hostView,w),N}insert(o,u){const l=o._lView,d=l[1];if(function yd(s){return jr(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const F=l[3],q=new Cy(F,F[6],F[3]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(u),v=this._lContainer;!function kA(s,o,u,l){const d=10+l,m=u.length;l>0&&(u[d-1][4]=o),l<m-10?(o[4]=u[d],Ha(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function um(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(d,l,v,m);const w=sv(m,v),b=l[11],S=hm(b,v[7]);return null!==S&&function PA(s,o,u,l,d,m){l[0]=d,l[6]=o,uu(s,l,u,1,d,m)}(d,v[6],b,l,S,w),o.attachToViewContainerRef(),Ha(o0(v),m,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Cb(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=cm(this._lContainer,u);l&&(Wu(o0(this._lContainer),u),dp(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=cm(this._lContainer,u);return l&&null!=Wu(o0(this._lContainer),u)?new Pl(l):null}_adjustIndex(o,u=0){return o??this.length+u}};function Cb(s){return s[8]}function o0(s){return s[8]||(s[8]=[])}function bb(s,o){let u;const l=o[s.index];if(jr(l))u=l;else{let d;if(8&s.type)d=On(l);else{const m=o[11];d=m.createComment("");const v=Yr(s,o);xl(m,hm(m,v),d,function OA(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=u=xp(l,o,d,s),nr(o,u)}return new Cy(u,s,o)}class a0{constructor(o){this.queryList=o,this.matches=null}clone(){return new a0(this.queryList)}setDirty(){this.queryList.setDirty()}}class u0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let m=0;m<l;m++){const v=u.getByIndex(m);d.push(this.queries[v.indexInDeclarationView].clone())}return new u0(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Ab(o,u).matches&&this.queries[u].setDirty()}}class Db{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class ig{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,m=this.getByIndex(l).embeddedTView(o,d);m&&(m.indexInDeclarationView=l,null!==u?u.push(m):u=[m])}return null!==u?new ig(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class c0{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new c0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const m=l[d];this.matchTNodeWithReadOption(o,u,l0(u,m)),this.matchTNodeWithReadOption(o,u,vs(u,o,m,!1,!1))}else l===rg?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,vs(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ji||d===wy||d===rg&&4&u.type)this.addMatch(u.index,-2);else{const m=vs(u,o,d,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function l0(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function d0(s,o,u,l){return-1===u?function Vx(s,o){return 11&s.type?eu(s,o):4&s.type?jl(s,o):null}(o,s):-2===u?function Ux(s,o,u){return u===Ji?eu(o,s):u===rg?jl(o,s):u===wy?bb(o,s):void 0}(s,o,l):Ba(s,s[1],u,o)}function by(s,o,u,l){const d=o[19].queries[l];if(null===d.matches){const m=s.data,v=u.matches,w=[];for(let b=0;b<v.length;b+=2){const S=v[b];w.push(S<0?null:d0(o,m[S],v[b+1],u.metadata.read))}d.matches=w}return d.matches}function Yh(s,o,u,l){const d=s.queries.getByIndex(u),m=d.matches;if(null!==m){const v=by(s,o,d,u);for(let w=0;w<m.length;w+=2){const b=m[w];if(b>0)l.push(v[w/2]);else{const S=m[w+1],N=o[-b];for(let F=10;F<N.length;F++){const q=N[F];q[17]===q[3]&&Yh(q[1],q,S,l)}if(null!==N[9]){const F=N[9];for(let q=0;q<F.length;q++){const ne=F[q];Yh(ne[1],ne,S,l)}}}}}return l}function Dy(s){const o=xe(),u=jt(),l=kf();Mi(l+1);const d=Ab(u,l);if(s.dirty&&Mf(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const m=d.crossesNgTemplate?Yh(u,o,l,[]):by(u,o,d,l);s.reset(m,ep),s.notifyOnChanges()}return!0}return!1}function Ty(s,o,u,l){const d=jt();if(d.firstCreatePass){const m=Rn();(function Tb(s,o,u){null===s.queries&&(s.queries=new ig),s.queries.track(new c0(o,u))})(d,new Db(o,u,l),m.index),function jx(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function Ay(s,o,u){const l=new s0(4==(4&u));Sv(s,o,l,l.destroy),null===o[19]&&(o[19]=new u0),o[19].queries.push(new a0(l))}(d,xe(),u)}function Qh(){return function $l(s,o){return s[19].queries[o].queryList}(xe(),kf())}function Ab(s,o){return s.queries.getByIndex(o)}function Ny(...s){}const zb=new mn("Application Initializer");let Py=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Ny,this.reject=Ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(qv(m))u.push(m);else if(jn(m)){const v=new Promise((w,b)=>{m.subscribe({complete:w,error:b})});u.push(v)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Nn(zb,8))},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Wb=new mn("AppId",{providedIn:"root",factory:function S0(){return`${x0()}${x0()}${x0()}`}});function x0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qb=new mn("Platform Initializer"),Kx=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zb=new mn("appBootstrapListener");let Yx=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ky=new mn("LocaleId",{providedIn:"root",factory:()=>bo(ky,st.Optional|st.SkipSelf)||function R0(){return typeof $localize<"u"&&$localize.locale||Vh}()}),Qb=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wk{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let M0=(()=>{class s{compileModuleSync(u){return new pb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),m=es(Ft(u).declarations).reduce((v,w)=>{const b=le(w);return b&&v.push(new Np(b)),v},[]);return new Wk(l,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Qx=(()=>Promise.resolve(0))();function k0(s){typeof Zone>"u"?Qx.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class so{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function nD(){let s=an.requestAnimationFrame,o=an.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Xx(s){const o=()=>{!function Jx(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(an,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ag(s),s.isCheckStableRunning=!0,_u(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ag(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,m,v,w)=>{try{return rD(s),u.invokeTask(d,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Oy(s)}},onInvoke:(u,l,d,m,v,w,b)=>{try{return rD(s),u.invoke(d,m,v,w,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),Oy(s)}},onHasTask:(u,l,d,m)=>{u.hasTask(d,m),l===d&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,ag(s),_u(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,l,d,m)=>(u.handleError(d,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!so.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(so.isInAngularZone())throw new De(909,!1)}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+d,o,Zk,Ny,Ny);try{return m.runTask(v,u,l)}finally{m.cancelTask(v)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const Zk={};function _u(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ag(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Oy(s){s._nesting--,_u(s)}class eR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}const iD=new mn(""),Ly=new mn("");let L0,tR=(()=>{class s{constructor(u,l,d){this._ngZone=u,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,L0||(function O0(s){L0=s}(d),d.addToWindow(l)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{so.assertNotInAngularZone(),k0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())k0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,l,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Nn(so),Nn(sD),Nn(Ly))},s.\u0275prov=It({token:s,factory:s.\u0275fac}),s})(),sD=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return L0?.findTestabilityInTree(this,u,l)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Cc=null;const oD=new mn("AllowMultipleToken"),F0=new mn("PlatformDestroyListeners");class rR{constructor(o,u){this.name=o,this.token=u}}function ug(s,o,u=[]){const l=`Platform: ${o}`,d=new mn(l);return(m=[])=>{let v=Fy();if(!v||v.injector.get(oD,!1)){const w=[...u,...m,{provide:d,useValue:!0}];s?s(w):function V0(s){if(Cc&&!Cc.get(oD,!1))throw new De(400,!1);Cc=s;const o=s.get(dD);(function cD(s){const o=s.get(qb,null);o&&o.forEach(u=>u())})(s)}(function lD(s=[],o){return ki.create({name:o,providers:[{provide:El,useValue:"platform"},{provide:F0,useValue:new Set([()=>Cc=null])},...s]})}(w,l))}return function iR(s){const o=Fy();if(!o)throw new De(401,!1);return o}()}}function Fy(){return Cc?.get(dD)??null}let dD=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const d=function fD(s,o){let u;return u="noop"===s?new eR:("zone.js"===s?void 0:s)||new so(o),u}(l?.ngZone,function hD(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),m=[{provide:so,useValue:d}];return d.run(()=>{const v=ki.create({providers:m,parent:this.injector,name:u.moduleType.name}),w=u.create(v),b=w.injector.get(et,null);if(!b)throw new De(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:N=>{b.handleError(N)}});w.onDestroy(()=>{cg(this._modules,w),S.unsubscribe()})}),function pD(s,o,u){try{const l=u();return qv(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(b,d,()=>{const S=w.injector.get(Py);return S.runInitializers(),S.donePromise.then(()=>(function XC(s){Ot(s,"Expected localeId to be defined"),"string"==typeof s&&(JC=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ky,Vh)||Vh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,l=[]){const d=Xh({},l);return function aD(s,o,u){const l=new pb(u);return Promise.resolve(l)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(u){const l=u.injector.get(Vy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new De(403,!1);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get(F0,null);u&&(u.forEach(l=>l()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Nn(ki))},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Xh(s,o){return Array.isArray(o)?o.reduce(Xh,s):{...s,...o}}let Vy=(()=>{class s{constructor(u,l,d){this._zone=u,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new k.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new k.y(w=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{so.assertNotInAngularZone(),k0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{so.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ie.T)(m,v.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,l){const d=u instanceof sc;if(!this._injector.get(Py).done)throw!d&&Nt(u),new De(405,false);let v;v=d?u:this._injector.get(bl).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const w=function nR(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Jp),S=v.create(ki.NULL,[],l||v.selector,w),N=S.location.nativeElement,F=S.injector.get(iD,null);return F?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),cg(this.components,S),F?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;cg(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Zb,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>cg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new De(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Nn(so),Nn(xo),Nn(et))},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function cg(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let mD=!0,yD=!1;function _D(){return yD=!0,mD}function B0(){if(yD)throw new Error("Cannot enable prod mode after platform setup.");mD=!1}let j0=(()=>{class s{}return s.__NG_ELEMENT_ID__=aR,s})();function aR(s){return function Ss(s,o,u){if(wa(s)&&!u){const l=Zt(s.index,o);return new Pl(l,l)}return 47&s.type?new Pl(o[16],o):null}(Rn(),xe(),16==(16&s))}class bD{constructor(){}supports(o){return vi(o)}create(o){return new fR(o)}}const G0=(s,o)=>o;class fR{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||G0}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,m=null;for(;u||l;){const v=!l||u&&u.currentIndex<z0(l,d,m)?u:l,w=z0(v,d,m),b=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{m||(m=[]);const S=w-d,N=b-d;if(S!=N){for(let q=0;q<S;q++){const ne=q<m.length?m[q]:m[q]=0,Te=ne+q;N<=Te&&Te<S&&(m[q]=ne+1)}m[v.previousIndex]=N-S}}w!==b&&o(v,w,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!vi(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,m,v,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],v=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,m,v,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,w),l=!0),u=u._next}else d=0,function MS(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ns()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,w=>{v=this._trackByFn(d,w),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,w,v,d)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,v,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,m,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,m,d)):o=this._addAfter(new pR(u,l),m,d),o}_verifyReinsertion(o,u,l,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?o=this._reinsertAfter(m,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,m=o._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new DD),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class pR{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gR{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class DD{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new gR,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function z0(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class W0{constructor(){}supports(o){return o instanceof Map||Om(o)}create(){return new TD}}class TD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Om(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const m=d._prev,v=d._next;return m&&(m._next=v),v&&(v._prev=m),d._next=null,d._prev=null,d}const l=new Iu(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class Iu{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mR(){return new q0([new bD])}let q0=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||mR()),deps:[[s,new Do,new Ks]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new De(901,!1)}}return s.\u0275prov=It({token:s,providedIn:"root",factory:mR}),s})();function AD(){return new Z0([new W0])}let Z0=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||AD()),deps:[[s,new Do,new Ks]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new De(901,!1)}}return s.\u0275prov=It({token:s,providedIn:"root",factory:AD}),s})();const yR=ug(null,"core",[]);let _R=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Nn(Vy))},s.\u0275mod=gt({type:s}),s.\u0275inj=dn({}),s})();function xD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},6101:(yt,Ae,L)=>{L.d(Ae,{Z:()=>De});var g=L(2090),te=L(4859),k=L(9752);L(1877);class ae{constructor(Ce,pe){this._delegate=Ce,this.firebase=pe,(0,k._addComponent)(Ce,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Ce,pe=k._DEFAULT_ENTRY_NAME){var dt;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Ce);return!mt.isInitialized()&&"EXPLICIT"===(null===(dt=mt.getComponent())||void 0===dt?void 0:dt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:pe})}_removeServiceInstance(Ce,pe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(pe)}_addComponent(Ce){(0,k._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,k._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function ye(){const it=function ve(it){const Ce={},pe={__esModule:!0,initializeApp:function Ue(je,ge={}){const W=k.initializeApp(je,ge);if((0,g.r3)(Ce,W.name))return Ce[W.name];const K=new it(W,pe);return Ce[W.name]=K,K},app:mt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ie(je){const ge=je.name,W=ge.replace("-compat","");if(k._registerComponent(je)&&"PUBLIC"===je.type){const K=(J=mt())=>{if("function"!=typeof J[W])throw de.create("invalid-app-argument",{appName:ge});return J[W]()};void 0!==je.serviceProps&&(0,g.ZB)(K,je.serviceProps),pe[W]=K,it.prototype[W]=function(...J){return this._getService.bind(this,ge).apply(this,je.multipleInstances?J:[])}}return"PUBLIC"===je.type?pe[W]:null},removeApp:function dt(je){delete Ce[je]},useAsService:function Ge(je,ge){return"serverAuth"===ge?null:ge},modularAPIs:k}};function mt(je){if(!(0,g.r3)(Ce,je=je||k._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:je});return Ce[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function be(){return Object.keys(Ce).map(je=>Ce[je])}}),mt.App=it,pe}(ae);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Ce(pe){(0,g.ZB)(it,pe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),it}const j=ye();(0,g.jU)()&&void 0!==self.firebase&&self;const De=j},9752:(yt,Ae,L)=>{L.r(Ae),L.d(Ae,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>ci,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>Ct,_addOrOverwriteComponent:()=>It,_apps:()=>Yt,_clearComponents:()=>Fr,_components:()=>Un,_getProvider:()=>dn,_registerComponent:()=>on,_removeServiceInstance:()=>or,deleteApp:()=>Ps,getApp:()=>qr,getApps:()=>co,initializeApp:()=>Ur,onLog:()=>Zr,registerVersion:()=>Sn,setLogLevel:()=>dr});var g=L(5861),te=L(4859),k=L(1877),ie=L(2090);L(8766);const j=new k.Yd("@firebase/app"),Ot="[DEFAULT]",Je={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,Un=new Map;function Ct(Ee,H){try{Ee.container.addComponent(H)}catch(we){j.debug(`Component ${H.name} failed to register with FirebaseApp ${Ee.name}`,we)}}function It(Ee,H){Ee.container.addOrOverwriteComponent(H)}function on(Ee){const H=Ee.name;if(Un.has(H))return j.debug(`There were multiple attempts to register component ${H}.`),!1;Un.set(H,Ee);for(const we of Yt.values())Ct(we,Ee);return!0}function dn(Ee,H){const we=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),Ee.container.getProvider(H)}function or(Ee,H,we=Ot){dn(Ee,H).clearInstance(we)}function Fr(){Un.clear()}const wn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class uo{constructor(H,we,qe){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=qe,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const ci="9.23.0";function Ur(Ee,H={}){let we=Ee;"object"!=typeof H&&(H={name:H});const qe=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},H),Ze=qe.name;if("string"!=typeof Ze||!Ze)throw wn.create("bad-app-name",{appName:String(Ze)});if(we||(we=(0,ie.aH)()),!we)throw wn.create("no-options");const gt=Yt.get(Ze);if(gt){if((0,ie.vZ)(we,gt.options)&&(0,ie.vZ)(qe,gt.config))return gt;throw wn.create("duplicate-app",{appName:Ze})}const qt=new te.H0(Ze);for(const U of Un.values())qt.addComponent(U);const B=new uo(we,qe,qt);return Yt.set(Ze,B),B}function qr(Ee=Ot){const H=Yt.get(Ee);if(!H&&Ee===Ot&&(0,ie.aH)())return Ur();if(!H)throw wn.create("no-app",{appName:Ee});return H}function co(){return Array.from(Yt.values())}function Ps(Ee){return st.apply(this,arguments)}function st(){return(st=(0,g.Z)(function*(Ee){const H=Ee.name;Yt.has(H)&&(Yt.delete(H),yield Promise.all(Ee.container.getProviders().map(we=>we.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function Sn(Ee,H,we){var qe;let Ze=null!==(qe=Je[Ee])&&void 0!==qe?qe:Ee;we&&(Ze+=`-${we}`);const gt=Ze.match(/\s|\//),qt=H.match(/\s|\//);if(gt||qt){const B=[`Unable to register library "${Ze}" with version "${H}":`];return gt&&B.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),gt&&qt&&B.push("and"),qt&&B.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void j.warn(B.join(" "))}on(new te.wA(`${Ze}-version`,()=>({library:Ze,version:H}),"VERSION"))}function Zr(Ee,H){if(null!==Ee&&"function"!=typeof Ee)throw wn.create("invalid-log-argument");(0,k.Am)(Ee,H)}function dr(Ee){(0,k.Ub)(Ee)}},8140:(yt,Ae,L)=>{L.d(Ae,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=L(9752)},1274:(yt,Ae,L)=>{L.d(Ae,{Z:()=>g.Z});var g=L(6101)},8463:(yt,Ae,L)=>{L.r(Ae);var g=L(5861),te=L(6101),k=L(2090),ie=L(9752),ae=L(655),fe=L(1877);L(4859);function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const it=Se,Ce=new k.LL("auth","Firebase",Se()),dt=new fe.Yd("@firebase/auth");function Ue(y,...h){dt.logLevel<=fe.in.ERROR&&dt.error(`Auth (${ie.SDK_VERSION}): ${y}`,...h)}function be(y,...h){throw ge(y,...h)}function Ie(y,...h){return ge(y,...h)}function Ge(y,h,f){const I=Object.assign(Object.assign({},it()),{[h]:f});return new k.LL("auth","Firebase",I).create(h,{appName:y.name})}function je(y,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&be(y,"argument-error"),Ge(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ge(y,...h){if("string"!=typeof y){const f=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(f,...I)}return Ce.create(y,...h)}function W(y,h,...f){if(!y)throw ge(h,...f)}function K(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Ue(h),new Error(h)}function J(y,h){y||K(h)}function ce(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Fe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Lt{constructor(h,f){this.shortDelay=h,this.longDelay=f,J(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function se(){return"http:"===Fe()||"https:"===Fe()}()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ot(y,h){J(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Je{static initialize(h,f,I){this.fetchImpl=h,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Un=new Lt(3e4,6e4);function Ct(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function It(y,h,f,I){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(y,h,f,I,A={}){return dn(y,A,(0,g.Z)(function*(){let M={},$={};I&&("GET"===h?$=I:M={body:JSON.stringify(I)});const ee=(0,k.xO)(Object.assign({key:y.config.apiKey},$)).slice(1),Me=yield y._getAdditionalHeaders();return Me["Content-Type"]="application/json",y.languageCode&&(Me["X-Firebase-Locale"]=y.languageCode),Je.fetch()(wn(y,y.config.apiHost,f,ee),Object.assign({method:h,headers:Me,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function dn(y,h,f){return or.apply(this,arguments)}function or(){return(or=(0,g.Z)(function*(y,h,f){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},Yt),h);try{const A=new uo(y),M=yield Promise.race([f(),A.promise]);A.clearNetworkTimeout();const $=yield M.json();if("needConfirmation"in $)throw ci(y,"account-exists-with-different-credential",$);if(M.ok&&!("errorMessage"in $))return $;{const ee=M.ok?$.errorMessage:$.error.message,[Me,He]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw ci(y,"credential-already-in-use",$);if("EMAIL_EXISTS"===Me)throw ci(y,"email-already-in-use",$);if("USER_DISABLED"===Me)throw ci(y,"user-disabled",$);const et=I[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw Ge(y,et,He);be(y,et)}}catch(A){if(A instanceof k.ZR)throw A;be(y,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Fr(y,h,f,I){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(y,h,f,I,A={}){const M=yield It(y,h,f,I,A);return"mfaPendingCredential"in M&&be(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function wn(y,h,f,I){const A=`${h}${f}?${I}`;return y.config.emulator?Ot(y.config,A):`${y.config.apiScheme}://${A}`}class uo{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(Ie(this.auth,"network-request-failed")),Un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ci(y,h,f){const I={appName:y.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const A=Ie(y,h,I);return A.customData._tokenResponse=f,A}function qr(){return(qr=(0,g.Z)(function*(y,h){return It(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function co(y,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,g.Z)(function*(y,h){return It(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function st(y,h){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,g.Z)(function*(y,h){return It(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Zr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ji(){return(ji=(0,g.Z)(function*(y,h=!1){const f=(0,k.m9)(y),I=yield f.getIdToken(h),A=Dn(I);W(A&&A.exp&&A.auth_time&&A.iat,f.auth,"internal-error");const M="object"==typeof A.firebase?A.firebase:void 0,$=M?.sign_in_provider;return{claims:A,token:I,authTime:Zr(un(A.auth_time)),issuedAtTime:Zr(un(A.iat)),expirationTime:Zr(un(A.exp)),signInProvider:$||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function un(y){return 1e3*Number(y)}function Dn(y){const[h,f,I]=y.split(".");if(void 0===h||void 0===f||void 0===I)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,k.tV)(f);return A?JSON.parse(A):(Ue("Failed to decode base64 JWT payload"),null)}catch(A){return Ue("Caught error parsing JWT payload as JSON",A?.toString()),null}}function ot(y,h){return ht.apply(this,arguments)}function ht(){return(ht=(0,g.Z)(function*(y,h,f=!1){if(f)return h;try{return yield h}catch(I){throw I instanceof k.ZR&&an(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}function an({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Tr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const A=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),I)}iteration(){var h=this;return(0,g.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class ar{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(y){return Et.apply(this,arguments)}function Et(){return(Et=(0,g.Z)(function*(y){var h;const f=y.auth,I=yield y.getIdToken(),A=yield ot(y,st(f,{idToken:I}));W(A?.users.length,f,"internal-error");const M=A.users[0];y._notifyReloadListener(M);const $=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?Xt(M.providerUserInfo):[],ee=Os(y.providerData,$),et=!!y.isAnonymous&&!(y.email&&M.passwordHash||ee?.length),ut={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ee,metadata:new ar(M.createdAt,M.lastLoginAt),isAnonymous:et};Object.assign(y,ut)})).apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(y){const h=(0,k.m9)(y);yield kn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Os(y,h){return[...y.filter(I=>!h.some(A=>A.providerId===I.providerId)),...h]}function Xt(y){return y.map(h=>{var{providerId:f}=h,I=(0,ae._T)(h,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Qn(){return(Qn=(0,g.Z)(function*(y,h){const f=yield dn(y,{},(0,g.Z)(function*(){const I=(0,k.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:M}=y.config,$=wn(y,A,"/v1/token",`key=${M}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()($,{method:"POST",headers:ee,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){W(h.idToken,"internal-error"),W(typeof h.idToken<"u","internal-error"),W(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function en(y){const h=Dn(y);return W(h,"internal-error"),W(typeof h.exp<"u","internal-error"),W(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var I=this;return(0,g.Z)(function*(){return W(!I.accessToken||I.refreshToken,h,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var I=this;return(0,g.Z)(function*(){const{accessToken:A,refreshToken:M,expiresIn:$}=yield function xn(y,h){return Qn.apply(this,arguments)}(h,f);I.updateTokensAndExpiration(A,M,Number($))})()}updateTokensAndExpiration(h,f,I){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,f){const{refreshToken:I,accessToken:A,expirationTime:M}=f,$=new Ee;return I&&(W("string"==typeof I,"internal-error",{appName:h}),$.refreshToken=I),A&&(W("string"==typeof A,"internal-error",{appName:h}),$.accessToken=A),M&&(W("number"==typeof M,"internal-error",{appName:h}),$.expirationTime=M),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return K("not implemented")}}function H(y,h){W("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class we{constructor(h){var{uid:f,auth:I,stsTokenManager:A}=h,M=(0,ae._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new ar(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,g.Z)(function*(){const I=yield ot(f,f.stsTokenManager.getToken(f.auth,h));return W(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(h){return function ks(y){return ji.apply(this,arguments)}(this,h)}reload(){return function $i(y){return Jt.apply(this,arguments)}(this)}_assign(h){this!==h&&(W(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new we(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var I=this;return(0,g.Z)(function*(){let A=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),A=!0),f&&(yield kn(I)),yield I.auth._persistUserIfCurrent(I),A&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,g.Z)(function*(){const f=yield h.getIdToken();return yield ot(h,function Ur(y,h){return qr.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var I,A,M,$,ee,Me,He,et;const ut=null!==(I=f.displayName)&&void 0!==I?I:void 0,En=null!==(A=f.email)&&void 0!==A?A:void 0,bs=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,tu=null!==($=f.photoURL)&&void 0!==$?$:void 0,sp=null!==(ee=f.tenantId)&&void 0!==ee?ee:void 0,op=null!==(Me=f._redirectEventId)&&void 0!==Me?Me:void 0,dh=null!==(He=f.createdAt)&&void 0!==He?He:void 0,ac=null!==(et=f.lastLoginAt)&&void 0!==et?et:void 0,{uid:Ds,emailVerified:ap,isAnonymous:Gr,providerData:Al,stsTokenManager:hh}=f;W(Ds&&hh,h,"internal-error");const _r=Ee.fromJSON(this.name,hh);W("string"==typeof Ds,h,"internal-error"),H(ut,h.name),H(En,h.name),W("boolean"==typeof ap,h,"internal-error"),W("boolean"==typeof Gr,h,"internal-error"),H(bs,h.name),H(tu,h.name),H(sp,h.name),H(op,h.name),H(dh,h.name),H(ac,h.name);const nu=new we({uid:Ds,auth:h,email:En,emailVerified:ap,displayName:ut,isAnonymous:Gr,photoURL:tu,phoneNumber:bs,tenantId:sp,stsTokenManager:_r,createdAt:dh,lastLoginAt:ac});return Al&&Array.isArray(Al)&&(nu.providerData=Al.map(vr=>Object.assign({},vr))),op&&(nu._redirectEventId=op),nu}static _fromIdTokenResponse(h,f,I=!1){return(0,g.Z)(function*(){const A=new Ee;A.updateFromServerResponse(f);const M=new we({uid:f.localId,auth:h,stsTokenManager:A,isAnonymous:I});return yield kn(M),M})()}}const qe=new Map;function Ze(y){J(y instanceof Function,"Expected a class definition");let h=qe.get(y);return h?(J(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,qe.set(y,h),h)}function B(y,h,f){return`firebase:${y}:${h}:${f}`}function re(y=(0,k.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ft(y=(0,k.z$)()){return/android/i.test(y)}function ft(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Cn(y=(0,k.z$)()){return ft(y)||Ft(y)||function Ve(y=(0,k.z$)()){return/webos/i.test(y)}(y)||function hn(y=(0,k.z$)()){return/blackberry/i.test(y)}(y)||/windows phone/i.test(y)||function Nt(y=(0,k.z$)()){return/iemobile/i.test(y)}(y)}function pn(y){return(0,k.m9)(y)}class zi{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return K("not implemented")}_getIdTokenResponse(h){return K("not implemented")}_linkToIdToken(h,f){return K("not implemented")}_getReauthenticationResolver(h){return K("not implemented")}}function ad(y,h){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,g.Z)(function*(y,h){return It(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Fc(y,h){return ld.apply(this,arguments)}function ld(){return(ld=(0,g.Z)(function*(y,h){return It(y,"POST","/v1/accounts:sendOobCode",Ct(y,h))})).apply(this,arguments)}function Df(y,h){return dd.apply(this,arguments)}function dd(){return(dd=(0,g.Z)(function*(y,h){return Fc(y,h)})).apply(this,arguments)}function Vg(y,h){return fd.apply(this,arguments)}function fd(){return(fd=(0,g.Z)(function*(y,h){return Fc(y,h)})).apply(this,arguments)}function xi(y,h){return hs.apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(y,h){return Fr(y,"POST","/v1/accounts:signInWithIdp",Ct(y,h))})).apply(this,arguments)}class li extends zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new li(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):be("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:A}=f,M=(0,ae._T)(f,["providerId","signInMethod"]);if(!I||!A)return null;const $=new li(I,A);return $.idToken=M.idToken||void 0,$.accessToken=M.accessToken||void 0,$.secret=M.secret,$.nonce=M.nonce,$.pendingToken=M.pendingToken||null,$}_getIdTokenResponse(h){return xi(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,xi(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,xi(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,k.xO)(f)}return h}}function md(y,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,g.Z)(function*(y,h){return It(y,"POST","/v1/accounts:sendVerificationCode",Ct(y,h))})).apply(this,arguments)}function Su(){return(Su=(0,g.Z)(function*(y,h){return Fr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ct(y,h))})).apply(this,arguments)}function Da(){return(Da=(0,g.Z)(function*(y,h){const f=yield Fr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ct(y,h));if(f.temporaryProof)throw ci(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const xu={USER_NOT_FOUND:"user-not-found"};function cr(){return(cr=(0,g.Z)(function*(y,h){return Fr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ct(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),xu)})).apply(this,arguments)}class Ar extends zi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Ar({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Ar({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Bc(y,h){return Su.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function xf(y,h){return Da.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Rf(y,h){return cr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:I,verificationCode:A}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:I,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:I,phoneNumber:A,temporaryProof:M}=h;return I||f||A||M?new Ar({verificationId:f,verificationCode:I,phoneNumber:A,temporaryProof:M}):null}}class fs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Nu extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class di extends Nu{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return W("providerId"in f&&"signInMethod"in f,"argument-error"),li._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return W(h.idToken||h.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return di.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return di.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:I,oauthTokenSecret:A,pendingToken:M,nonce:$,providerId:ee}=h;if(!I&&!A&&!f&&!M||!ee)return null;try{return new di(ee)._credential({idToken:f,accessToken:I,nonce:$,pendingToken:M})}catch{return null}}}let Yr=(()=>{class y extends Nu{constructor(){super("facebook.com")}static credential(f){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),jc=(()=>{class y extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:A}=f;if(!I&&!A)return null;try{return y.credential(I,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ta=(()=>{class y extends Nu{constructor(){super("github.com")}static credential(f){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Zt extends zi{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return xi(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,xi(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,xi(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:A,pendingToken:M}=f;return I&&A&&M&&I===A?new Zt(I,M):null}static _create(h,f){return new Zt(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let yd=(()=>{class y extends Nu{constructor(){super("twitter.com")}static credential(f,I){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:I,oauthTokenSecret:A}=f;if(!I||!A)return null;try{return y.credential(I,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();class hr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,I,A=!1){return(0,g.Z)(function*(){const M=yield we._fromIdTokenResponse(h,I,A),$=Pt(I);return new hr({user:M,providerId:$,_tokenResponse:I,operationType:f})})()}static _forOperation(h,f,I){return(0,g.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const A=Pt(I);return new hr({user:h,providerId:A,_tokenResponse:I,operationType:f})})()}}function Pt(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}class Go extends k.ZR{constructor(h,f,I,A){var M;super(f.code,f.message),this.operationType=I,this.user=A,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,f,I,A){return new Go(h,f,I,A)}}function _d(y,h,f,I){return("reauthenticate"===h?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Go._fromErrorAndOperation(y,M,h,I):M})}function vd(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Ri(){return(Ri=(0,g.Z)(function*(y,h){const f=(0,k.m9)(y);yield jt(!0,f,h);const{providerUserInfo:I}=yield co(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),A=vd(I||[]);return f.providerData=f.providerData.filter(M=>A.has(M.providerId)),A.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function xa(y,h){return xe.apply(this,arguments)}function xe(){return(xe=(0,g.Z)(function*(y,h,f=!1){const I=yield ot(y,h._linkToIdToken(y.auth,yield y.getIdToken()),f);return hr._forOperation(y,"link",I)})).apply(this,arguments)}function jt(y,h,f){return $c.apply(this,arguments)}function $c(){return($c=(0,g.Z)(function*(y,h,f){yield kn(h);const A=!1===y?"provider-already-linked":"no-such-provider";W(vd(h.providerData).has(f)===y,h.auth,A)})).apply(this,arguments)}function Hc(y,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(y,h,f=!1){const{auth:I}=y,A="reauthenticate";try{const M=yield ot(y,_d(I,A,h,y),f);W(M.idToken,I,"internal-error");const $=Dn(M.idToken);W($,I,"internal-error");const{sub:ee}=$;return W(y.uid===ee,I,"user-mismatch"),hr._forOperation(y,A,M)}catch(M){throw"auth/user-not-found"===M?.code&&be(I,"user-mismatch"),M}})).apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(y,h,f=!1){const I="signIn",A=yield _d(y,I,h),M=yield hr._fromIdTokenResponse(y,I,A);return f||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Gc(y,h){return ku.apply(this,arguments)}function ku(){return(ku=(0,g.Z)(function*(y,h){const f=(0,k.m9)(y);return yield jt(!1,f,h.providerId),xa(f,h)})).apply(this,arguments)}function Id(y,h){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,g.Z)(function*(y,h){return Hc((0,k.m9)(y),h)})).apply(this,arguments)}class gs{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?hi._fromServerResponse(h,f):"totpInfo"in f?wd._fromServerResponse(h,f):be(h,"internal-error")}}class hi extends gs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new hi(f)}}class wd extends gs{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new wd(f)}}function po(y,h,f){var I;W((null===(I=f.url)||void 0===I?void 0:I.length)>0,y,"invalid-continue-uri"),W(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(W(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(W(f.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function Bs(){return(Bs=(0,g.Z)(function*(y,h){const f=(0,k.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&po(f.auth,A,h);const{email:M}=yield Df(f.auth,A);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(y,h,f){const I=(0,k.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};f&&po(I.auth,M,f);const{email:$}=yield Vg(I.auth,M);$!==y.email&&(yield y.reload())})).apply(this,arguments)}function Zo(y,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(y,h){return It(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(y,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const I=(0,k.m9)(y),M={idToken:yield I.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},$=yield ot(I,Zo(I.auth,M));I.displayName=$.displayName||null,I.photoURL=$.photoUrl||null;const ee=I.providerData.find(({providerId:Me})=>"password"===Me);ee&&(ee.displayName=I.displayName,ee.photoURL=I.photoURL),yield I._updateTokensIfNecessary($)})).apply(this,arguments)}function mo(y,h,f){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,g.Z)(function*(y,h,f){const{auth:I}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(M.email=h),f&&(M.password=f);const $=yield ot(y,ad(I,M));yield y._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class fi{constructor(h,f,I={}){this.isNewUser=h,this.providerId=f,this.profile=I}}class Bu extends fi{constructor(h,f,I,A){super(h,f,I),this.username=A}}class Ko extends fi{constructor(h,f){super(h,"facebook.com",f)}}class Td extends Bu{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class jg extends fi{constructor(h,f){super(h,"google.com",f)}}class Ad extends Bu{constructor(h,f,I){super(h,"twitter.com",f,I)}}function Yo(y){const{user:h,_tokenResponse:f}=y;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Dd(y){var h,f;if(!y)return null;const{providerId:I}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!I&&y?.idToken){const $=null===(f=null===(h=Dn(y.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if($)return new fi(M,"anonymous"!==$&&"custom"!==$?$:null)}if(!I)return null;switch(I){case"facebook.com":return new Ko(M,A);case"github.com":return new Td(M,A);case"google.com":return new jg(M,A);case"twitter.com":return new Ad(M,A,y.screenName||null);case"custom":case"anonymous":return new fi(M,null);default:return new fi(M,I,A)}}(f)}class Hs{constructor(h,f,I){this.type=h,this.credential=f,this.auth=I}static _fromIdtoken(h,f){return new Hs("enroll",h,f)}static _fromMfaPendingCredential(h){return new Hs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,I;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Hs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return Hs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Fa{constructor(h,f,I){this.session=h,this.hints=f,this.signInResolver=I}static _fromError(h,f){const I=pn(h),A=f.customData._serverResponse,M=(A.mfaInfo||[]).map(ee=>gs._fromServerResponse(I,ee));W(A.mfaPendingCredential,I,"internal-error");const $=Hs._fromMfaPendingCredential(A.mfaPendingCredential);return new Fa($,M,function(){var ee=(0,g.Z)(function*(Me){const He=yield Me._process(I,$);delete A.mfaInfo,delete A.mfaPendingCredential;const et=Object.assign(Object.assign({},A),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const ut=yield hr._fromIdTokenResponse(I,f.operationType,et);return yield I._updateCurrentUser(ut.user),ut;case"reauthenticate":return W(f.user,I,"internal-error"),hr._forOperation(f.user,f.operationType,et);default:be(I,"internal-error")}});return function(Me){return ee.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,g.Z)(function*(){return f.signInResolver(h)})()}}function ju(y,h){return It(y,"POST","/v2/accounts/mfaEnrollment:start",Ct(y,h))}class Gs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(I=>gs._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new Gs(h)}getSession(){var h=this;return(0,g.Z)(function*(){return Hs._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var I=this;return(0,g.Z)(function*(){const A=h,M=yield I.getSession(),$=yield ot(I.user,A._process(I.user.auth,M,f));return yield I.user._updateTokensIfNecessary($),I.user.reload()})()}unenroll(h){var f=this;return(0,g.Z)(function*(){const I="string"==typeof h?h:h.uid,A=yield f.user.getIdToken();try{const M=yield ot(f.user,function Qc(y,h){return It(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(y,h))}(f.user.auth,{idToken:A,mfaEnrollmentId:I}));f.enrolledFactors=f.enrolledFactors.filter(({uid:$})=>$!==I),yield f.user._updateTokensIfNecessary(M),yield f.user.reload()}catch(M){throw M}})()}}const _o=new WeakMap;class $u{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const vs=(()=>{class y extends $u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kd(){const y=(0,k.z$)();return re(y)||ft(y)}()&&function cs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const A=this.storage.getItem(I),M=this.localCache[I];A!==M&&f(I,M,A)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((ee,Me,He)=>{this.notifyListeners(ee,He)});const A=f.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(A);if(f.newValue!==ee)null!==f.newValue?this.storage.setItem(A,f.newValue):this.storage.removeItem(A);else if(this.localCache[A]===f.newValue&&!I)return}const M=()=>{const ee=this.storage.getItem(A);!I&&this.localCache[A]===ee||this.notifyListeners(A,ee)},$=this.storage.getItem(A);!function Br(){return(0,k.w1)()&&10===document.documentMode}()||$===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,I){this.localCache[f]=I;const A=this.listeners[f];if(A)for(const M of Array.from(A))M(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var A=()=>super._set,M=this;return(0,g.Z)(function*(){yield A().call(M,f,I),M.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,A=this;return(0,g.Z)(function*(){const M=yield I().call(A,f);return A.localCache[f]=JSON.stringify(M),M})()}_remove(f){var I=()=>super._remove,A=this;return(0,g.Z)(function*(){yield I().call(A,f),delete A.localCache[f]})()}}return y.type="LOCAL",y})(),vo=(()=>{class y extends $u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return y.type="SESSION",y})();function zs(y="",h=10){let f="";for(let I=0;I<h;I++)f+=Math.floor(10*Math.random());return y+f}function tn(){return window}function zn(y,h){return It(y,"POST","/v2/accounts/mfaSignIn:start",Ct(y,h))}const ta="recaptcha";class Yi{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Ar._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Wa(){return(Wa=(0,g.Z)(function*(y,h,f){const I=(0,k.m9)(y);yield jt(!1,I,"phone");const A=yield Ws(I.auth,h,(0,k.m9)(f));return new Yi(A,M=>Gc(I,M))})).apply(this,arguments)}function qu(){return(qu=(0,g.Z)(function*(y,h,f){const I=(0,k.m9)(y),A=yield Ws(I.auth,h,(0,k.m9)(f));return new Yi(A,M=>Id(I,M))})).apply(this,arguments)}function Ws(y,h,f){return qa.apply(this,arguments)}function qa(){return(qa=(0,g.Z)(function*(y,h,f){var I;const A=yield f.verify();try{let M;if(W("string"==typeof A,y,"argument-error"),W(f.type===ta,y,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const $=M.session;if("phoneNumber"in M)return W("enroll"===$.type,y,"internal-error"),(yield ju(y,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{W("signin"===$.type,y,"internal-error");const ee=(null===(I=M.multiFactorHint)||void 0===I?void 0:I.uid)||M.multiFactorUid;return W(ee,y,"missing-multi-factor-info"),(yield zn(y,{mfaPendingCredential:$.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield md(y,{phoneNumber:M.phoneNumber,recaptchaToken:A});return $}}finally{f._reset()}})).apply(this,arguments)}function il(){return(il=(0,g.Z)(function*(y,h){yield xa((0,k.m9)(y),h)})).apply(this,arguments)}let yn=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=pn(f)}verifyPhoneNumber(f,I){return Ws(this.auth,f,(0,k.m9)(I))}static credential(f,I){return Ar._fromVerification(f,I)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:I,temporaryProof:A}=f;return I&&A?Ar._fromTokenResponse(I,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function pr(y,h){return h?Ze(h):(W(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class xr extends zi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return xi(h,this._buildIdpRequest())}_linkToIdToken(h,f){return xi(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return xi(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function jd(y){return function Pu(y,h){return zo.apply(this,arguments)}(y.auth,new xr(y),y.bypassAuthState)}function sl(y){const{auth:h,user:f}=y;return W(f,h,"internal-error"),Hc(f,new xr(y),y.bypassAuthState)}function Za(y){return na.apply(this,arguments)}function na(){return(na=(0,g.Z)(function*(y){const{auth:h,user:f}=y;return W(f,h,"internal-error"),xa(f,new xr(y),y.bypassAuthState)})).apply(this,arguments)}class qs{constructor(h,f,I,A,M=!1){this.auth=h,this.resolver=I,this.user=A,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,g.Z)(function*(I,A){h.pendingPromise={resolve:I,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(I,A){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:A,postBody:M,tenantId:$,error:ee,type:Me}=h;if(ee)return void f.reject(ee);const He={auth:f.auth,requestUri:I,sessionId:A,tenantId:$||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Me)(He))}catch(et){f.reject(et)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return jd;case"linkViaPopup":case"linkViaRedirect":return Za;case"reauthViaPopup":case"reauthViaRedirect":return sl;default:be(this.auth,"internal-error")}}resolve(h){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gr=new Lt(2e3,1e4);function bo(){return(bo=(0,g.Z)(function*(y,h,f){const I=(0,k.m9)(y);je(I.auth,h,fs);const A=pr(I.auth,f);return new Ku(I.auth,"reauthViaPopup",h,A,I).executeNotNull()})).apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(y,h,f){const I=(0,k.m9)(y);je(I.auth,h,fs);const A=pr(I.auth,f);return new Ku(I.auth,"linkViaPopup",h,A,I).executeNotNull()})).apply(this,arguments)}let Ku=(()=>{class y extends qs{constructor(f,I,A,M,$){super(f,I,M,$),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const I=yield f.execute();return W(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,g.Z)(function*(){J(1===f.filter.length,"Popup operations only handle one event");const I=zs();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(A=>{f.reject(A)}),f.resolver._isIframeWebStorageSupported(f.auth,A=>{A||f.reject(Ie(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,A;this.pollId=null!==(A=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,gr.get())};f()}}return y.currentPopupAction=null,y})();const Qu=new Map;class ul extends qs{constructor(h,f,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,g.Z)(function*(){let I=Qu.get(f.auth._key());if(!I){try{const M=(yield function Ks(y,h){return Ka.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;I=()=>Promise.resolve(M)}catch(A){I=()=>Promise.reject(A)}Qu.set(f.auth._key(),I)}return f.bypassAuthState||Qu.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(I,h);if("unknown"!==h.type){if(h.eventId){const A=yield I.auth._redirectUserForId(h.eventId);if(A)return I.user=A,f().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Ka(){return(Ka=(0,g.Z)(function*(y,h){const f=ra(h),I=Ya(y);if(!(yield I._isAvailable()))return!1;const A="true"===(yield I._get(f));return yield I._remove(f),A})).apply(this,arguments)}function Do(y,h){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,g.Z)(function*(y,h){return Ya(y)._set(ra(h),"true")})).apply(this,arguments)}function Ys(y,h){Qu.set(y._key(),h)}function Ya(y){return Ze(y._redirectPersistence)}function ra(y){return B("pendingRedirect",y.config.apiKey,y.name)}function Es(){return(Es=(0,g.Z)(function*(y,h,f){const I=(0,k.m9)(y);je(I.auth,h,fs),yield I.auth._initializationPromise;const A=pr(I.auth,f);yield Do(A,I.auth);const M=yield Ja(I);return A._openRedirect(I.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function Hf(){return(Hf=(0,g.Z)(function*(y,h,f){const I=(0,k.m9)(y);je(I.auth,h,fs),yield I.auth._initializationPromise;const A=pr(I.auth,f);yield jt(!1,I,h.providerId),yield Do(A,I.auth);const M=yield Ja(I);return A._openRedirect(I.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function sa(y,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(y,h,f=!1){const I=pn(y),A=pr(I,h),$=yield new ul(I,A,f).execute();return $&&!f&&(delete $.user._redirectEventId,yield I._persistUserIfCurrent($.user),yield I._setRedirectUser(null,h)),$})).apply(this,arguments)}function Ja(y){return To.apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(y){const h=zs(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class zd{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(f=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function tc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wd(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var I;if(h.error&&!Wd(h)){const A=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(Ie(this.auth,A))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const I=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ec(h))}saveEventToCache(h){this.cachedEventUids.add(ec(h)),this.lastProcessedEventTime=Date.now()}}function ec(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Wd({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function Gg(y){return qd.apply(this,arguments)}function qd(){return(qd=(0,g.Z)(function*(y,h={}){return It(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Zd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dl=/^https?/;function Qs(){return(Qs=(0,g.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Gg(y);for(const f of h)try{if(Kd(f))return}catch{}be(y,"unauthorized-domain")})).apply(this,arguments)}function Kd(y){const h=ce(),{protocol:f,hostname:I}=new URL(h);if(y.startsWith("chrome-extension://")){const $=new URL(y);return""===$.hostname&&""===I?"chrome-extension:"===f&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&$.hostname===I}if(!dl.test(f))return!1;if(Zd.test(y))return I===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(I)}const zg=new Lt(3e4,6e4);function So(){const y=tn().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let Js=null;function ni(y){return Js=Js||function ti(y){return new Promise((h,f)=>{var I,A,M;function $(){So(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{So(),f(Ie(y,"network-request-failed"))},timeout:zg.get()})}if(null!==(A=null===(I=tn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==A&&A.Iframe)h(gapi.iframes.getContext());else{if(null===(M=tn().gapi)||void 0===M||!M.load){const ee=function Vs(y){return`__${y}${Math.floor(1e6*Math.random())}`}("iframefcb");return tn()[ee]=()=>{gapi.load?$():f(Ie(y,"network-request-failed"))},function ds(y){return new Promise((h,f)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=h,I.onerror=A=>{const M=Ie("internal-error");M.customData=A,f(M)},I.type="text/javascript",I.charset="UTF-8",function Jn(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(I)})}(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Me=>f(Me))}$()}}).catch(h=>{throw Js=null,h})}(y),Js}const Xa=new Lt(5e3,15e3),pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gl(y){const h=y.config;W(h.authDomain,y,"auth-domain-config-required");const f=h.emulator?Ot(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,I={apiKey:h.apiKey,appName:y.name,v:ie.SDK_VERSION},A=Yd.get(y.config.apiHost);A&&(I.eid=A);const M=y._getFrameworks();return M.length&&(I.fw=M.join(",")),`${f}?${(0,k.xO)(I).slice(1)}`}function D(){return D=(0,g.Z)(function*(y){const h=yield ni(y),f=tn().gapi;return W(f,y,"internal-error"),h.open({where:document.body,url:gl(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pl,dontclear:!0},I=>new Promise(function(){var A=(0,g.Z)(function*(M,$){yield I.restyle({setHideOnLeave:!1});const ee=Ie(y,"network-request-failed"),Me=tn().setTimeout(()=>{$(ee)},Xa.get());function He(){tn().clearTimeout(Me),M(I)}I.ping(He).then(He,()=>{$(ee)})});return function(M,$){return A.apply(this,arguments)}}()))}),D.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ye{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function We(y,h,f,I=500,A=600){const M=Math.max((window.screen.availHeight-A)/2,0).toString(),$=Math.max((window.screen.availWidth-I)/2,0).toString();let ee="";const Me=Object.assign(Object.assign({},x),{width:I.toString(),height:A.toString(),top:M,left:$}),He=(0,k.z$)().toLowerCase();f&&(ee=function Ke(y=(0,k.z$)()){return/crios\//i.test(y)}(He)?"_blank":f),function le(y=(0,k.z$)()){return/firefox\//i.test(y)}(He)&&(h=h||"http://localhost",Me.scrollbars="yes");const et=Object.entries(Me).reduce((En,[bs,tu])=>`${En}${bs}=${tu},`,"");if(function _n(y=(0,k.z$)()){var h;return ft(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(He)&&"_self"!==ee)return function at(y,h){const f=document.createElement("a");f.href=y,f.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(h||"",ee),new Ye(null);const ut=window.open(h||"",ee,et);W(ut,y,"popup-blocked");try{ut.focus()}catch{}return new Ye(ut)}const pi=encodeURIComponent("fac");function Ln(y,h,f,I,A,M){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(y,h,f,I,A,M){W(y.config.authDomain,y,"auth-domain-config-required"),W(y.config.apiKey,y,"invalid-api-key");const $={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:I,v:ie.SDK_VERSION,eventId:A};if(h instanceof fs){h.setDefaultLanguage(y.languageCode),$.providerId=h.providerId||"",(0,k.xb)(h.getCustomParameters())||($.customParameters=JSON.stringify(h.getCustomParameters()));for(const[et,ut]of Object.entries(M||{}))$[et]=ut}if(h instanceof Nu){const et=h.getScopes().filter(ut=>""!==ut);et.length>0&&($.scopes=et.join(","))}y.tenantId&&($.tid=y.tenantId);const ee=$;for(const et of Object.keys(ee))void 0===ee[et]&&delete ee[et];const Me=yield y._getAppCheckToken(),He=Me?`#${pi}=${encodeURIComponent(Me)}`:"";return`${nc(y)}?${(0,k.xO)(ee).slice(1)}${He}`})).apply(this,arguments)}function nc({config:y}){return y.emulator?Ot(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const mr="webStorageSupport";function Cs(){return window}function Fn(){return(Fn=(0,g.Z)(function*(y,h,f){var I;const{BuildInfo:A}=Cs();J(h.sessionId,"AuthEvent did not contain a session ID");const M=yield F_(h.sessionId),$={};return ft()?$.ibi=A.packageName:Ft()?$.apn=A.packageName:be(y,"operation-not-supported-in-this-environment"),A.displayName&&($.appDisplayName=A.displayName),$.sessionId=M,Ln(y,f,h.type,void 0,null!==(I=h.eventId)&&void 0!==I?I:void 0,$)})).apply(this,arguments)}function Yg(){return(Yg=(0,g.Z)(function*(y){const{BuildInfo:h}=Cs(),f={};ft()?f.iosBundleId=h.packageName:Ft()?f.androidPackageName=h.packageName:be(y,"operation-not-supported-in-this-environment"),yield Gg(y,f)})).apply(this,arguments)}function qf(){return(qf=(0,g.Z)(function*(y,h,f){const{cordova:I}=Cs();let A=()=>{};try{yield new Promise((M,$)=>{let ee=null;function Me(){var ut;M();const En=null===(ut=I.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof En&&En(),"function"==typeof f?.close&&f.close()}function He(){ee||(ee=window.setTimeout(()=>{$(Ie(y,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===document?.visibilityState&&He()}h.addPassiveListener(Me),document.addEventListener("resume",He,!1),Ft()&&document.addEventListener("visibilitychange",et,!1),A=()=>{h.removePassiveListener(Me),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",et,!1),ee&&window.clearTimeout(ee)}})}finally{A()}})).apply(this,arguments)}function F_(y){return th.apply(this,arguments)}function th(){return(th=(0,g.Z)(function*(y){const h=Zf(y),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Zf(y){if(J(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),f=new Uint8Array(h);for(let I=0;I<y.length;I++)f[I]=y.charCodeAt(I);return f}class Ew extends zd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,g.Z)(function*(){yield h.initPromise})()}}function Xg(y){return yl.apply(this,arguments)}function yl(){return(yl=(0,g.Z)(function*(y){const h=yield nh()._get(_l(y));return h&&(yield nh()._remove(_l(y))),h})).apply(this,arguments)}function tm(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const I=Math.floor(Math.random()*h.length);y.push(h.charAt(I))}return y.join("")}function nh(){return Ze(vs)}function _l(y){return B("authEvent",y.config.apiKey,y.name)}function Il(y){if(!y?.includes("?"))return{};const[h,...f]=y.split("?");return(0,k.zd)(f.join("?"))}function Xs(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}function aa(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function oh(){return function xo(y=(0,k.z$)()){return!("file:"!==aa()&&"ionic:"!==aa()&&"capacitor:"!==aa()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function ah(){return(ah=(0,g.Z)(function*(){return!!oh()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Qf="persistence";function Jf(y){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,g.Z)(function*(y){yield y._initializationPromise;const h=ch(),f=B(Qf,y.config.apiKey,y.name);h&&h.setItem(f,y._getPersistence())})).apply(this,arguments)}function ch(){var y;try{return(null===(y=function uh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const eu=W;class Ji{constructor(){this.browserResolver=Ze(class yr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vo,this._completeRedirectFn=sa,this._overrideRedirectResult=Ys}_openPopup(h,f,I,A){var M=this;return(0,g.Z)(function*(){var $;J(null===($=M.eventManagers[h._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ee=yield Ln(h,f,I,ce(),A);return We(h,ee,zs())})()}_openRedirect(h,f,I,A){var M=this;return(0,g.Z)(function*(){return yield M._originValidation(h),function Xc(y){tn().location.href=y}(yield Ln(h,f,I,ce(),A)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:A,promise:M}=this.eventManagers[f];return A?Promise.resolve(A):(J(M,"If manager is not set, promise should be"),M)}const I=this.initAndGetManager(h);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(h){var f=this;return(0,g.Z)(function*(){const I=yield function E(y){return D.apply(this,arguments)}(h),A=new zd(h);return I.register("authEvent",M=>(W(M?.authEvent,h,"invalid-auth-event"),{status:A.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:A},f.iframes[h._key()]=I,A})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(mr,{type:mr},A=>{var M;const $=null===(M=A?.[0])||void 0===M?void 0:M[mr];void 0!==$&&f(!!$),be(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Ao(y){return Qs.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Cn()||re()||ft()}}),this.cordovaResolver=Ze(class rh{constructor(){this._redirectPersistence=vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sa,this._overrideRedirectResult=Ys}_initialize(h){var f=this;return(0,g.Z)(function*(){const I=h._key();let A=f.eventManagers.get(I);return A||(A=new Ew(h),f.eventManagers.set(I,A),f.attachCallbackListeners(h,A)),A})()}_openPopup(h){be(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,I,A){var M=this;return(0,g.Z)(function*(){!function Jg(y){var h,f,I,A,M,$,ee,Me,He,et;const ut=Cs();W("function"==typeof(null===(h=ut?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof(null===(f=ut?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W("function"==typeof(null===(M=null===(A=null===(I=ut?.cordova)||void 0===I?void 0:I.plugins)||void 0===A?void 0:A.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(Me=null===(ee=null===($=ut?.cordova)||void 0===$?void 0:$.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Me?void 0:Me.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(et=null===(He=ut?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===et?void 0:et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const $=yield M._initialize(h);yield $.initialized(),$.resetRedirect(),function $d(){Qu.clear()}(),yield M._originValidation(h);const ee=function ic(y,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:tm(),postBody:null,tenantId:y.tenantId,error:Ie(y,"no-auth-event")}}(h,I,A);yield function Kf(y,h){return nh()._set(_l(y),h)}(h,ee);const Me=yield function O_(y,h,f){return Fn.apply(this,arguments)}(h,ee,f),He=yield function Qg(y){const{cordova:h}=Cs();return new Promise(f=>{h.plugins.browsertab.isAvailable(I=>{let A=null;I?h.plugins.browsertab.openUrl(y):A=h.InAppBrowser.open(y,function bt(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(A)})})}(Me);return function L_(y,h,f){return qf.apply(this,arguments)}(h,$,He)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function vw(y){return Yg.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:I,handleOpenURL:A,BuildInfo:M}=Cs(),$=setTimeout((0,g.Z)(function*(){yield Xg(h),f.onEvent(Xs())}),500),ee=function(){var et=(0,g.Z)(function*(ut){clearTimeout($);const En=yield Xg(h);let bs=null;En&&ut?.url&&(bs=function em(y,h){var f,I;const A=function ww(y){const h=Il(y),f=h.link?decodeURIComponent(h.link):void 0,I=Il(f).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Il(A).link||A||I||f||y}(h);if(A.includes("/__/auth/callback")){const M=Il(A),$=M.firebaseError?function vl(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,ee=null===(I=null===(f=$?.code)||void 0===f?void 0:f.split("auth/"))||void 0===I?void 0:I[1],Me=ee?Ie(ee):null;return Me?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(En,ut.url)),f.onEvent(bs||Xs())});return function(En){return et.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,ee);const Me=A,He=`${M.packageName.toLowerCase()}://`;Cs().handleOpenURL=function(){var et=(0,g.Z)(function*(ut){if(ut.toLowerCase().startsWith(He)&&ee({url:ut}),"function"==typeof Me)try{Me(ut)}catch(En){console.error(En)}});return function(ut){return et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=vo,this._completeRedirectFn=sa,this._overrideRedirectResult=Ys}_initialize(h){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,I,A){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,f,I,A)})()}_openRedirect(h,f,I,A){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,f,I,A)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return oh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,g.Z)(function*(){if(h.underlyingResolver)return;const f=yield function $_(){return ah.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function ep(y){return y.unwrap()}function tp(y){return np(y)}function np(y){const{_tokenResponse:h}=y instanceof k.ZR?y.customData:y;if(!h)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return yn.credentialFromResult(y);const f=h.providerId;if(!f||"password"===f)return null;let I;switch(f){case"google.com":I=jc;break;case"facebook.com":I=Yr;break;case"github.com":I=Ta;break;case"twitter.com":I=yd;break;default:const{oauthIdToken:A,oauthAccessToken:M,oauthTokenSecret:$,pendingToken:ee,nonce:Me}=h;return M||$||A||ee?ee?f.startsWith("saml.")?Zt._create(f,ee):li._fromParams({providerId:f,signInMethod:f,pendingToken:ee,idToken:A,accessToken:M}):new di(f).credential({idToken:A,accessToken:M,rawNonce:Me}):null}return y instanceof k.ZR?I.credentialFromError(y):I.credentialFromResult(y)}function mi(y,h){return h.catch(f=>{throw f instanceof k.ZR&&function H_(y,h){var f;const I=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new om(y,function Nd(y,h){var f;const I=(0,k.m9)(y),A=h;return W(h.customData.operationType,I,"argument-error"),W(null===(f=A.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,I,"argument-error"),Fa._fromError(I,A)}(y,h));else if(I){const A=np(h),M=h;A&&(M.credential=A,M.tenantId=I.tenantId||void 0,M.email=I.email||void 0,M.phoneNumber=I.phoneNumber||void 0)}}(y,f),f}).then(f=>{const A=f.user;return{operationType:f.operationType,credential:tp(f),additionalUserInfo:Yo(f),user:ca.getOrCreate(A)}})}function Dl(y,h){return rp.apply(this,arguments)}function rp(){return(rp=(0,g.Z)(function*(y,h){const f=yield h;return{verificationId:f.verificationId,confirm:I=>mi(y,f.confirm(I))}})).apply(this,arguments)}class om{constructor(h,f){this.resolver=f,this.auth=function Cw(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return mi(ep(this.auth),this.resolver.resolveSignIn(h))}}class ca{constructor(h){this._delegate=h,this.multiFactor=function Jo(y){const h=(0,k.m9)(y);return _o.has(h)||_o.set(h,Gs._fromUser(h)),_o.get(h)}(h)}static getOrCreate(h){return ca.USER_MAP.has(h)||ca.USER_MAP.set(h,new ca(h)),ca.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,g.Z)(function*(){return mi(f.auth,Gc(f._delegate,h))})()}linkWithPhoneNumber(h,f){var I=this;return(0,g.Z)(function*(){return Dl(I.auth,function Bd(y,h,f){return Wa.apply(this,arguments)}(I._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,g.Z)(function*(){return mi(f.auth,function al(y,h,f){return Zs.apply(this,arguments)}(f._delegate,h,Ji))})()}linkWithRedirect(h){var f=this;return(0,g.Z)(function*(){return yield Jf(pn(f.auth)),function cl(y,h,f){return function P_(y,h,f){return Hf.apply(this,arguments)}(y,h,f)}(f._delegate,h,Ji)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,g.Z)(function*(){return mi(f.auth,Id(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return Dl(this.auth,function rl(y,h,f){return qu.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return mi(this.auth,function ol(y,h,f){return bo.apply(this,arguments)}(this._delegate,h,Ji))}reauthenticateWithRedirect(h){var f=this;return(0,g.Z)(function*(){return yield Jf(pn(f.auth)),function ia(y,h,f){return function Rr(y,h,f){return Es.apply(this,arguments)}(y,h,f)}(f._delegate,h,Ji)})()}sendEmailVerification(h){return function Kc(y,h){return Bs.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,g.Z)(function*(){return yield function Sa(y,h){return Ri.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function Uu(y,h){return mo((0,k.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function Ni(y,h){return mo((0,k.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ei(y,h){return il.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Vu(y,h){return js.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function qo(y,h,f){return ys.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ca.USER_MAP=new WeakMap;class lh{constructor(){this.providerId="phone",this._delegate=new yn(ep(te.Z.auth()))}static credential(h,f){return yn.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}lh.PHONE_SIGN_IN_METHOD=yn.PHONE_SIGN_IN_METHOD,lh.PROVIDER_ID=yn.PROVIDER_ID},9681:(yt,Ae,L)=>{L.r(Ae),L.d(Ae,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>ci,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>Ct,_addOrOverwriteComponent:()=>It,_apps:()=>Yt,_clearComponents:()=>Fr,_components:()=>Un,_getProvider:()=>dn,_registerComponent:()=>on,_removeServiceInstance:()=>or,deleteApp:()=>Ps,getApp:()=>qr,getApps:()=>co,initializeApp:()=>Ur,onLog:()=>Zr,registerVersion:()=>Sn,setLogLevel:()=>dr});var g=L(5861),te=L(4859),k=L(1877),ie=L(2090),ae=L(8766);class fe{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function de(Ee){return"VERSION"===Ee.getComponent()?.type}(we)){const qe=we.getImmediate();return`${qe.library}/${qe.version}`}return null}).filter(we=>we).join(" ")}}const ve="@firebase/app",j=new k.Yd("@firebase/app"),Ot="[DEFAULT]",Je={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,Un=new Map;function Ct(Ee,H){try{Ee.container.addComponent(H)}catch(we){j.debug(`Component ${H.name} failed to register with FirebaseApp ${Ee.name}`,we)}}function It(Ee,H){Ee.container.addOrOverwriteComponent(H)}function on(Ee){const H=Ee.name;if(Un.has(H))return j.debug(`There were multiple attempts to register component ${H}.`),!1;Un.set(H,Ee);for(const we of Yt.values())Ct(we,Ee);return!0}function dn(Ee,H){const we=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),Ee.container.getProvider(H)}function or(Ee,H,we=Ot){dn(Ee,H).clearInstance(we)}function Fr(){Un.clear()}const wn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class uo{constructor(H,we,qe){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=qe,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const ci="10.0.0";function Ur(Ee,H={}){let we=Ee;"object"!=typeof H&&(H={name:H});const qe=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},H),Ze=qe.name;if("string"!=typeof Ze||!Ze)throw wn.create("bad-app-name",{appName:String(Ze)});if(we||(we=(0,ie.aH)()),!we)throw wn.create("no-options");const gt=Yt.get(Ze);if(gt){if((0,ie.vZ)(we,gt.options)&&(0,ie.vZ)(qe,gt.config))return gt;throw wn.create("duplicate-app",{appName:Ze})}const qt=new te.H0(Ze);for(const U of Un.values())qt.addComponent(U);const B=new uo(we,qe,qt);return Yt.set(Ze,B),B}function qr(Ee=Ot){const H=Yt.get(Ee);if(!H&&Ee===Ot&&(0,ie.aH)())return Ur();if(!H)throw wn.create("no-app",{appName:Ee});return H}function co(){return Array.from(Yt.values())}function Ps(Ee){return st.apply(this,arguments)}function st(){return(st=(0,g.Z)(function*(Ee){const H=Ee.name;Yt.has(H)&&(Yt.delete(H),yield Promise.all(Ee.container.getProviders().map(we=>we.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function Sn(Ee,H,we){var qe;let Ze=null!==(qe=Je[Ee])&&void 0!==qe?qe:Ee;we&&(Ze+=`-${we}`);const gt=Ze.match(/\s|\//),qt=H.match(/\s|\//);if(gt||qt){const B=[`Unable to register library "${Ze}" with version "${H}":`];return gt&&B.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),gt&&qt&&B.push("and"),qt&&B.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void j.warn(B.join(" "))}on(new te.wA(`${Ze}-version`,()=>({library:Ze,version:H}),"VERSION"))}function Zr(Ee,H){if(null!==Ee&&"function"!=typeof Ee)throw wn.create("invalid-log-argument");(0,k.Am)(Ee,H)}function dr(Ee){(0,k.Ub)(Ee)}const un="firebase-heartbeat-store";let Dn=null;function en(){return Dn||(Dn=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(Ee,H)=>{0===H&&Ee.createObjectStore(un)}}).catch(Ee=>{throw wn.create("idb-open",{originalErrorMessage:Ee.message})})),Dn}function ht(){return(ht=(0,g.Z)(function*(Ee){try{return yield(yield en()).transaction(un).objectStore(un).get(ar(Ee))}catch(H){if(H instanceof ie.ZR)j.warn(H.message);else{const we=wn.create("idb-get",{originalErrorMessage:H?.message});j.warn(we.message)}}})).apply(this,arguments)}function an(Ee,H){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,g.Z)(function*(Ee,H){try{const qe=(yield en()).transaction(un,"readwrite");yield qe.objectStore(un).put(H,ar(Ee)),yield qe.done}catch(we){if(we instanceof ie.ZR)j.warn(we.message);else{const qe=wn.create("idb-set",{originalErrorMessage:we?.message});j.warn(qe.message)}}})).apply(this,arguments)}function ar(Ee){return`${Ee.name}!${Ee.options.appId}`}class $i{constructor(H){this.container=H,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new Xt(we),this._heartbeatsCachePromise=this._storage.read().then(qe=>(this._heartbeatsCache=qe,qe))}triggerHeartbeat(){var H=this;return(0,g.Z)(function*(){const qe=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=Jt();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!H._heartbeatsCache.heartbeats.some(gt=>gt.date===Ze))return H._heartbeatsCache.heartbeats.push({date:Ze,agent:qe}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(gt=>{const qt=new Date(gt.date).valueOf();return Date.now()-qt<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,g.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const we=Jt(),{heartbeatsToSend:qe,unsentEntries:Ze}=function Os(Ee,H=1024){const we=[];let qe=Ee.slice();for(const Ze of Ee){const gt=we.find(qt=>qt.agent===Ze.agent);if(gt){if(gt.dates.push(Ze.date),xn(we)>H){gt.dates.pop();break}}else if(we.push({agent:Ze.agent,dates:[Ze.date]}),xn(we)>H){we.pop();break}qe=qe.slice(1)}return{heartbeatsToSend:we,unsentEntries:qe}}(H._heartbeatsCache.heartbeats),gt=(0,ie.L)(JSON.stringify({version:2,heartbeats:qe}));return H._heartbeatsCache.lastSentHeartbeatDate=we,Ze.length>0?(H._heartbeatsCache.heartbeats=Ze,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),gt})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,g.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function ot(Ee){return ht.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var we=this;return(0,g.Z)(function*(){var qe;if(yield we._canUseIndexedDBPromise){const gt=yield we.read();return an(we.app,{lastSentHeartbeatDate:null!==(qe=H.lastSentHeartbeatDate)&&void 0!==qe?qe:gt.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var we=this;return(0,g.Z)(function*(){var qe;if(yield we._canUseIndexedDBPromise){const gt=yield we.read();return an(we.app,{lastSentHeartbeatDate:null!==(qe=H.lastSentHeartbeatDate)&&void 0!==qe?qe:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...H.heartbeats]})}})()}}function xn(Ee){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function Qn(Ee){on(new te.wA("platform-logger",H=>new fe(H),"PRIVATE")),on(new te.wA("heartbeat",H=>new $i(H),"PRIVATE")),Sn(ve,"0.9.14",Ee),Sn(ve,"0.9.14","esm2017"),Sn("fire-js","")}("")},4859:(yt,Ae,L)=>{L.d(Ae,{H0:()=>ve,wA:()=>k});var g=L(5861),te=L(2090);class k{constructor(j,G,Y){this.name=j,this.instanceFactory=G,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class ae{constructor(j,G){this.name=j,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const G=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(G)){const Y=new te.BH;if(this.instancesDeferred.set(G,Y),this.isInitialized(G)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:G});ze&&Y.resolve(ze)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(j){var G;const Y=this.normalizeInstanceIdentifier(j?.identifier),ze=null!==(G=j?.optional)&&void 0!==G&&G;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Se){if(ze)return null;throw Se}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function de(ye){return"EAGER"===ye.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[G,Y]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(G);try{const Se=this.getOrInitializeService({instanceIdentifier:ze});Y.resolve(Se)}catch{}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,g.Z)(function*(){const G=Array.from(j.instances.values());yield Promise.all([...G.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...G.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:G={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Y,options:G});for(const[Se,De]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Se)&&De.resolve(ze);return ze}onInit(j,G){var Y;const ze=this.normalizeInstanceIdentifier(G),Se=null!==(Y=this.onInitCallbacks.get(ze))&&void 0!==Y?Y:new Set;Se.add(j),this.onInitCallbacks.set(ze,Se);const De=this.instances.get(ze);return De&&j(De,ze),()=>{Se.delete(j)}}invokeOnInitCallbacks(j,G){const Y=this.onInitCallbacks.get(G);if(Y)for(const ze of Y)try{ze(j,G)}catch{}}getOrInitializeService({instanceIdentifier:j,options:G={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=j,ye===ie?void 0:ye),options:G}),this.instances.set(j,Y),this.instancesOptions.set(j,G),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch{}var ye;return Y||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const G=this.getProvider(j.name);if(G.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);G.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const G=new ae(j,this);return this.providers.set(j,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,Ae,L)=>{L.d(Ae,{Am:()=>ye,Ub:()=>ve,Yd:()=>de,in:()=>te});const g=[];var te=(()=>{return(j=te||(te={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",te;var j})();const k={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ie=te.INFO,ae={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},fe=(j,G,...Y)=>{if(G<j.logLevel)return;const ze=(new Date).toISOString(),Se=ae[G];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Se](`[${ze}]  ${j.name}:`,...Y)};class de{constructor(G){this.name=G,this._logLevel=ie,this._logHandler=fe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in te))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?k[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...G),this._logHandler(this,te.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...G),this._logHandler(this,te.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,te.INFO,...G),this._logHandler(this,te.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,te.WARN,...G),this._logHandler(this,te.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...G),this._logHandler(this,te.ERROR,...G)}}function ve(j){g.forEach(G=>{G.setLogLevel(j)})}function ye(j,G){for(const Y of g){let ze=null;G&&G.level&&(ze=k[G.level]),Y.userLogHandler=null===j?null:(Se,De,...it)=>{const Ce=it.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");De>=(ze??Se.logLevel)&&j({level:te[De].toLowerCase(),message:Ce,args:it,type:Se.name})}}}},8766:(yt,Ae,L)=>{L.d(Ae,{X3:()=>mt});var g=L(5861);let k,ie;const de=new WeakMap,ve=new WeakMap,ye=new WeakMap,j=new WeakMap,G=new WeakMap;let Se={get(ge,W,K){if(ge instanceof IDBTransaction){if("done"===W)return ve.get(ge);if("objectStoreNames"===W)return ge.objectStoreNames||ye.get(ge);if("store"===W)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return pe(ge[W])},set:(ge,W,K)=>(ge[W]=K,!0),has:(ge,W)=>ge instanceof IDBTransaction&&("done"===W||"store"===W)||W in ge};function Ce(ge){return"function"==typeof ge?function it(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...W){return ge.apply(dt(this),W),pe(de.get(this))}:function(...W){return pe(ge.apply(dt(this),W))}:function(W,...K){const J=ge.call(dt(this),W,...K);return ye.set(J,W.sort?W.sort():[W]),pe(J)}}(ge):(ge instanceof IDBTransaction&&function ze(ge){if(ve.has(ge))return;const W=new Promise((K,J)=>{const ce=()=>{ge.removeEventListener("complete",se),ge.removeEventListener("error",Fe),ge.removeEventListener("abort",Fe)},se=()=>{K(),ce()},Fe=()=>{J(ge.error||new DOMException("AbortError","AbortError")),ce()};ge.addEventListener("complete",se),ge.addEventListener("error",Fe),ge.addEventListener("abort",Fe)});ve.set(ge,W)}(ge),((ge,W)=>W.some(K=>ge instanceof K))(ge,function ae(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Se):ge)}function pe(ge){if(ge instanceof IDBRequest)return function Y(ge){const W=new Promise((K,J)=>{const ce=()=>{ge.removeEventListener("success",se),ge.removeEventListener("error",Fe)},se=()=>{K(pe(ge.result)),ce()},Fe=()=>{J(ge.error),ce()};ge.addEventListener("success",se),ge.addEventListener("error",Fe)});return W.then(K=>{K instanceof IDBCursor&&de.set(K,ge)}).catch(()=>{}),G.set(W,ge),W}(ge);if(j.has(ge))return j.get(ge);const W=Ce(ge);return W!==ge&&(j.set(ge,W),G.set(W,ge)),W}const dt=ge=>G.get(ge);function mt(ge,W,{blocked:K,upgrade:J,blocking:ce,terminated:se}={}){const Fe=indexedDB.open(ge,W),Be=pe(Fe);return J&&Fe.addEventListener("upgradeneeded",pt=>{J(pe(Fe.result),pt.oldVersion,pt.newVersion,pe(Fe.transaction),pt)}),K&&Fe.addEventListener("blocked",pt=>K(pt.oldVersion,pt.newVersion,pt)),Be.then(pt=>{se&&pt.addEventListener("close",()=>se()),ce&&pt.addEventListener("versionchange",Lt=>ce(Lt.oldVersion,Lt.newVersion,Lt))}).catch(()=>{}),Be}const be=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ge=new Map;function je(ge,W){if(!(ge instanceof IDBDatabase)||W in ge||"string"!=typeof W)return;if(Ge.get(W))return Ge.get(W);const K=W.replace(/FromIndex$/,""),J=W!==K,ce=Ie.includes(K);if(!(K in(J?IDBIndex:IDBObjectStore).prototype)||!ce&&!be.includes(K))return;const se=function(){var Fe=(0,g.Z)(function*(Be,...pt){const Lt=this.transaction(Be,ce?"readwrite":"readonly");let Ot=Lt.store;return J&&(Ot=Ot.index(pt.shift())),(yield Promise.all([Ot[K](...pt),ce&&Lt.done]))[0]});return function(pt){return Fe.apply(this,arguments)}}();return Ge.set(W,se),se}!function De(ge){Se=ge(Se)}(ge=>({...ge,get:(W,K,J)=>je(W,K)||ge.get(W,K,J),has:(W,K)=>!!je(W,K)||ge.has(W,K)}))},5861:(yt,Ae,L)=>{function g(k,ie,ae,fe,de,ve,ye){try{var j=k[ve](ye),G=j.value}catch(Y){return void ae(Y)}j.done?ie(G):Promise.resolve(G).then(fe,de)}function te(k){return function(){var ie=this,ae=arguments;return new Promise(function(fe,de){var ve=k.apply(ie,ae);function ye(G){g(ve,fe,de,ye,j,"next",G)}function j(G){g(ve,fe,de,ye,j,"throw",G)}ye(void 0)})}}L.d(Ae,{Z:()=>te})}},yt=>{yt(yt.s=3278)}]);